<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[电梯项目分析]]></title>
    <url>%2F2019%2F11%2F01%2F%E7%94%B5%E6%A2%AF%E9%A1%B9%E7%9B%AE%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[电梯项目分析 1.需求分析 分析电梯传来的报警请求。 记录该报警请求 记录电梯传来语音，并且有上下级关系 危险确认完毕之后，将该报警发送给给电梯的维护人员。 维护人员可以有路线分析 2.实体 电梯（Elevator） 经度（longitude），纬度（latitude），名称（name），所属区域（area），备注信息（info） 电梯警报记录（ElevatorWarning） 警报图片（imageUrl），报警时间（warningTime），电梯（Elevator），电梯人数（peopleNumber） 语音（WarningVoice） 所属警报（ElevatorWarning），问题（question），回答（answer），上级问题ID（parentId） 维保人员（User） 区域（ElevatorArea） 区域名称（name），树结构 区域&gt;&gt;电梯&gt;&gt;电梯警报记录&gt;&gt;语音 3.菜单 首页 所有区域标识展示，如果有故障电梯为红色，没有则为绿色。红色靠前。 已记录下的智障电梯报警记录（已解决/为解决）,时间排序，未解决靠前。 电梯管理 电梯信息（/elevator/info）（增删查改） 区域管理（/elevator/area）（增删查改） 警报管理 报警记录（/warning/info）（增删查改） 语音记录（/warning/voice）（增删查改） 4.接口 电梯已经确认有危险，发送请求至服务器，创建警报记录。 /elevator/warning/create POST请求 请求参数： 1234567&#123; warningTime: "2019-10-20 17:33:00", elevator: &#123; id: "elevatorId" &#125;, peopleNumber: "10"&#125; 电梯的对话交流会发送请求给服务器，创建语音记录（创建的接口要有上级的ID参数和是否完结参数） /warning/voice/create/{parent:表示该语音为顶级节点，son:表示该语音为子级节点} POST请求 请求参数： 12345678&#123; elevatorWarning: &#123; id: "elevatorWarningId" &#125;, question: "问题字符串", answer: "答案字符串", parentId: "上一个问题的Id"&#125; 创建图片接口 /document POST请求 返回图片的地址和文件ID 图片警报绑定接口 /elevator/document?eid=xx&amp;did=xx GET请求 我挥舞着键盘和本子，发誓要把世界写个明明白白]]></content>
      <categories>
        <category>后端</category>
        <category>Spring框架</category>
      </categories>
      <tags>
        <tag>后端</tag>
        <tag>Spring框架</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux基于宝塔搭建Hexo博客]]></title>
    <url>%2F2019%2F10%2F28%2FLinux%E5%9F%BA%E4%BA%8E%E5%AE%9D%E5%A1%94%E6%90%AD%E5%BB%BAHexo%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[该搭建Halo博客过程基于宝塔面板之上，搭建Linux宝塔面板详情 ) 1.文件准备1.1.Jar包登录宝塔面板，基于宝塔面板的安装思想，我们在/www/目录下创建一个新的目录program专门用来装程序。 然后在/www/program/目录下创建halo_blog文件夹，用于Halo的相关安装。 终端进入该文件夹，下载Halo的jar包。 具体下载命令参考Halo官网安装教程 123cd /cd /www/program/halo_blog/wget http://halo.ryanc.cc/release/halo-latest.jar -O halo-latest.jar 1.2.配置文件考虑到部分用户的需要，可能需要自定义比如端口等设置项，我们提供了公共的配置文件，并且该配置文件是完全独立于安装包的。当然，你也可以使用安装包内的默认配置文件，但是安装包内的配置文件是不可修改的。请注意：配置文件的路径为 ~/.halo/application.yaml。 12# 下载配置文件到 ~/.halo 目录curl -o ~/.halo/application.yaml --create-dirs https://raw.githubusercontent.com/halo-dev/halo-common/master/application-template.yaml 1.3.创建数据库使用宝塔面板&gt;&gt;数据库&gt;&gt;添加数据库 这里将用户名和密码copy出来，后面配置文件需要用。 1.4.修该配置文件因为我们使用的是root用户，所以~/.halo/application.yaml，在/root/.halo/application.yaml 编辑修改如下： 12345678910111213141516171819202122232425server: port: 9999spring: datasource: type: com.zaxxer.hikari.HikariDataSource # H2 Database 配置，如果你需要使用 MySQL，请注释掉该配置并取消注释 MySQL 的配置。 # driver-class-name: org.h2.Driver # url: jdbc:h2:file:~/.halo/db/halo # username: admin # password: 123456 # MySQL 配置，如果你需要使用 H2Database，请注释掉该配置并取消注释上方 H2Database 的配置。 driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://127.0.0.1:3306/halodb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true username: 你的数据库账户 password: 你的数据库密码 # H2 Database 的控制台相关配置，如果你使用的是 MySQL ，请注释掉下方内容。 #h2: # console: #settings: # web-allow-others: false #path: /h2-console #enabled: false 2.Nginx代理因为我们的配置文件将Halo跑到了9999端口上，所以，我们要将我们的域名代理到该端口。 如果是宝塔面板默认安装的Nginx，那么我们要添加配置，只需要在/www/server/panel/vhost/nginx/创建配置文件即可。 因为宝塔面板默认安装的Nginx的配置文件如下： 先在/www/program/halo_blog/目录下创建一个文件夹nginx_log原来装Nginx生成的日志。 然后我们在/www/server/panel/vhost/nginx/目录下创建域名.conf文件 代码如下： 123456789server &#123; listen 80; server_name 域名.com www.域名.com; access_log /www/program/halo_blog/nginx_log/halo_blog.nginx.access.log combined; error_log /www/program/halo_blog/nginx_log/halo_blog.nginx.error.log; location / &#123; proxy_pass http://127.0.0.1:9999; &#125;&#125; 3.重启Nginx重启和重载配置都一样，挺快的，如果重载配置不行再重启。 4.执行Jar 终端进入到你下载jar包的地方，执行一下代码： 1java -jar halo-latest.jar &amp; 5.访问安装 我挥舞着键盘和本子，发誓要把世界写个明明白白]]></content>
      <categories>
        <category>后端</category>
        <category>Spring框架</category>
      </categories>
      <tags>
        <tag>后端</tag>
        <tag>Spring框架</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[服务器搭建和宝塔面板配置]]></title>
    <url>%2F2019%2F10%2F27%2F%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E5%92%8C%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[服务器搭建和宝塔面板配置。 1.连接服务器Windows下载了一个PuTTY，用来连接服务器。 安装完成之后，打开PuTTY，输入服务器的外网IP，点击Open即可。 至于一些询问的弹框，全部点是、保存选项既可。 输入root，和root的密码 Linux系统密码隐藏，输好回车即可 2.安装宝塔面板宝塔面板官网 宝塔面板官网教程 在PuTTY面板中输入安装指令即可 1yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh 这里看官网的，安装最新的宝塔面板，此处为6.0。 在PuTTY面板中右键为粘贴。 此处这个问题，键入y回车即可。等待安装完成。 安装完成之后记住红框中的东西（很重要）。 Bt-Panel：宝塔面板的登录链接，最后一个字符串是登录面板的验证，记住，不然进不去登录面板。 username：宝塔面板的登录账户 password：宝塔面板的登录密码 还有，开放以上端口的服务器安全组。 例子：8888/8888&gt;&gt;0.0.0.0/0 然后浏览器进入宝塔面板的登录链接即可。 3.安装环境第一次登录成功之后，要同意协议，然后进去。 3.1.推荐安装第一次进入宝塔，会让你安装推荐软件，这里选择LNMP和极速安装。等待安装完成即可。 极速安装：直接下载安装包安装，所有的安装参数都是软件默认的。 编译安装：先将安装包编译一遍，然后根据服务器的自身配置，自动设置软件的安装参数。（更适于生产环境，但差别也不大。如果你不嫌慢可以用这个） 公司一般不用PHP，所以不安装。 Nginx：端口代理，分压负载等的工具。 MySQL：数据库 Pure-Ftpd：Pure-Ftpd是一个FTP文件上传软件，不需要。直接使用宝塔上传。 PHP：PHP环境 phpMyAdmin：网页管理数据库工具，我装过，也没连接数据库成功，所以也不装。而且依赖PHP。 安装完成之后，将他们在宝塔首页显示。 3.2.修改服务器名称 3.3.Java安装首先先明确宝塔面板的安装目录。 宝塔将所有的软件和自身安装到了/www/目录之下。 Linux系统没有C:、D:盘之分。你可以理解为它就一个盘符，/就是它的根目录。/www/就是根目录下的一个www文件夹。 但是Linux也有用户之分，现在我们登录的账号就是root账户。每个用户都有自己的目录。 在Linux中用户目录===/usernmae(/root)===~。所以~就代表当前用户目录。 宝塔的安装思想是将环境软件装到了/www/server/目录下。 所以我们也在这装Java，新建一个java文件夹。 下载Linux版JDK，下载地址 将下载的JDK上传到java目录下解压即可。 设置环境变量 到/etc/profile文件下编辑 添加 1234export JAVA_HOME=/www/server/java/jdk1.8.0_231export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH 路径版本自行修改。 保存之后重新终端执行重载环境变量文件命令 1source /etc/profile 测试java 1java -version 以上JAVA安装成功。 4.端口开放如果你现在新建一个数据库你会发现用Navicat Premium是连接不上的。 因为你要开放你的服务器端口防火墙。 而且你创建的数据库要其他IP可以访问。 5.终端指令 这个按钮第一次进去要使用ssh账号密码登录，就是服务器的用户，这里使用root的账号密码即可。 5.1.当前位置5.1.1.返回上一级1cd .. 5.1.2.返回根目录1cd / 5.1.3.返回用户目录1cd ~ 5.1.4.进入指定目录12cd /cd /www/server/java/ 想知道下级目录有什么按Tab键即可，有下级目录提示。 5.2.清屏指令5.2.1.clear1clear 这个命令将会刷新屏幕，本质上只是让终端显示页向后翻了一页，如果向上滚动屏幕还可以看到之前的操作信息。一般都会用这个命令。 5.2.2.ctrl+l键盘Ctrl+L。 5.2.3.reset1reset 这个命令将完全刷新终端屏幕，之前的终端输入操作信息将都会被清空，这样虽然比较清爽，但整个命令过程速度有点慢，使用较少。 （自己测试和前面的命令作用是等价的，因为本来是想用这种方式的） 5.3.Java指令5.3.1.运行Jar包最常用的是 1nohup java -jar jar包名称.jar &gt;xx日志名称xx.log 2&gt;&amp;1 &amp; 例子： 1nohup java -jar com-fangshuoit-srcp-api-0.0.1-SNAPSHOT.jar &gt;srcpone-9980.log 2&gt;&amp;1 &amp; 5.3.1.1.普通运行1java -jar xxx.jar 直接用java -jar xxx.jar，当退出或关闭shell时，程序就会停止掉。 5.3.1.2.后台运行011234java -jar xxx.jar &amp; # 键入：ctrl+zbgexit 完成以上4步，退出SHELL后，jar服务一直在后台运行。 5.3.1.3.后台运行021nohup java -jar xxxx.jar &amp; 将java -jar xxxx.jar 加入 nohup &amp;中间，也可以实现。 5.3.2.查看进程1ps -ef | grep java 5.3.3.杀死进程1kill -9 端口号 5.4.MySQL指令详情 5.4.1.登录12mysql -u root -proot密码+回车 如果是其他数据库用户就用该用户名和密码登录 5.4.2.退出MySQL1exit(回车) 5.4.3.显示数据库1show databases 5.5.查看防火墙查看防火墙状态： 1sudo ufw status 我挥舞着键盘和本子，发誓要把世界写个明明白白]]></content>
      <categories>
        <category>后端</category>
        <category>Spring框架</category>
      </categories>
      <tags>
        <tag>后端</tag>
        <tag>Spring框架</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Windows搭建halo博客]]></title>
    <url>%2F2019%2F10%2F26%2FWindows%E6%90%AD%E5%BB%BAhalo%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[halo博客自嗨笔记。 1.文件准备先去Halo的GitHub官网下载最新的源代码。 解压之后修改配置。 2.修改配置使用自己的开发工具打开，这里使用IDEA。 修改src\main\resources下的配置文件： 因为我第一次试的时候只修改了application-dev.yaml，但是启动之后貌似没有成功。所以保险起见大家把所有的配置文件全部修改了吧（application.yaml、application-dev.yaml）。 123456789101112131415161718192021server: port: 9999# ...# H2 Database 配置# driver-class-name: org.h2.Driver# url: jdbc:h2:file:~/.halo/db/halo# username: admin# password: 123456 # MySQL 配置 driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://127.0.0.1:3306/halodb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true username: root password: yourpassword# h2:# console:# settings:# web-allow-others: false# path: /h2-console# enabled: false 由于公司做项目经常使用8090这类端口。自嗨的博客就放偏一点9999。 将h2数据库的配置全部注释掉。 数据库自己创建。方便起见我使用Navcat Premium。不用建表，Halo的Java配置中会自动建表。 3.编译Jar包 编译完成之后，在你的项目目录下就会有一个halo-版本号.jar的文件 4.Halo开机自启新建一个文件夹（此处为halo_blog），就像装软件一样。将这个jar放进去。 4.1.下载WinSW.NET到WinSW.NET的GitHub下载WinSW.NET WinSW.NET2.exe （适用于32位系统） WinSW.NET4.exe （适用于64位系统。我下载这个版本） 4.2.重命名JAR&amp;EXE然后把这个WinSW.NET4.exe文件放到你新建的文件夹下（此处为halo_blog）。将halo-版本号.jar文件的版本号去掉（即重命名halo.jar）。然后把WinWE.NET.exe文件也重命名为halo.exe。 4.3.创建XML再在这个文件夹下创建一个halo.txt，复制一下代码： 1234567891011&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;service&gt; &lt;id&gt;halo-blog&lt;/id&gt; &lt;name&gt;halo-blog&lt;/name&gt; &lt;description&gt;This is Halo-Blog forWindows Service&lt;/description&gt; &lt;executable&gt;java&lt;/executable&gt; &lt;arguments&gt;-jar "halo.jar"&lt;/arguments&gt; &lt;startmode&gt;Automatic&lt;/startmode&gt; &lt;logpath&gt;%BASE%\log&lt;/logpath&gt; &lt;logmode&gt;rotate&lt;/logmode&gt;&lt;/service&gt; 你要装好Java环境，并且配好环境变量。 然后再将这个halo.txt重命名为halo.xml文件。 4.4.安装WIN服务这个时候打开开始菜单，搜索CMD，右键以管理员身份运行。 进入刚才我们创建的文件夹，执行命令安装命令。123D:cd D:\Setup\halo_bloghalo.exe install 查看服务： 我的电脑&gt;&gt;管理&gt;&gt;服务和应用程序&gt;&gt;服务 这就不用管了，在halo.xml文件中的&lt;startmode&gt;Automatic&lt;/startmode&gt;设置的就是开机自动启动。所以等一下装完多有的重启就好了。 5.安装Nginx5.1.下载Nginx 官网：Nginx官网 下载一个最新的，我下载的是nginx-1.9.9.zip。 和安装软件一样，在新建一个文件夹放进去，然后解压。 5.2.修改配置在解压的文件夹内&gt;&gt;conf&gt;&gt;nginx.conf 在这个文件的最后一个花括号之前添加一行代码： 1include vhost/*.conf; 然后在这个conf文件夹下创建一个vhost文件夹。 在这个vhost文件夹下创建一个.conf的文件。 前缀随便起。这里我是要用nginx代理www.xiaoxin.com这个域名，所以我新建了一个xiaoxin.com.conf。当然，这个域名不是我的，我只是在本机代理。 在这个配置文件中添加一下代码： 123456789server &#123; listen 80; server_name xiaoxin.com www.xiaoxin.com; access_log D:/Setup/halo_blog/log/halo_blog.nginx.access.log combined; error_log D:/Setup/halo_blog/log/halo_blog.nginx.error.log; location / &#123; proxy_pass http://127.0.0.1:9999; &#125;&#125; 这里具体代码自己修改 server_name是你想要自嗨的域名（百度，阿里都行，只不过以后你的电脑代理之后，你就访问不到真正的域名了）。 access_log：nginx的代理日志，我把它指向到原来的安装halo的文件夹下去了，方便管理。 error_log：nginx的错误代理日志，同上。 proxy_pass：要代理的端口，因为咱们的博客跑在9999端口上。 6.Nginx开机启动其实和Halo的开机启动差不多。 下载一个WinSW.NET，放到你安装nginx的目录下。重命名为nginxservice.exe。 新建一个nginxservice.txt，填入代码： 1234567891011&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;service&gt; &lt;id&gt;nginx&lt;/id&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;description&gt;This is nginx for Windows Service&lt;/description&gt; &lt;executable&gt;D:\Setup\Nginx\nginx-1.9.9\nginx.exe&lt;/executable&gt; &lt;stopexecutable&gt;D:\Setup\Nginx\nginx-1.9.9\nginx.exe -s stop&lt;/stopexecutable&gt; &lt;startmode&gt;Automatic&lt;/startmode&gt; &lt;logpath&gt;D:\Setup\Nginx\nginx-1.9.9\logs&lt;/logpath&gt; &lt;logmode&gt;roll&lt;/logmode&gt;&lt;/service&gt; 根据自己的实际情况填代码。 重命名为：nginxservice.xml。 然后以管理员身份运行CMD，安装服务。 7. localhost添加代理找到Windows下的：C:\Windows\System32\drivers\etc\hosts。 在末尾添加 1127.0.0.1 www.xiaoxin.com 后面就是你的自嗨域名。然后有的同学可能会保存不了，因为修改这个文件要管理员身份。反正我拿Notepad++打开修改保存的。 这样重启电脑之后。用浏览器，访问你的自嗨域名www.xiaoxin.com。 开心的笑出声。 8.卸载Windows服务如果期间你装失败了？强迫症不爽之间遗落下的痕迹？。 卸载和安装一样。 8.1.卸载Halo 先进入我的电脑&gt;&gt;管理&gt;&gt;服务和应用程序&gt;&gt;服务，将Halo服务停下来。 以管理员身份进入到你安装halo的那个文件夹。执行一下代码： 1halo.exe uninstall 然后再删除整个halo文件夹就完事啦。当然数据库也可以重置。 8.2.卸载Nginx服务和上面一样，先停服务，然后在哪装的在哪卸载。 9.总结这样自嗨还是很爽的，哈哈。用了一些博客，hexo太麻烦，WordPress又不好看。看到halo之后大爱。而且还有nexT的主题。 可是倒腾了1天的服务器，花了1k多，也不知道有没有成功，最后用域名一访问，要我去备案。。。满头黑线。 所以，最后想到这一个办法，到时候服务器好了，应该把本地数据库备份一导入就可以了。]]></content>
  </entry>
  <entry>
    <title><![CDATA[课程项目]]></title>
    <url>%2F2019%2F05%2F08%2F%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[1.新建项目1.1配置JDK在pom.xml文件中修改 1234567&lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;!--&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;--&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;!--&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;--&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;/properties&gt; 1.2添加Tomcat1.3修改渲染模板参考博客 先将原来的web.xml文件删除 在添加时选择3.1版本 修改web.xml，重新添加一个 12345678&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;&lt;/web-app&gt; 1.4配置默认启动路径修改web.xml 123456789101112&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;/welcome-file-list&gt;&lt;/web-app&gt; 这样项目访问&lt;http://localhost:8080/&gt;后就会优先访问index.jsp之后访问index.html 两个都不存在就会报错404 1.5运行项目 访问&lt;http://localhost:8080/&gt; 访问&lt;http://localhost:8080/index.jsp&gt; 2.实体类设计 2.1区域实体类 2.1.1实体类在java文件夹下创建com.xiaoxin.o2o.entity包 创建Area类 123456789101112131415161718package com.xiaoxin.o2o.entity;import java.util.Date;public class Area &#123; // ↓ID private Integer areaId; // ↓名称 private String areaName; // ↓权重 private Integer priority; // ↓创建时间 private Date createTime; // ↓修改时间 private Date lastEditTime; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.1.2数据库在Navicat Premium中创建o2o数据库，字符集采用utf8 -- UTF-8 Unicode，排序规则utf8_unicode_ci 然后创建 12345678910DROP TABLE IF EXISTS `tb_area`;CREATE TABLE `tb_area` ( `area_id` int(2) NOT NULL AUTO_INCREMENT, `area_name` varchar(200) COLLATE utf8_unicode_ci NOT NULL, `priority` int(2) NOT NULL DEFAULT '0', `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, PRIMARY KEY (`area_id`), UNIQUE KEY `UK_AREA` (`area_name`)) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci; 测试 12INSERT INTO `tb_area` (`area_name`, `create_time`, `last_edit_time`) VALUES ('xiaoxin', '2019-05-04 21:40:57', '2019-05-04 21:40:59')DELETE FROM `tb_area` WHERE (`area_id`='1') 2.2用户实体类 2.2.1实体类123456789101112131415161718192021222324252627package com.xiaoxin.o2o.entity;import java.util.Date;public class PersonInfo &#123; // ↓用户ID private Long userId; // ↓用户名 private String name; // ↓头像地址 private String profileImg; // ↓邮箱 private String email; // ↓性别 private String gender; // ↓禁用状态 private Integer enableStatus; // ↓1.顾客 2.店家 3.超级管理员 private Integer userType; // ↓创建时间 private Date createTime; // ↓修改时间 private Date lastEditTime; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.2.2数据库12345678910111213DROP TABLE IF EXISTS `tb_person_info`;CREATE TABLE `tb_person_info` ( `user_id` int(10) NOT NULL AUTO_INCREMENT, `name` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL, `profile_img` varchar(1024) COLLATE utf8_unicode_ci DEFAULT NULL, `email` varchar(1024) COLLATE utf8_unicode_ci DEFAULT NULL, `gender` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL, `enable_status` int(2) NOT NULL DEFAULT '0' COMMENT '0:禁止使用，1：可以使用', `user_type` int(2) NOT NULL DEFAULT '1' COMMENT '1.顾客,2.店家,3.超级管理员', `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, PRIMARY KEY (`user_id`)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci; 2.3微信&amp;本地账号 这是两个实体类 2.3.1微信实体类12345678910111213141516package com.xiaoxin.o2o.entity;import java.util.Date;public class WechatAuth &#123; // ↓本身ID private Long wechatAuthId; // ↓微信号和公众号绑定的唯一标识 private String openId; // ↓创建时间 private Date createTime; // ↓关联用户信息ID private PersonInfo personInfo; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.3.2本地账号实体类1234567891011121314151617181920package com.xiaoxin.o2o.entity;import java.util.Date;public class LocalAuth &#123; // ↓本身ID private Long localAuthId; // ↓用户名 private String username; // ↓密码 private String password; // ↓创建时间 private Date createTime; // ↓修改时间 private Date lastEditTime; // ↓关联用户信息ID private PersonInfo personInfo; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.3.3微信号数据库12345678910DROP TABLE IF EXISTS `tb_wechat_auth`;CREATE TABLE `tb_wechat_auth` ( `wechat_auth_id` INT (10) NOT NULL AUTO_INCREMENT, `user_id` INT (10) NOT NULL, `open_id` VARCHAR (1024) NOT NULL, `create_time` datetime DEFAULT NULL, PRIMARY KEY (`wechat_auth_id`), CONSTRAINT `fk_wechatauth_profile` FOREIGN KEY (`user_id`) REFERENCES `tb_person_info` (`user_id`)) ENGINE = INNODB AUTO_INCREMENT=1 DEFAULT CHARSET = utf8 COLLATE = utf8_unicode_ci;ALTER TABLE tb_wechat_auth ADD UNIQUE INDEX(open_id); 2.3.4本地号数据库123456789101112DROP TABLE IF EXISTS `tb_local_auth`;CREATE TABLE `tb_local_auth` ( `local_auth_id` INT (10) NOT NULL AUTO_INCREMENT, `user_id` INT (10) NOT NULL, `username` VARCHAR (128) NOT NULL, `password` VARCHAR (128) NOT NULL, `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, PRIMARY KEY (`local_auth_id`), UNIQUE KEY `uk_local_profile` (`username`), CONSTRAINT `fk_localauth_profile` FOREIGN KEY (`user_id`) REFERENCES `tb_person_info` (`user_id`)) ENGINE = INNODB AUTO_INCREMENT=1 DEFAULT CHARSET = utf8 COLLATE = utf8_unicode_ci; 2.4头条实体类 2.4.1头条实体类123456789101112131415161718192021222324package com.xiaoxin.o2o.entity;import java.util.Date;public class HeadLine &#123; // ↓头条ID private Long lineId; // ↓头条名称 private String lineName; // ↓头条链接 private String lineLink; // ↓头条图片 private String lineImg; // ↓优先级 private Integer priority; // ↓0.不可用 1.可用 private Integer enableStatus; // ↓创建时间 private Date createTime; // ↓修改时间 private Date lastEditTime; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.4.2头条数据库12345678910111213DROP TABLE IF EXISTS `tb_head_line`;CREATE TABLE `tb_head_line` ( `line_id` int(100) NOT NULL AUTO_INCREMENT, `line_name` varchar(1000) DEFAULT NULL, `line_link` varchar(2000) NOT NULL, `line_img` varchar(2000) NOT NULL, `priority` int(2) DEFAULT NULL, `enable_status` int(2) NOT NULL DEFAULT '0', `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, PRIMARY KEY (`line_id`)) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8 COLLATE = utf8_unicode_ci; 2.5店铺类别实体类 2.5.1店铺实体类123456789101112131415161718192021222324package com.xiaoxin.o2o.entity;import java.util.Date;public class ShopCategory &#123; // 主键ID private Long shopCategoryId; // 类别名 private String shopCategoryName; // 类别描述 private String shopCategoryDesc; // 类别图片地址(针对一级类别) private String shopCategoryImg; // 权重，越大越排前显示 private Integer priority; // 创建时间 private Date createTime; // 最近的更新时间 private Date lastEditTime; // 父类别 private ShopCategory parent; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.5.2店铺类别数据库123456789101112131415DROP TABLE IF EXISTS `tb_shop_category`;CREATE TABLE `tb_shop_category` ( `shop_category_id` int(11) NOT NULL AUTO_INCREMENT, `shop_category_name` varchar(100) NOT NULL DEFAULT '', `shop_category_desc` varchar(1000) DEFAULT '', `shop_category_img` varchar(2000) DEFAULT NULL, `priority` int(2) NOT NULL DEFAULT '0', `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, `parent_id` int(11) DEFAULT NULL, PRIMARY KEY (`shop_category_id`), KEY `fk_shop_category_self` (`parent_id`), CONSTRAINT `fk_shop_category_self` FOREIGN KEY (`parent_id`) REFERENCES `tb_shop_category` (`shop_category_id`)) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=utf8 COLLATE = utf8_unicode_ci; 2.6店铺实体类 2.6.1店铺实体类123456789101112131415161718192021222324252627282930313233343536package com.xiaoxin.o2o.entity;import java.util.Date;public class Shop &#123; // 主键ID private Long shopId; // 店铺名称 private String shopName; // 店铺简介 private String shopDesc; // 店铺地址 private String shopAddr; // 店铺号码 private String phone; // 店铺门面图片地址 private String shopImg; // 权重，越大越排前显示 private Integer priority; // 创建时间 private Date createTime; // 最近一次更新的时间 private Date lastEditTime; // -1.不可用 0.审核中 1.可用 private Integer enableStatus; // 超级管理员给店家的提醒，包括为什么审核不通过等 private String advice; // 店铺所属区域 private Area area; // 店铺是属于哪个店家的 private PersonInfo owner; // 店铺类别 private ShopCategory shopCategory; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.6.2店铺数据库三个外键 12345678910111213141516171819202122232425DROP TABLE IF EXISTS `tb_shop`;CREATE TABLE `tb_shop` ( `shop_id` int(10) NOT NULL AUTO_INCREMENT, `owner_id` int(10) NOT NULL COMMENT '店铺创建人', `area_id` int(5) DEFAULT NULL, `shop_category_id` int(11) DEFAULT NULL, `shop_name` varchar(256) NOT NULL, `shop_desc` varchar(1024) DEFAULT NULL, `shop_addr` varchar(200) DEFAULT NULL, `phone` varchar(128) DEFAULT NULL, `shop_img` varchar(1024) DEFAULT NULL, `priority` int(3) DEFAULT '0', `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, `enable_status` int(2) NOT NULL DEFAULT '0', `advice` varchar(255) DEFAULT NULL, PRIMARY KEY (`shop_id`), KEY `fk_shop_area` (`area_id`), KEY `fk_shop_profile` (`owner_id`), KEY `fk_shop_shopcate` (`shop_category_id`), CONSTRAINT `fk_shop_area` FOREIGN KEY (`area_id`) REFERENCES `tb_area` (`area_id`), CONSTRAINT `fk_shop_profile` FOREIGN KEY (`owner_id`) REFERENCES `tb_person_info` (`user_id`), CONSTRAINT `fk_shop_shopcate` FOREIGN KEY (`shop_category_id`) REFERENCES `tb_shop_category` (`shop_category_id`)) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=utf8 COLLATE = utf8_unicode_ci; 2.7商品类别实体类2.7.1实体类123456789101112131415161718package com.xiaoxin.o2o.entity;import java.util.Date;public class ProductCategory &#123; // 主键ID private Long productCategoryId; // 该类别是属于哪个店铺的 private Long shopId; // 类别名 private String productCategoryName; // 权重，越大越排前显示 private Integer priority; // 创建时间 private Date createTime; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.7.2数据库123456789101112DROP TABLE IF EXISTS `tb_product_category`;CREATE TABLE `tb_product_category` ( `product_category_id` int(11) NOT NULL AUTO_INCREMENT, `product_category_name` varchar(100) NOT NULL, `priority` int(2) DEFAULT '0', `create_time` datetime DEFAULT NULL, `shop_id` int(20) NOT NULL DEFAULT '0', PRIMARY KEY (`product_category_id`), KEY `fk_procate_shop` (`shop_id`), CONSTRAINT `fk_procate_shop` FOREIGN KEY (`shop_id`) REFERENCES `tb_shop` (`shop_id`)) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8 COLLATE = utf8_unicode_ci; 2.8商品实体类 2.8.1实体类1234567891011121314151617181920212223242526272829303132333435363738package com.xiaoxin.o2o.entity;import java.util.Date;import java.util.List;public class Product &#123; // 主键ID private Long productId; // 商品名 private String productName; // 商品简介 private String productDesc; // 简略图 private String imgAddr; // 原价 private String normalPrice; // 现价(推广价格) private String promotionPrice; // 权重，越大越排前显示 private Integer priority; // 商品积分 private Integer point; // 创建时间 private Date createTime; // 最近一次的更新时间 private Date lastEditTime; // 0.下架 1.在前端展示系统展示 private Integer enableStatus; // 图片详情图列表，跟商品是多对一的关系 private List&lt;ProductImg&gt; productImgList; // 商品类别，一件商品仅属于一个商品类别 private ProductCategory productCategory; // 店铺实体类，标明商品属于哪个店铺 private Shop shop; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.8.2数据库123456789101112131415161718192021DROP TABLE IF EXISTS `tb_product`;CREATE TABLE `tb_product` ( `product_id` int(100) NOT NULL AUTO_INCREMENT, `product_name` varchar(100) NOT NULL, `product_desc` varchar(2000) DEFAULT NULL, `img_addr` varchar(2000) DEFAULT '', `normal_price` varchar(100) DEFAULT NULL, `promotion_price` varchar(100) DEFAULT NULL, `priority` int(2) NOT NULL DEFAULT '0', `create_time` datetime DEFAULT NULL, `last_edit_time` datetime DEFAULT NULL, `enable_status` int(2) NOT NULL DEFAULT '0', `product_category_id` int(11) DEFAULT NULL, `shop_id` int(20) NOT NULL DEFAULT '0', PRIMARY KEY (`product_id`), KEY `fk_product_procate` (`product_category_id`), KEY `fk_product_shop` (`shop_id`), CONSTRAINT `fk_product_procate` FOREIGN KEY (`product_category_id`) REFERENCES `tb_product_category` (`product_category_id`), CONSTRAINT `fk_product_shop` FOREIGN KEY (`shop_id`) REFERENCES `tb_shop` (`shop_id`)) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=utf8 COLLATE = utf8_unicode_ci; 2.9详情图片2.9.1实体类1234567891011121314151617181920package com.xiaoxin.o2o.entity;import java.util.Date;public class ProductImg &#123; // 主键ID private Long productImgId; // 图片地址 private String imgAddr; // 图片简介 private String imgDesc; // 权重，越大越排前显示 private Integer priority; // 创建时间 private Date createTime; // 标明是属于哪个商品的图片 private Long productId; // get &amp; set &amp; toString方法 &amp; 无参构造方法 &amp; 有参构造方法&#125; 2.9.2数据库12345678910111213DROP TABLE IF EXISTS `tb_product_img`;CREATE TABLE `tb_product_img` ( `product_img_id` int(20) NOT NULL AUTO_INCREMENT, `img_addr` varchar(2000) NOT NULL, `img_desc` varchar(2000) DEFAULT NULL, `priority` int(2) DEFAULT '0', `create_time` datetime DEFAULT NULL, `product_id` int(20) DEFAULT NULL, PRIMARY KEY (`product_img_id`), KEY `fk_proimg_product` (`product_id`), CONSTRAINT `fk_proimg_product` FOREIGN KEY (`product_id`) REFERENCES `tb_product` (`product_id`)) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COLLATE = utf8_unicode_ci; 3.配置Maven3.1文件概述 src\main\java-&gt;源代码 src\main\java\entity-&gt;实体类 src\main\java\web-&gt;控制层 src\main\java\service-&gt;服务层 src\main\java\service\impl-&gt;服务层接口实现类 src\main\java\dao-&gt;访问数据库层 src\main\java\dto-&gt;entity的再封装 src\main\java\enums-&gt;枚举类 src\main\java\interceptor-&gt;拦截器 src\main\java\util-&gt;工具类 src\resources-&gt;项目用的资源文件，各种spring、mybatis、日志的配置文件 src\resources\spring-&gt;spring相关配置信息 src\resources\mapper-&gt;存放dao中每个实体对应的sql，实现dao接口的逻辑 src\test\java-&gt;单元测试代码 src\test\resources-&gt;单元测试用的配置文件 src\main\webapp-&gt;存放前端的静态资源 src\main\webapp\resources-&gt;js、css等资源 src\main\webapp\WEB-INF-&gt;外部浏览器不能访问到此文件夹的 src\main\webapp\WEB-INF\web.xml-&gt;初始化配置信息 src\main\webapp\index.jsp-&gt; target-&gt;项目编译后的class文件 3.2引入文件jar包123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144&lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;!--&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;--&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;!--&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;--&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;spring.version&gt;4.3.7.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--单元测试--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;!-- 这个版本很重要 --&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!--日志--&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt; &lt;!--默认是compile环境,我们将此依赖使用在compile中--&gt; &lt;/dependency&gt; &lt;!-- Spring --&gt; &lt;!-- 1)包含Spring 框架基本的核心工具类。Spring 其它组件要都要使用到这个包里的类，是其它组件的基本核心 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2)这个jar 文件是所有应用都要用到的，它包含访问配置文件、创建和管理bean 以及进行Inversion of Control / Dependency Injection（IoC/DI）操作相关的所有类。如果应用只需基本的IoC/DI 支持，引入spring-core.jar 及spring-beans.jar 文件就可以了。 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3)这个jar 文件为Spring 核心提供了大量扩展。可以找到使用Spring ApplicationContext特性时所需的全部类，JDNI 所需的全部类，instrumentation组件以及校验Validation 方面的相关类。 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4) 这个jar 文件包含对Spring 对JDBC 数据访问进行封装的所有类。 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 5) 为JDBC、Hibernate、JDO、JPA等提供的一致的声明式和编程式事务管理。 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 6)Spring web 包含Web应用开发时，用到Spring框架时所需的核心类，包括自动载入WebApplicationContext特性的类、Struts与JSF集成类、文件上传的支持类、Filter类和大量工具辅助类。 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 7)包含SpringMVC框架相关的所有类。 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 8)Spring test 对JUNIT等测试框架的简单封装 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- Servlet web --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- json解析 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Map工具类 对标准java Collection的扩展 spring-core.jar需commons-collections.jar --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- DAO: MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 数据库 --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.13&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 图片处理 --&gt; &lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt; &lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.8&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/com.github.penggle/kaptcha --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- redis客户端:Jedis --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 4.项目配置文件4.1数据库配置在src\resources下创建jdbc.properties文件 12345678#jdbc.driver=com.mysql.jdbc.Driverjdbc.driver=com.mysql.cj.jdbc.Driver#useUnicode因为要存储中文jdbc.url=jdbc:mysql://127.0.0.1:3306/o2o?useUnicode=true&amp;characterEncoding=utf8#jdbc.slave.url=jdbc:mysql://127.0.0.1:3306/o2o?useUnicode=true&amp;characterEncoding=utf8#jdbc.master.url=jdbc:mysql://120.24.64.163:3306/o2o?useUnicode=true&amp;characterEncoding=utf8jdbc.username=rootjdbc.password=xiaoxin 4.2Mybatis配置在src\resources下创建mybatis-config.xml文件 1234567891011121314151617&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- 配置全局属性 --&gt; &lt;settings&gt; &lt;!-- 使用jdbc的getGeneratedKeys获取数据库自增主键值 --&gt; &lt;setting name="useGeneratedKeys" value="true" /&gt; &lt;!-- 使用列标签(数据库中字段名)替换列别名(查询语句给字段自定义的名称) 默认:true --&gt; &lt;setting name="useColumnLabel" value="true" /&gt; &lt;!-- 开启驼峰命名转换:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true" /&gt; &lt;/settings&gt;&lt;/configuration&gt; 4.3Spring配置文件4.3.1Spring-dao在src\resources\spring下创建spring-dao.xml文件 40 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- 配置整合mybatis过程 --&gt; &lt;!-- 1.配置数据库相关参数properties的属性：$&#123;url&#125; --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; &lt;!-- 2.数据库连接池 --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;!-- c3p0连接池的私有属性 --&gt; &lt;property name="maxPoolSize" value="30" /&gt; &lt;property name="minPoolSize" value="10" /&gt; &lt;!-- 关闭连接后不自动commit --&gt; &lt;property name="autoCommitOnClose" value="false" /&gt; &lt;!-- 获取连接超时时间 --&gt; &lt;property name="checkoutTimeout" value="10000" /&gt; &lt;!-- 当获取连接失败重试次数 --&gt; &lt;property name="acquireRetryAttempts" value="2" /&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;/bean&gt; &lt;!-- 3.配置SqlSessionFactory对象 --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- 注入数据库连接池 --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- 配置MyBaties全局配置文件:mybatis-config.xml --&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml" /&gt; &lt;!-- 扫描entity包 使用别名 --&gt; &lt;property name="typeAliasesPackage" value="com.xiaoxin.entity" /&gt; &lt;!-- 扫描sql配置文件:mapper需要的xml文件 --&gt; &lt;property name="mapperLocations" value="classpath:mapper/*.xml" /&gt; &lt;/bean&gt; &lt;!-- 4.配置扫描Dao接口包，动态实现Dao接口，注入到spring容器中 --&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;!-- 注入sqlSessionFactory --&gt; &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory" /&gt; &lt;!-- 给出需要扫描Dao接口包 --&gt; &lt;property name="basePackage" value="com.xiaoxin.o2o.dao" /&gt; &lt;/bean&gt;&lt;/beans&gt; 4.3.2Spring-service在src\resources\spring下创建spring-service.xml文件 (19行再修改web.xml之后就好了) 123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- 扫描service包下所有使用注解的类型 --&gt; &lt;context:component-scan base-package="com.xiaoxin.o2o.service" /&gt; &lt;!-- 配置事务管理器 --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;!-- 注入数据库连接池 --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;/bean&gt; &lt;!-- 配置基于注解的声明式事务 --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" /&gt;&lt;/beans&gt; 4.3.3Spring-web12345678910111213141516171819202122232425262728&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd"&gt; &lt;!-- 配置SpringMVC --&gt; &lt;!-- 1.开启SpringMVC注解模式 --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.静态资源默认servlet配置 (1)加入对静态资源的处理：js,gif,png (2)允许使用"/"做整体映射 --&gt; &lt;mvc:resources mapping="/resources/**" location="/resources/" /&gt; &lt;mvc:default-servlet-handler /&gt; &lt;!-- 3.定义视图解析器 --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/WEB-INF/html/"&gt;&lt;/property&gt; &lt;property name="suffix" value=".html"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- 4.扫描web相关的bean --&gt; &lt;context:component-scan base-package="com.xiaoxin.o2o.web" /&gt;&lt;/beans&gt; 4.3.4修改web.xml12345678910111213141516171819202122232425&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;servlet&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;!-- 默认匹配所有的请求 --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 5.验证Dao层5.1添加AreaDao接口在dao包下创建AreaDao接口 1234567891011121314package com.xiaoxin.o2o.dao;import com.xiaoxin.o2o.entity.Area;import java.util.List;public interface AreaDao &#123; /** * 列出区域列表 * * @return areaList */ List&lt;Area&gt; queryArea();&#125; 5.2添加AreaDao.xml在src\resources\mapper下创建AreaDao.xml文件 12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.xiaoxin.o2o.dao.AreaDao"&gt; &lt;select id="queryArea" resultType="com.xiaoxin.o2o.entity.Area"&gt; SELECT area_id, area_name, priority, create_time, last_edit_time FROM tb_area ORDER BY priority DESC &lt;/select&gt;&lt;/mapper&gt; 5.3添加测试类5.3.1创建BaseTest在test\java下创建com.xiaoxin.o2o包，在这个包下面创建BaseTest.java 123456789101112131415package com.xiaoxin.o2o;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;/** * 2019/5/5 * 配置spring和junit整合，junit启动时加载springIOC容器 */@RunWith(SpringJUnit4ClassRunner.class)// 告诉junit spring配置文件的位置@ContextConfiguration(&#123;"classpath:spring/spring-dao.xml"&#125;)public class BaseTest &#123;&#125; 5.3.2创建AreaDaoTest在src\test\java\com.xiaoxin.o2o下创建dao包，在包下创建AreaDaoTest.java 123456789101112131415161718192021package com.xiaoxin.o2o.dao;import static org.junit.Assert.assertEquals;import com.xiaoxin.o2o.BaseTest;import com.xiaoxin.o2o.entity.Area;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import java.util.List;public class AreaDaoTest extends BaseTest &#123; @Autowired private AreaDao areaDao; @Test public void testQueryArea() &#123; List&lt;Area&gt; areaList = areaDao.queryArea(); assertEquals(2, areaList.size()); &#125;&#125; 5.3.3创建测试数据在Navicat Premium中的tb_area表中创建两条数据 12INSERT INTO `tb_area` (`area_name`, `priority`) VALUES ('东苑', '2');INSERT INTO `tb_area` (`area_name`, `priority`) VALUES ('西苑', '1'); 5.3.4报错处理 第一个错误：junit的版本很重要4.12 在连接数据库的时候又报时区错误，修改resources文件夹下的jdbc.properties文件中的连接数据库的链接 1jdbc.url=jdbc:mysql://127.0.0.1:3306/o2o?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;serverTimezone=UTC 6.验证service层6.1AreaService6.1.1接口在service包中创建AreaService接口 12345678910111213141516package com.xiaoxin.o2o.service;import com.xiaoxin.o2o.entity.Area;import java.util.List;public interface AreaService &#123; public static final String AREALISTKEY = "arealist"; /** * 获取区域列表，优先从缓存获取 * * @return */ List&lt;Area&gt; getAreaList();&#125; 6.1.2实现类在service\impl包下创建AreaServiceImpl.java文件 123456789101112131415161718192021package com.xiaoxin.o2o.service.impl;import com.xiaoxin.o2o.dao.AreaDao;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.service.AreaService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;@Servicepublic class AreaServiceImpl implements AreaService &#123; @Autowired private AreaDao areaDao; @Override public List&lt;Area&gt; getAreaList() &#123; return areaDao.queryArea(); &#125;&#125; 6.2测试6.2.1修改BaseTest因为要测试service层，所以BaseTest要添加一个扫描，扫描到service层 1234567891011121314package com.xiaoxin.o2o;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;/** * 配置spring和junit整合，junit启动时加载springIOC容器 */@RunWith(SpringJUnit4ClassRunner.class)// 告诉junit spring配置文件的位置@ContextConfiguration(&#123;"classpath:spring/spring-dao.xml","classpath:spring/spring-service.xml"&#125;)public class BaseTest &#123;&#125; 6.2.2创建测试代码创建service测试包，然后创建AreaServiceTest.java测试类 12345678910111213141516171819202122package com.xiaoxin.o2o.service;import com.xiaoxin.o2o.BaseTest;import com.xiaoxin.o2o.entity.Area;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import java.util.List;import static org.junit.Assert.assertEquals;public class AreaServiceTest extends BaseTest &#123; @Autowired private AreaService areaService; @Test public void testGetAreaList()&#123; List&lt;Area&gt; areaList = areaService.getAreaList(); assertEquals("东苑",areaList.get(0).getAreaName()); &#125;&#125; 7.验证Controller层在web包下创建superadmin包，在包下创建AreaController 7.1创建AreaController12345678910111213141516171819202122232425262728293031323334353637383940package com.xiaoxin.o2o.web.superadmin;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.service.AreaService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;@Controller@RequestMapping("/superadmin")public class AreaController &#123; @Autowired private AreaService areaService; @RequestMapping(value = "/listarea", method = RequestMethod.GET) // ↓这个标签标识自动将返回值转换为json格式 @ResponseBody private Map&lt;String, Object&gt; listArea() &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); List&lt;Area&gt; list = new ArrayList&lt;Area&gt;(); try &#123; list = areaService.getAreaList(); modelMap.put("rows", list); modelMap.put("total", list.size()); &#125; catch (Exception e) &#123; e.printStackTrace(); modelMap.put("success", false); modelMap.put("errMsg", e.toString()); &#125; return modelMap; &#125;&#125; 7.2验证启动Tomcat之后，在浏览器里面输入项目对应接口&lt;http://localhost:8080/superadmin/listarea&gt; 返回对应json数据 8.日志管理Logback日志配置 8.1Logback的主要模块 logback-access-&gt;与service容器集成，提供访问HTTP的日志功能，第三放软件可以通过这个模块访问到日志 logback-classic-&gt;log4j的改良版本 logback-core-&gt;这个模块为前两个模块提供了基础服务 8.2Logback主要标签 logger-&gt;作为日志的记录器，主要用来存放日志对象，也可用定义日志的类型和级别 appender-&gt;指定日志的输出目的地，输出的媒介，可以是控制台、可以是文件、可以是远程字节服务器等 layout-&gt;格式化日志系统的输出的 8.3配置logback8.3.1创建logback.xml在src\main\resources下创建logback.xml文件 当然，如果不配置，那么logback又自己的默认配置，然后往控制台输出日志 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration scan="true" scanPeriod="60 seconds" debug="false"&gt; &lt;!-- 定义参数常量 --&gt; &lt;!-- TRACE&lt;DEBUG&lt;INFO&lt;WARN&lt;ERROR --&gt; &lt;!-- logger.trace("msg") logger.debug... --&gt; &lt;property name="log.level" value="debug"/&gt; &lt;property name="log.maxHistory" value="30"/&gt; &lt;property name="log.filePath" value="$&#123;catalina.base&#125;/logs/webapps"/&gt; &lt;property name="log.pattern" value="%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n"/&gt; &lt;!-- 控制台设置 --&gt; &lt;appender name="consoleAppender" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;encoder&gt; &lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- DEBUG --&gt; &lt;appender name="debugAppender" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!-- 文件路径 --&gt; &lt;file&gt;$&#123;log.filePath&#125;/debug.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!-- 文件名称 --&gt; &lt;fileNamePattern&gt;$&#123;log.filePath&#125;/debug/debug.%d&#123;yyyy-MM-dd&#125;.log.gz &lt;/fileNamePattern&gt; &lt;!-- 文件最大保存历史数量 --&gt; &lt;maxHistory&gt;$&#123;log.maxHistory&#125;&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;DEBUG&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;!-- INFO --&gt; &lt;appender name="infoAppender" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!-- 文件路径 --&gt; &lt;file&gt;$&#123;log.filePath&#125;/info.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!-- 文件名称 --&gt; &lt;fileNamePattern&gt;$&#123;log.filePath&#125;/info/info.%d&#123;yyyy-MM-dd&#125;.log.gz &lt;/fileNamePattern&gt; &lt;!-- 文件最大保存历史数量 --&gt; &lt;maxHistory&gt;$&#123;log.maxHistory&#125;&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;INFO&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;!-- ERROR --&gt; &lt;appender name="errorAppender" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!-- 文件路径 --&gt; &lt;file&gt;$&#123;log.filePath&#125;/erorr.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!-- 文件名称 --&gt; &lt;fileNamePattern&gt;$&#123;log.filePath&#125;/error/error.%d&#123;yyyy-MM-dd&#125;.log.gz &lt;/fileNamePattern&gt; &lt;!-- 文件最大保存历史数量 --&gt; &lt;maxHistory&gt;$&#123;log.maxHistory&#125;&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;logger name="com.xiaoxin.o2o" level="$&#123;log.level&#125;" additivity="true"&gt; &lt;appender-ref ref="debugAppender"/&gt; &lt;appender-ref ref="infoAppender"/&gt; &lt;appender-ref ref="errorAppender"/&gt; &lt;/logger&gt; &lt;root level="info"&gt; &lt;appender-ref ref="consoleAppender"/&gt; &lt;/root&gt;&lt;/configuration&gt; 这个配置会将一定的日志分类保存为文件 8.3.2验证配置一般会在Controller层、service层打印日志的信息 修改AreaController.java类 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package com.xiaoxin.o2o.web.superadmin;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.service.AreaService;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;@Controller@RequestMapping("/superadmin")public class AreaController &#123; Logger logger = LoggerFactory.getLogger(AreaController.class); @Autowired private AreaService areaService; @RequestMapping(value = "/listarea", method = RequestMethod.GET) // ↓这个标签标识自动将返回值转换为json格式 @ResponseBody private Map&lt;String, Object&gt; listArea() &#123; logger.info("===start==="); long startTime = System.currentTimeMillis(); Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); List&lt;Area&gt; list = new ArrayList&lt;Area&gt;(); try &#123; list = areaService.getAreaList(); modelMap.put("rows", list); modelMap.put("total", list.size()); &#125; catch (Exception e) &#123; e.printStackTrace(); modelMap.put("success", false); modelMap.put("errMsg", e.toString()); &#125; logger.error("test error!"); long endTime = System.currentTimeMillis(); logger.debug("costTime:[&#123;&#125;ms]", endTime - startTime); logger.info("===end==="); return modelMap; &#125;&#125; 访问的时候并没有生成日志文件，不知道怎么回事 9.店铺管理系统9.1店铺创建9.1.1创建ShopDao在dao包中创建ShopDao接口 123456789101112package com.xiaoxin.o2o.dao;import com.xiaoxin.o2o.entity.Shop;public interface ShopDao &#123; /** * 新增店铺 * @param shop * @return */ int insertShop(Shop shop);&#125; 9.1.2创建ShopDao.xml在src\resources\mapper包下创建ShopDao.xml文件 12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.xiaoxin.o2o.dao.ShopDao"&gt; &lt;insert id="insertShop" useGeneratedKeys="true" keyColumn="shop_id" keyProperty="shopId"&gt; INSERT INTO tb_shop(owner_id, area_id, shop_category_id, shop_name, shop_desc, shop_addr, phone, shop_img, priority, create_time, last_edit_time, enable_status, advice) VALUES (#&#123;owner.userId&#125;,#&#123;area.areaId&#125;,#&#123;shopCategory.shopCategoryId&#125;,#&#123;shopName&#125;, #&#123;shopDesc&#125;,#&#123;shopAddr&#125;,#&#123;phone&#125;,#&#123;shopImg&#125;,#&#123;priority&#125;, #&#123;createTime&#125;,#&#123;lastEditTime&#125;, #&#123;enableStatus&#125;,#&#123;advice&#125;) &lt;/insert&gt;&lt;/mapper&gt; 属性理解 useGeneratedKeys useGeneratedKeys=&quot;true&quot;在mybatis-config.xml中有这么一段 12&lt;!-- 使用jdbc的getGeneratedKeys获取数据库自增主键值 --&gt;&lt;setting name="useGeneratedKeys" value="true" /&gt; 那么在这里将这个属性设置为true之后，一但数据添加成功，我们就会通过jdbc获取主键的值，然后将它插入到获取的实体类中，因为当我们注册店铺的信息时，同时也要存储店铺的图片。我们要将这个店铺的图片存储在属于这个店铺的目录下。那么这导致了每个店铺的目录是不相同的，我们需要使用店铺的主键来区分目录，所以在存储图片的时候，需要使用店铺的主键。 keyColumn 设置主键,但是这里的值是数据库里的内容。 keyProperty 设置主键，这里是实体类中的写法 注意 因为这个实体它有三个外键，owner所属人、area所属地区、shopCategory店铺类别。 所以我们要先在数据库里面添加对应的外键。 在上面的sql语句中#{owner.userId}的执行会获取PersonInfo的getUserId方法。从而获取对应的id存到数据库中。 添加外键实体 12INSERT INTO `tb_person_info` (`name`, `profile_img`, `email`, `gender`, `enable_status`, `user_type`) VALUES ('小英', 'test', 'test', '1', '1', '2')INSERT INTO `tb_shop_category` (`shop_category_name`, `shop_category_desc`, `shop_category_img`, `priority`) VALUES ('咖啡奶茶', '咖啡奶茶', 'test', '1') 9.1.3测试类在src\test\java\com.xiaoxin.o2o\dao下创建ShopDaoTest测试类 123456789101112131415161718192021222324252627282930313233343536373839404142package com.xiaoxin.o2o.dao;import java.util.Date;import com.xiaoxin.o2o.BaseTest;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.entity.PersonInfo;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.entity.ShopCategory;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import static org.junit.Assert.assertEquals;public class ShopDaoTest extends BaseTest &#123; @Autowired private ShopDao shopDao; @Test public void testInsertShop() &#123; Shop shop = new Shop(); PersonInfo owner = new PersonInfo(); Area area = new Area(); ShopCategory shopCategory = new ShopCategory(); owner.setUserId(1L); area.setAreaId(3); shopCategory.setShopCategoryId(36L); shop.setOwner(owner); shop.setArea(area); shop.setShopCategory(shopCategory); shop.setShopName("测试的店铺"); shop.setShopDesc("test"); shop.setShopAddr("test"); shop.setPhone("test"); shop.setShopImg("test"); shop.setCreateTime(new Date()); shop.setEnableStatus(1); shop.setAdvice("审核中"); int effectedNum = shopDao.insertShop(shop); assertEquals(1, effectedNum); &#125;&#125; 测试成功 9.2店铺修改9.2.1修改ShopDao在src\main\java\dao\ShopDao.java文件中添加一个方法。 123456/** * 更新店铺信息 * @param shop * @return */int updateShop(Shop shop); 9.2.2修改ShopDao.xml修改src\resources\mapper\ShopDao.xml文件 在文件中添加一个方法 1234567891011121314151617&lt;update id="updateShop" parameterType="com.xiaoxin.o2o.entity.Shop"&gt; update tb_shop &lt;set&gt; &lt;if test="shopName != null"&gt;shop_name=#&#123;shopName&#125;,&lt;/if&gt; &lt;if test="shopDesc != null"&gt;shop_desc=#&#123;shopDesc&#125;,&lt;/if&gt; &lt;if test="shopAddr != null"&gt;shop_addr=#&#123;shopAddr&#125;,&lt;/if&gt; &lt;if test="phone != null"&gt;phone=#&#123;phone&#125;,&lt;/if&gt; &lt;if test="shopImg != null"&gt;shop_img=#&#123;shopImg&#125;,&lt;/if&gt; &lt;if test="priority != null"&gt;priority=#&#123;priority&#125;,&lt;/if&gt; &lt;if test="lastEditTime != null"&gt;last_edit_time=#&#123;lastEditTime&#125;,&lt;/if&gt; &lt;if test="enableStatus != null"&gt;enable_status=#&#123;enableStatus&#125;,&lt;/if&gt; &lt;if test="advice != null"&gt;advice=#&#123;advice&#125;,&lt;/if&gt; &lt;if test="area != null"&gt;area_id=#&#123;area.areaId&#125;,&lt;/if&gt; &lt;if test="shopCategory != null"&gt;shop_category_id=#&#123;shopCategory.shopCategoryId&#125;&lt;/if&gt; &lt;/set&gt; where shop_id=#&#123;shopId&#125;&lt;/update&gt; 9.2.3测试类在src\test\java\com.xiaoxin.o2o\dao\ShopDaoTest.java测试类中 添加一个测试方法 12345678910@Testpublic void testUpdateShop() &#123; Shop shop = new Shop(); shop.setShopId(36L); shop.setShopDesc("测试描述"); shop.setShopAddr("测试地址"); shop.setLastEditTime(new Date()); int effectedNum = shopDao.updateShop(shop); assertEquals(1, effectedNum);&#125; 其中给之前的测试方法加上@Ignore注解，标识这个测试类不执行 测试成功 9.3水印处理9.3.1添加依赖12345&lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.8&lt;/version&gt;&lt;/dependency&gt; 之前在pom里面已经添加了 9.3.2图片准备 在src\main\resources下准备一张小图片用来当水印 透明图片，参考网址 需要添加水印的图片，位置任意。 我的图片 9.3.3图片工具类在src\main\java\util包下创建一个ImageUtil.java工具类 123456789101112131415161718package com.xiaoxin.o2o.util;import net.coobird.thumbnailator.Thumbnails;import net.coobird.thumbnailator.geometry.Positions;import javax.imageio.ImageIO;import java.io.File;import java.io.IOException;public class ImageUtil &#123; private static String basePath = Thread.currentThread().getContextClassLoader().getResource("").getPath(); public static void main(String[] args) throws IOException &#123; Thumbnails.of(new File("F://ThumbnailsTest/lanerge.jpg")).size(200, 200) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(basePath + "/MyLogo.png")), 0.8f) .outputQuality(0.8f).toFile("F://ThumbnailsTest/lanerge_fidel.jpg"); &#125;&#125; 运行主函数，加水印成功！ 代码解释 .size(200,200) 这个是输出图片的大小。像素为单位 .watermark() 添加水印，这个函数有三个参数。 第一个：水印的位置 第二个：水印图片的路径 ​ 由于我们这个方法是通过线程去执行的。所以我们可以通过线程去逆推到这个线程的类加载器。从而从这个类加载器得到它的资源的路径。 1private static String basePath = Thread.currentThread().getContextClassLoader().getResource("").getPath(); 像上面这样就可以得到，classpath的绝对路径了。 第三个：透明度 .outputQuality(0.8f) 输出的图片压缩比 .toFile() 输出的地址 9.4路径工具类由于上面的图片工具类为例，项目需要使用到一些复杂的路径，所以我们将这些功能封装成一个工具类。 在util包下面创建PathUtil类 12345678910111213141516171819202122package com.xiaoxin.o2o.util;public class PathUtil &#123; private static String seperator = System.getProperty("file.separator"); public static String getImgBasePath() &#123; String os = System.getProperty("os.name"); String basePath = ""; if (os.toLowerCase().startsWith("win")) &#123; basePath = "D:/projectdev/image"; &#125; else &#123; basePath = "/Users/baidu/work/image"; &#125; basePath = basePath.replace("/", seperator); return basePath; &#125; public static String getShopImagePath(long shopId) &#123; String imagePath = "/upload/images/item/shop/" + shopId + "/"; return imagePath.replace("/", seperator); &#125;&#125; 9.5图片缩略处理门面照，或者是商品的小图片等 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118package com.xiaoxin.o2o.util;import net.coobird.thumbnailator.Thumbnails;import net.coobird.thumbnailator.geometry.Positions;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.multipart.commons.CommonsMultipartFile;import javax.imageio.ImageIO;import java.io.File;import java.io.IOException;import java.text.SimpleDateFormat;import java.util.Random;import java.util.Date;public class ImageUtil &#123; private static String basePath = Thread.currentThread().getContextClassLoader().getResource("").getPath(); private static final SimpleDateFormat sDateFormat = new SimpleDateFormat("yyyyMMddHHmmss"); private static final Random r = new Random(); private static Logger logger = LoggerFactory.getLogger(ImageUtil.class); /** * 将CommonsMultipartFile转换成File类 * * @param cFile * @return */ public static File transferCommonsMultipartFileToFile(CommonsMultipartFile cFile) &#123; File newFile = new File(cFile.getOriginalFilename()); try &#123; cFile.transferTo(newFile); &#125; catch (IllegalStateException e) &#123; logger.error(e.toString()); e.printStackTrace(); &#125; catch (IOException e) &#123; logger.error(e.toString()); e.printStackTrace(); &#125; return newFile; &#125; /** * 处理缩略图 * * @param thumbnail * @param targetAddr * @return */ public static String generateThumbnail(File thumbnail, String targetAddr) &#123; // 获取不重复的随机名 String realFileName = getRandomFileName(); // 获取文件的扩展名如png,jpg等 String extension = getFileExtension(thumbnail); // 如果目标路径不存在，则自动创建 makeDirPath(targetAddr); // 获取文件存储的相对路径(带文件名) String relativeAddr = targetAddr + realFileName + extension; logger.debug("current relativeAddr is :" + relativeAddr); // 获取文件要保存到的目标路径 File dest = new File(PathUtil.getImgBasePath() + relativeAddr); logger.debug("current complete addr is :" + PathUtil.getImgBasePath() + relativeAddr); logger.debug("basePath is :" + basePath); // 调用Thumbnails生成带有水印的图片 try &#123; Thumbnails.of(thumbnail).size(200, 200) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(basePath + "/MyLogo.png")), 0.25f) .outputQuality(0.8f).toFile(dest); &#125; catch (IOException e) &#123; logger.error(e.toString()); throw new RuntimeException("创建缩略图失败：" + e.toString()); &#125; // 返回图片相对路径地址 return relativeAddr; &#125; /** * 生成随机文件名，当前年月日小时分钟秒钟+五位随机数 * * @return */ public static String getRandomFileName() &#123; // 获取随机的五位数 int rannum = r.nextInt(89999) + 10000; String nowTimeStr = sDateFormat.format(new Date()); return nowTimeStr + rannum; &#125; /** * 获取输入文件流的扩展名 * * @param cFile * @return */ private static String getFileExtension(File cFile) &#123; String originalFileName = cFile.getName(); return originalFileName.substring(originalFileName.lastIndexOf(".")); &#125; /** * 创建目标路径所涉及到的目录，即/home/work/xiangze/xxx.jpg, 那么 home work xiangze * 这三个文件夹都得自动创建 * * @param targetAddr */ private static void makeDirPath(String targetAddr) &#123; String realFileParentPath = PathUtil.getImgBasePath() + targetAddr; File dirPath = new File(realFileParentPath); if (!dirPath.exists()) &#123; dirPath.mkdirs(); &#125; &#125; public static void main(String[] args) throws IOException &#123; Thumbnails.of(new File("F://ThumbnailsTest/lanerge.jpg")).size(960, 960) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(basePath + "/MyLogo.png")), 0.8f) .outputQuality(0.8f).toFile("F://ThumbnailsTest/lanerge_fidel.jpg"); &#125;&#125; 9.6店铺注册Dto层因为创建店铺之后我们不能直接返回一个实体类，我们要返回实体类和一些额外的东西，所以这里就需要使用实体类Dao扩展出新的Dto层 在Dto层创建一个ShopExecution类 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package com.xiaoxin.o2o.dto;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.enums.ShopStateEnum;import java.util.List;public class ShopExecution &#123; // 结果状态 private int state; // 状态标识 private String stateInfo; // 店铺数量 private int count; // 操作的shop(增删改店铺的时候用到) private Shop shop; // shop列表(查询店铺列表的时候使用) private List&lt;Shop&gt; shopList; public ShopExecution() &#123; super(); &#125; // 店铺操作失败的时候使用的构造器 public ShopExecution(ShopStateEnum stateEnum) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); &#125; // 店铺操作成功的时候使用的构造器 public ShopExecution(ShopStateEnum stateEnum, Shop shop) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.shop = shop; &#125; // 店铺操作成功的时候使用的构造器 public ShopExecution(ShopStateEnum stateEnum, List&lt;Shop&gt; shopList) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.shopList = shopList; &#125; // get &amp; set 方法&#125; 因为我们还需要用到枚举类，所以这里在enums包中创建ShopStateEnum.java类 123456789101112131415161718192021222324252627282930313233343536373839package com.xiaoxin.o2o.enums;public enum ShopStateEnum &#123; CHECK(0, "审核中"), OFFLINE(-1, "非法店铺"), SUCCESS(1, "操作成功"), PASS(2, "通过认证"), INNER_ERROR(-1001, "内部系统错误"), NULL_SHOPID(-1002, "ShopId为空"), NULL_SHOP(-1003, "shop信息为空"); private int state; private String stateInfo; private ShopStateEnum(int state, String stateInfo) &#123; this.state = state; this.stateInfo = stateInfo; &#125; /** * 依据传入的state返回相应的enum值 */ public static ShopStateEnum stateOf(int state) &#123; for (ShopStateEnum stateEnum : values()) &#123; if (stateEnum.getState() == state) &#123; return stateEnum; &#125; &#125; return null; &#125; public int getState() &#123; return state; &#125; public String getStateInfo() &#123; return stateInfo; &#125;&#125; 9.7店铺注册Service层Service层是注重对事务的处理，一个店铺的注册，首先是要将店铺的信息插入到数据库中，然后返回店铺ID。然后通过这个ID创建存储这个店铺的图片的文件夹。然后再把这个文件夹的路径更新到数据库里面去。这四步就是事务，其中任何一步出错，我们都需要进行事务的回滚。 9.7.1创建ShopService在service包下创建ShopService.java。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package com.xiaoxin.o2o.service.impl;import java.util.Date;import com.xiaoxin.o2o.dao.ShopDao;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.exceptions.ShopOperationException;import com.xiaoxin.o2o.service.ShopService;import com.xiaoxin.o2o.util.ImageUtil;import com.xiaoxin.o2o.util.PathUtil;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.io.File;@Servicepublic class ShopServiceImpl implements ShopService &#123; @Autowired private ShopDao shopDao; @Override public ShopExecution addShop(Shop shop, File shopImg) &#123; // 空值判断 if (shop == null) &#123; return new ShopExecution(ShopStateEnum.NULL_SHOP); &#125; try &#123; // 给店铺信息赋初始值 shop.setEnableStatus(0); shop.setCreateTime(new Date()); shop.setLastEditTime(new Date()); // 添加店铺信息 int effectedNum = shopDao.insertShop(shop); if (effectedNum &lt;= 0) &#123; // RuntimeException会终止回滚事务 throw new ShopOperationException("店铺创建失败"); &#125; else &#123; if (shopImg != null) &#123; // 存储图片 try &#123; addShopImg(shop, shopImg); &#125; catch (Exception e) &#123; throw new ShopOperationException("addShopImg error:" + e.getMessage()); &#125; // 更新店铺的图片地址 effectedNum = shopDao.updateShop(shop); if (effectedNum &lt;= 0) &#123; throw new ShopOperationException("更新图片地址失败"); &#125; &#125; &#125; &#125; catch (Exception e) &#123; throw new ShopOperationException("addShop error:" + e.getMessage()); &#125; return new ShopExecution(ShopStateEnum.CHECK, shop); &#125; private void addShopImg(Shop shop, File shopImg) &#123; // 获取shop图片目录的相对值路径 String dest = PathUtil.getShopImagePath(shop.getShopId()); String shopImgAddr = ImageUtil.generateThumbnail(shopImg, dest); shop.setShopImg(shopImgAddr); &#125;&#125; 9.7.2扩展RuntimeException我们不能把所有的事务报错都使用RuntimeException来处理，我们要自定义错误处理机制。 在src\main\java下创建exceptions，在下面创建ShopOperationException.java类 12345678910package com.xiaoxin.o2o.exceptions;public class ShopOperationException extends RuntimeException &#123; // ↓序列化 private static final long serialVersionUID = 2361446884822298905L; public ShopOperationException(String msg) &#123; super(msg); &#125;&#125; 然后将原来Service中的RuntimeException全部替换成ShopOperationException 9.7.3测试将MyLogo.png图片也放到test\resources包下 在test\java\service中创建ShopServiceTest类 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package com.xiaoxin.o2o.service;import java.io.File;import java.util.Date;import com.xiaoxin.o2o.BaseTest;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.entity.PersonInfo;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.entity.ShopCategory;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.exceptions.ShopOperationException;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import java.io.FileNotFoundException;import static org.junit.Assert.assertEquals;public class ShopServiceTest extends BaseTest &#123; @Autowired private ShopService shopService; @Test public void testAddShop() throws ShopOperationException, FileNotFoundException &#123; Shop shop = new Shop(); PersonInfo owner = new PersonInfo(); Area area = new Area(); ShopCategory shopCategory = new ShopCategory(); owner.setUserId(1L); area.setAreaId(3); shopCategory.setShopCategoryId(36L); shop.setOwner(owner); shop.setArea(area); shop.setShopCategory(shopCategory); shop.setShopName("测试的店铺3"); shop.setShopDesc("test3"); shop.setShopAddr("test3"); shop.setPhone("test3"); shop.setCreateTime(new Date()); shop.setEnableStatus(ShopStateEnum.CHECK.getState()); shop.setAdvice("审核中"); File shopImg = new File("F://ThumbnailsTest/lanerge.jpg"); ShopExecution se = shopService.addShop(shop, shopImg ); assertEquals(ShopStateEnum.CHECK.getState(), se.getState()); &#125;&#125; 测试是成功了，但是事务失败后并没有回滚事务 9.8店铺注册Controller层9.8.1HTTP请求工具类在浏览器发送HTTP请求的时候，我们需要进行一定的处理 在util包下创建HttpServletRequestUtil类 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.xiaoxin.o2o.util;import javax.servlet.http.HttpServletRequest;public class HttpServletRequestUtil &#123; // 大致都是通过key从request获取值，然后转换类型，然后输出 public static int getInt(HttpServletRequest request, String key) &#123; try &#123; return Integer.decode(request.getParameter(key)); &#125; catch (Exception e) &#123; return -1; &#125; &#125; public static long getLong(HttpServletRequest request, String key) &#123; try &#123; return Long.valueOf(request.getParameter(key)); &#125; catch (Exception e) &#123; return -1; &#125; &#125; public static Double getDouble(HttpServletRequest request, String key) &#123; try &#123; return Double.valueOf(request.getParameter(key)); &#125; catch (Exception e) &#123; return -1d; &#125; &#125; public static boolean getBoolean(HttpServletRequest request, String key) &#123; try &#123; return Boolean.valueOf(request.getParameter(key)); &#125; catch (Exception e) &#123; return false; &#125; &#125; public static String getString(HttpServletRequest request, String key) &#123; try &#123; String result = request.getParameter(key); if (result != null) &#123; result = result.trim(); &#125; if ("".equals(result)) &#123; result = null; &#125; return result; &#125; catch (Exception e) &#123; return null; &#125; &#125;&#125; 9.8.2JSON转换在pom文件中jackson是用来转换实体与json的 123456&lt;!-- json解析 --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt;&lt;/dependency&gt; 9.8.3创建控制类在web包下创建shopadmin包，然后创建ShopManagementController类 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147package com.xiaoxin.o2o.web.shopadmin;import com.fasterxml.jackson.databind.ObjectMapper;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.PersonInfo;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.exceptions.ShopOperationException;import com.xiaoxin.o2o.service.AreaService;import com.xiaoxin.o2o.service.ShopService;import com.xiaoxin.o2o.util.HttpServletRequestUtil;import com.xiaoxin.o2o.util.ImageUtil;import com.xiaoxin.o2o.util.PathUtil;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.multipart.MultipartHttpServletRequest;import org.springframework.web.multipart.commons.CommonsMultipartFile;import org.springframework.web.multipart.commons.CommonsMultipartResolver;import javax.servlet.http.HttpServletRequest;import java.io.*;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;@Controller@RequestMapping("/shopadmin")public class ShopManagementController &#123; @Autowired private ShopService shopService; @RequestMapping(value = "/registershop", method = RequestMethod.POST) @ResponseBody private Map&lt;String, Object&gt; registerShop(HttpServletRequest request) &#123; // ↓要返回给前端的一些关键键值对 Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); // 1.接收并转化相应的参数，包括店铺信息以及图片信息 // ↓从请求的request获取key是shopStr的变量值 String shopStr = HttpServletRequestUtil.getString(request, "shopStr"); // ↓实体转换JSON需要的类 ObjectMapper mapper = new ObjectMapper(); Shop shop = null; try &#123; // ↓实体转换JSON shop = mapper.readValue(shopStr, Shop.class); &#125; catch (Exception e) &#123; // ↓如果报错了 // ↓往前端返回一个‘是否成功’，值为false modelMap.put("success", false); // ↓并且把失败的信息也传给前端，key是errMsg modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; // ↓这是一个接收图片的类 CommonsMultipartFile shopImg = null; // ↓文件上传解析器类，用来解析request中的文件 CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( // ↓通过这个请求的session的上下文去解析这个request request.getSession().getServletContext()); // ↓判断这个request中是否有上传文件流 if (commonsMultipartResolver.isMultipart(request)) &#123; // ↓有上传文件流，我们需将request强行转换成multipartHttpServletRequest MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; // ↓只有将request转换为multipartHttpServletRequest，我们才能从multipartHttpServletRequest中提取图片文件流 shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile("shopImg"); &#125; else &#123; // ↓没有文件流，向前端报错 modelMap.put("success", false); modelMap.put("errMsg", "上传图片不能为空"); return modelMap; &#125; // 2.注册店铺 // ↓判断店铺和图片是否为空 if (shop != null &amp;&amp; shopImg != null) &#123; // PersonInfo owner = (PersonInfo) request.getSession().getAttribute("user"); // ↓这里应该使用session去拿取用户的，后期再改 PersonInfo owner = new PersonInfo(); owner.setUserId(1L); shop.setOwner(owner); // ↓这个没实现前端，没上传的图片，在代码里面拿取一个本地静态的图片 // ↓生成文件名 File shopImgFile = new File(PathUtil.getImgBasePath() + ImageUtil.getRandomFileName()); try &#123; // ↓创建文件 shopImgFile.createNewFile(); &#125; catch (IOException e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; try &#123; inputStreamToFile(shopImg.getInputStream(), shopImgFile); &#125; catch (IOException e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; // 店铺实体类的dto扩展类 ShopExecution se = shopService.addShop(shop, shopImgFile); if (se.getState() == ShopStateEnum.CHECK.getState()) &#123; modelMap.put("success", true); &#125;else &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; return modelMap; &#125; else &#123; // ↓为空，向前端报错 modelMap.put("success", false); modelMap.put("errMsg", "请输入店铺信息"); return modelMap; &#125; &#125; // 将CommonsMultipartFile转换为File，不然shopService.addShop(shop, imageHolder)的第二个参数接收不了 private static void inputStreamToFile(InputStream ins, File file) &#123; FileOutputStream os = null; try &#123; os = new FileOutputStream(file); int bytesRead = 0; byte[] buffer = new byte[1024]; while ((bytesRead = ins.read(buffer)) != -1) &#123; os.write(buffer, 0, bytesRead); &#125; &#125; catch (Exception e) &#123; throw new RuntimeException("调用inputStreamToFile产生异常" + e.getMessage()); &#125; finally &#123; try &#123; if (os != null) &#123; os.close(); &#125; if (ins != null) &#123; ins.close(); &#125; &#125; catch (IOException e) &#123; throw new RuntimeException("inputStreamToFile关闭产生io异常" + e.getMessage()); &#125; &#125; &#125;&#125; 9.9店铺注册优化因为之前有一个File转换为CommonsMultipartFile的过程，这个很不好，所以我们进行一次大换血 9.9.1修改ShopService接口ShopService 1234567891011package com.xiaoxin.o2o.service;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.Shop;import java.io.InputStream;public interface ShopService &#123; ShopExecution addShop(Shop shop, InputStream shopImgInputStream,String fileName);&#125; 从这里开始我们直接传入InputStream，因为InputStream没有办法获取文件的名字，所以再传入一个文件名字 而这个名字在图片工具类中需要使用文件的名字来获取图片的扩展名 9.9.2修改实现类ShopServiceImpl 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768package com.xiaoxin.o2o.service.impl;import java.io.InputStream;import java.util.Date;import com.xiaoxin.o2o.dao.ShopDao;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.exceptions.ShopOperationException;import com.xiaoxin.o2o.service.ShopService;import com.xiaoxin.o2o.util.ImageUtil;import com.xiaoxin.o2o.util.PathUtil;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.io.File;@Servicepublic class ShopServiceImpl implements ShopService &#123; @Autowired private ShopDao shopDao; @Override public ShopExecution addShop(Shop shop, InputStream shopImgInputStream, String fileName) &#123; // 空值判断 if (shop == null) &#123; return new ShopExecution(ShopStateEnum.NULL_SHOP); &#125; try &#123; // 给店铺信息赋初始值 shop.setEnableStatus(0); shop.setCreateTime(new Date()); shop.setLastEditTime(new Date()); // 添加店铺信息 int effectedNum = shopDao.insertShop(shop); if (effectedNum &lt;= 0) &#123; // RuntimeException会终止回滚事务 throw new ShopOperationException("店铺创建失败"); &#125; else &#123; if (shopImgInputStream != null) &#123; // 存储图片 try &#123; addShopImg(shop, shopImgInputStream, fileName); &#125; catch (Exception e) &#123; throw new ShopOperationException("addShopImg error:" + e.getMessage()); &#125; // 更新店铺的图片地址 effectedNum = shopDao.updateShop(shop); if (effectedNum &lt;= 0) &#123; throw new ShopOperationException("更新图片地址失败"); &#125; &#125; &#125; &#125; catch (Exception e) &#123; throw new ShopOperationException("addShop error:" + e.getMessage()); &#125; return new ShopExecution(ShopStateEnum.CHECK, shop); &#125; private void addShopImg(Shop shop, InputStream shopImgInputStream, String fileName) &#123; // 获取shop图片目录的相对值路径 String dest = PathUtil.getShopImagePath(shop.getShopId()); String shopImgAddr = ImageUtil.generateThumbnail(shopImgInputStream,fileName, dest); shop.setShopImg(shopImgAddr); &#125;&#125; 9.9.3修改工具类ImageUtil 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116package com.xiaoxin.o2o.util;import net.coobird.thumbnailator.Thumbnails;import net.coobird.thumbnailator.geometry.Positions;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.multipart.commons.CommonsMultipartFile;import javax.imageio.ImageIO;import java.io.File;import java.io.IOException;import java.io.InputStream;import java.text.SimpleDateFormat;import java.util.Random;import java.util.Date;public class ImageUtil &#123; private static String basePath = Thread.currentThread().getContextClassLoader().getResource("").getPath(); private static final SimpleDateFormat sDateFormat = new SimpleDateFormat("yyyyMMddHHmmss"); private static final Random r = new Random(); private static Logger logger = LoggerFactory.getLogger(ImageUtil.class); /** * 将CommonsMultipartFile转换成File类 * * @param cFile * @return */ public static File transferCommonsMultipartFileToFile(CommonsMultipartFile cFile) &#123; File newFile = new File(cFile.getOriginalFilename()); try &#123; cFile.transferTo(newFile); &#125; catch (IllegalStateException e) &#123; logger.error(e.toString()); e.printStackTrace(); &#125; catch (IOException e) &#123; logger.error(e.toString()); e.printStackTrace(); &#125; return newFile; &#125; /** * 处理缩略图 * * @param targetAddr * @return */ public static String generateThumbnail(InputStream thumbnailInputStream, String fileName, String targetAddr) &#123; // 获取不重复的随机名 String realFileName = getRandomFileName(); // 获取文件的扩展名如png,jpg等 String extension = getFileExtension(fileName); // 如果目标路径不存在，则自动创建 makeDirPath(targetAddr); // 获取文件存储的相对路径(带文件名) String relativeAddr = targetAddr + realFileName + extension; logger.debug("current relativeAddr is :" + relativeAddr); // 获取文件要保存到的目标路径 File dest = new File(PathUtil.getImgBasePath() + relativeAddr); logger.debug("current complete addr is :" + PathUtil.getImgBasePath() + relativeAddr); logger.debug("basePath is :" + basePath); // 调用Thumbnails生成带有水印的图片 try &#123; Thumbnails.of(thumbnailInputStream).size(200, 200) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(basePath + "/MyLogo.png")), 0.25f) .outputQuality(0.8f).toFile(dest); &#125; catch (IOException e) &#123; logger.error(e.toString()); throw new RuntimeException("创建缩略图失败：" + e.toString()); &#125; // 返回图片相对路径地址 return relativeAddr; &#125; /** * 生成随机文件名，当前年月日小时分钟秒钟+五位随机数 * * @return */ public static String getRandomFileName() &#123; // 获取随机的五位数 int rannum = r.nextInt(89999) + 10000; String nowTimeStr = sDateFormat.format(new Date()); return nowTimeStr + rannum; &#125; /** * 获取输入文件流的扩展名 * * @return */ private static String getFileExtension(String fileName) &#123; return fileName.substring(fileName.lastIndexOf(".")); &#125; /** * 创建目标路径所涉及到的目录，即/home/work/xiangze/xxx.jpg, 那么 home work xiangze * 这三个文件夹都得自动创建 * * @param targetAddr */ private static void makeDirPath(String targetAddr) &#123; String realFileParentPath = PathUtil.getImgBasePath() + targetAddr; File dirPath = new File(realFileParentPath); if (!dirPath.exists()) &#123; dirPath.mkdirs(); &#125; &#125; public static void main(String[] args) throws IOException &#123; Thumbnails.of(new File("F://ThumbnailsTest/lanerge.jpg")).size(960, 960) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(basePath + "/MyLogo.png")), 0.8f) .outputQuality(0.8f).toFile("F://ThumbnailsTest/lanerge_fidel.jpg"); &#125;&#125; 主要修改的是修改缩略图那一块，获取文件扩展名 9.9.4修改Shop控制类ShopManagementController 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105package com.xiaoxin.o2o.web.shopadmin;import com.fasterxml.jackson.databind.ObjectMapper;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.PersonInfo;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.service.ShopService;import com.xiaoxin.o2o.util.HttpServletRequestUtil;import com.xiaoxin.o2o.util.ImageUtil;import com.xiaoxin.o2o.util.PathUtil;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.multipart.MultipartHttpServletRequest;import org.springframework.web.multipart.commons.CommonsMultipartFile;import org.springframework.web.multipart.commons.CommonsMultipartResolver;import javax.servlet.http.HttpServletRequest;import java.io.File;import java.io.FileOutputStream;import java.io.IOException;import java.io.InputStream;import java.util.HashMap;import java.util.Map;@Controller@RequestMapping("/shopadmin")public class ShopManagementController &#123; @Autowired private ShopService shopService; @RequestMapping(value = "/registershop", method = RequestMethod.POST) @ResponseBody private Map&lt;String, Object&gt; registerShop(HttpServletRequest request) &#123; // ↓要返回给前端的一些关键键值对 Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); // 1.接收并转化相应的参数，包括店铺信息以及图片信息 // ↓从请求的request获取key是shopStr的变量值 String shopStr = HttpServletRequestUtil.getString(request, "shopStr"); // ↓实体转换JSON需要的类 ObjectMapper mapper = new ObjectMapper(); Shop shop = null; try &#123; // ↓实体转换JSON shop = mapper.readValue(shopStr, Shop.class); &#125; catch (Exception e) &#123; // ↓如果报错了 // ↓往前端返回一个‘是否成功’，值为false modelMap.put("success", false); // ↓并且把失败的信息也传给前端，key是errMsg modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; // ↓这是一个接收图片的类 CommonsMultipartFile shopImg = null; // ↓文件上传解析器类，用来解析request中的文件 CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( // ↓通过这个请求的session的上下文去解析这个request request.getSession().getServletContext()); // ↓判断这个request中是否有上传文件流 if (commonsMultipartResolver.isMultipart(request)) &#123; // ↓有上传文件流，我们需将request强行转换成multipartHttpServletRequest MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; // ↓只有将request转换为multipartHttpServletRequest，我们才能从multipartHttpServletRequest中提取图片文件流 shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile("shopImg"); &#125; else &#123; // ↓没有文件流，向前端报错 modelMap.put("success", false); modelMap.put("errMsg", "上传图片不能为空"); return modelMap; &#125; // 2.注册店铺 // ↓判断店铺和图片是否为空 if (shop != null &amp;&amp; shopImg != null) &#123; // PersonInfo owner = (PersonInfo) request.getSession().getAttribute("user"); // ↓这里应该使用session去拿取用户的，后期再改 PersonInfo owner = new PersonInfo(); owner.setUserId(1L); shop.setOwner(owner); // 店铺实体类的dto扩展类 ShopExecution se = null; try &#123; se = shopService.addShop(shop, shopImg.getInputStream(),shopImg.getOriginalFilename()); if (se.getState() == ShopStateEnum.CHECK.getState()) &#123; modelMap.put("success", true); &#125;else &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; &#125; catch (IOException e) &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; return modelMap; &#125; else &#123; // ↓为空，向前端报错 modelMap.put("success", false); modelMap.put("errMsg", "请输入店铺信息"); return modelMap; &#125; &#125;&#125; 9.9.5修改测试代码ShopServiceTest 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.xiaoxin.o2o.service;import java.io.File;import java.io.FileInputStream;import java.io.InputStream;import java.util.Date;import com.xiaoxin.o2o.BaseTest;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.entity.PersonInfo;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.entity.ShopCategory;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.exceptions.ShopOperationException;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import java.io.FileNotFoundException;import static org.junit.Assert.assertEquals;public class ShopServiceTest extends BaseTest &#123; @Autowired private ShopService shopService; @Test public void testAddShop() throws ShopOperationException, FileNotFoundException &#123; Shop shop = new Shop(); PersonInfo owner = new PersonInfo(); Area area = new Area(); ShopCategory shopCategory = new ShopCategory(); owner.setUserId(1L); area.setAreaId(3); shopCategory.setShopCategoryId(36L); shop.setOwner(owner); shop.setArea(area); shop.setShopCategory(shopCategory); shop.setShopName("测试的店铺4"); shop.setShopDesc("test3"); shop.setShopAddr("test3"); shop.setPhone("test3"); shop.setCreateTime(new Date()); shop.setEnableStatus(ShopStateEnum.CHECK.getState()); shop.setAdvice("审核中"); File shopImg = new File("F://ThumbnailsTest/lanerge.jpg"); InputStream is = new FileInputStream(shopImg); ShopExecution se = shopService.addShop(shop, is ,shopImg.getName()); assertEquals(ShopStateEnum.CHECK.getState(), se.getState()); &#125;&#125; 测试成功 9.10店铺注册前端实现前端我们使用sui mobile来实现，它的官网：http://m.sui.taobao.org/ 进入官网-&gt;示例-&gt;网页调试（将页面调成移动端）-&gt;选择表单（因为我们要做一个简单店铺注册页面）-&gt;只有文案和输入框-&gt;查看源代码-&gt;复制所有html代码 9.10.1创建index页面在src\main\resources\webapp下创建一个index.html，这里还有一个index.jsp。我们不用它，先不管。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt; &lt;title&gt;SUI Mobile Demo&lt;/title&gt; &lt;meta name="description" content="MSUI: Build mobile apps with simple HTML, CSS, and JS components."&gt; &lt;meta name="author" content="阿里巴巴国际UED前端"&gt; &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt; &lt;link rel="shortcut icon" href="/favicon.ico"&gt; &lt;meta name="apple-mobile-web-app-capable" content="yes"&gt; &lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt; &lt;meta name="format-detection" content="telephone=no"&gt; &lt;!-- Google Web Fonts --&gt; &lt;link rel="stylesheet" href="/dist/css/sm.css"&gt; &lt;link rel="stylesheet" href="/dist/css/sm-extend.css"&gt; &lt;link rel="stylesheet" href="/assets/css/demos.css"&gt; &lt;link rel="apple-touch-icon-precomposed" href="/assets/img/apple-touch-icon-114x114.png"&gt; &lt;script src="/assets/js/zepto.js"&gt;&lt;/script&gt; &lt;script src="/assets/js/config.js"&gt;&lt;/script&gt; &lt;script&gt; //ga &lt;/script&gt; &lt;script&gt;var _hmt = _hmt || [];(function() &#123; var hm = document.createElement("script"); hm.src = "//hm.baidu.com/hm.js?ba76f8230db5f616edc89ce066670710"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);&#125;)();&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="page-group"&gt; &lt;div id="page-label-input" class="page"&gt; &lt;header class="bar bar-nav"&gt; &lt;a class="button button-link button-nav pull-left back" href="/demos/form"&gt; &lt;span class="icon icon-left"&gt;&lt;/span&gt; 返回 &lt;/a&gt; &lt;h1 class="title"&gt;表单&lt;/h1&gt; &lt;/header&gt; &lt;div class="content"&gt; &lt;div class="list-block"&gt; &lt;ul&gt; &lt;!-- Text inputs --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;Name&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="text" placeholder="Your name"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;E-mail&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="email" placeholder="E-mail"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;Password&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="password" placeholder="Password" class=""&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;Gender&lt;/div&gt; &lt;div class="item-input"&gt; &lt;select&gt; &lt;option&gt;Male&lt;/option&gt; &lt;option&gt;Female&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- Date --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;Birth date&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="date" placeholder="Birth day" value="2014-04-30"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- Switch (Checkbox) --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;Switch&lt;/div&gt; &lt;div class="item-input"&gt; &lt;label class="label-switch"&gt; &lt;input type="checkbox"&gt; &lt;div class="checkbox"&gt;&lt;/div&gt; &lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;li class="align-top"&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;Textarea&lt;/div&gt; &lt;div class="item-input"&gt; &lt;textarea&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class="content-block"&gt; &lt;div class="row"&gt; &lt;div class="col-50"&gt;&lt;a href="#" class="button button-big button-fill button-danger"&gt;取消&lt;/a&gt;&lt;/div&gt; &lt;div class="col-50"&gt;&lt;a href="#" class="button button-big button-fill button-success"&gt;提交&lt;/a&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;script src="/dist/js/sm.js"&gt;&lt;/script&gt; &lt;script src="/dist/js/sm-extend.js"&gt;&lt;/script&gt; &lt;script src="/dist/js/sm-city-picker.js"&gt;&lt;/script&gt; &lt;script src="/assets/js/demos.js"&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; 9.10.2引用静态资源官网-&gt;开始使用 模仿完整的页面模板。覆盖掉index.html的css、js 123456&lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt;&lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt;&lt;script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt;&lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt;&lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt; 启动Tomcat，访问http://localhost:8080/index.html，生效 9.10.3修改代码index.html 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt; &lt;title&gt;SUI Mobile Demo&lt;/title&gt; &lt;meta name="description" content="MSUI: Build mobile apps with simple HTML, CSS, and JS components."&gt; &lt;meta name="author" content="阿里巴巴国际UED前端"&gt; &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt; &lt;link rel="shortcut icon" href="/favicon.ico"&gt; &lt;meta name="apple-mobile-web-app-capable" content="yes"&gt; &lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt; &lt;meta name="format-detection" content="telephone=no"&gt; &lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt; &lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt; &lt;link rel="apple-touch-icon-precomposed" href="/assets/img/apple-touch-icon-114x114.png"&gt; &lt;script&gt; //ga &lt;/script&gt; &lt;script&gt; var _hmt = _hmt || []; (function () &#123; var hm = document.createElement("script"); hm.src = "//hm.baidu.com/hm.js?ba76f8230db5f616edc89ce066670710"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); &#125;)(); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="page-group"&gt; &lt;div id="page-label-input" class="page"&gt; &lt;header class="bar bar-nav"&gt; &lt;a class="button button-link button-nav pull-left back" href="/demos/form"&gt; &lt;span class="icon icon-left"&gt;&lt;/span&gt; 返回 &lt;/a&gt; &lt;h1 class="title"&gt;商店信息&lt;/h1&gt; &lt;/header&gt; &lt;div class="content"&gt; &lt;div class="list-block"&gt; &lt;ul&gt; &lt;!-- 商铺名称 text --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;商铺名称&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="text" id="shop-name" placeholder="请输入商铺名称"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 商铺分类 下拉列表 --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;商铺分类&lt;/div&gt; &lt;div class="item-input"&gt; &lt;select id="shop-category"&gt; &lt;/select&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 区域分类 下拉列表 --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;所属区域&lt;/div&gt; &lt;div class="item-input"&gt; &lt;select id="area"&gt; &lt;/select&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 详细地址 text --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;详细地址&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="text" id="shop-addr" placeholder="请输入详细地址"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 联系电话 text --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;联系电话&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="text" id="shop-phone" placeholder="请输入联系电话"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 缩略图 上传控件 --&gt; &lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;缩略图&lt;/div&gt; &lt;div class="item-input"&gt; &lt;input type="file" id="shop-img"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 商铺简介 textarea --&gt; &lt;li class="align-top"&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;商铺简介&lt;/div&gt; &lt;div class="item-input"&gt; &lt;textarea id="shop-desc" placeholder="商铺简介"&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;!-- 验证码 kaptcha --&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class="content-block"&gt; &lt;div class="row"&gt; &lt;div class="col-50"&gt;&lt;a href="#" class="button button-big button-fill button-danger"&gt;返回&lt;/a&gt;&lt;/div&gt; &lt;div class="col-50"&gt;&lt;a href="#" class="button button-big button-fill button-success" id="submit"&gt;提交&lt;/a&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt;&lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt;&lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 运行，界面修改成功 9.10.4静态资源调整为了不让浏览器直接输入项目内容访问指定的页面，我们需要进行优化 在WEB-INF下创建一个html文件夹，这个文件夹外部是访问不了的 在html文件夹下创建一个shop文件夹，用来专门存放店铺的静态资源 向上面的index.html重命名为shopoperation.html，放到shop文件夹下。 现在访问不了这个文件了，所以我们要使用后台的路由，将访问导过去。 9.10.5后端路由导向在src\main\java\web\shopadmin下创建ShopAdminController.java类 1234567891011121314151617package com.xiaoxin.o2o.web.shopadmin;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;@Controller// ↓当响应这个路由时，重定向@RequestMapping(value = "shopadmin", method = &#123;RequestMethod.GET&#125;)public class ShopAdminController &#123; // ↓做转发操作 @RequestMapping(value = "/shopoperation") public String shopOperation() &#123; return "shop/shopoperation"; &#125;&#125; 这里之所以没有前缀/WEB-INF/html/，和后缀.html，是因为在src\main\resources\spring\spring-web.xml中配置了前缀和后缀 运行Tomcat访问&lt;http://localhost:8080/shopadmin/shopoperation/&gt;，访问成功。 9.10.6创建JS文件在src\main\resources\webapp\resources下创建js文件夹 再js下创建一个shop用来专门存储店铺的js文件 js文件主要是操作html页面的，获取初始信息，提交按钮收集信息，通过ajax发送到后台 在shop文件夹下创建shopoperation.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384$(function () &#123; // 用于店铺注册时候的店铺类别以及区域列表的初始化的URL var initUrl = '/shopadmin/getshopinitinfo'; // 注册店铺的URL var registerShopUrl = '/shopadmin/registershop'; // 加载方法执行 getShopInitInfo(); // 取得所有二级店铺类别以及区域信息，并分别赋值进类别列表以及区域列表 function getShopInitInfo() &#123; // 发送一个异步请求，第一个参数访问地址，第二个参数回调函数 $.getJSON(initUrl, function (data) &#123; // ↓访问成功 if (data.success) &#123; // ↓初始化保存店铺分类的html文本 var tempHtml = ''; // ↓初始化保存区域分类的html文本 var tempAreaHtml = ''; // ↓赋值店铺分类html文本 // ↓shopCategoryList是返回的data数据里面的一项，由后端负责 // ↓以下是ES6语法，直接使用map方法将键值对的内容赋值给tempHtml data.shopCategoryList.map(function (item, index) &#123; tempHtml += '&lt;option data-id="' + item.shopCategoryId + '"&gt;' + item.shopCategoryName + '&lt;/option&gt;'; &#125;); // ↓同上 data.areaList.map(function (item, index) &#123; tempAreaHtml += '&lt;option data-id="' + item.areaId + '"&gt;' + item.areaName + '&lt;/option&gt;'; &#125;); // ↓重写id为shop-category的DOM元素的html内容 $('#shop-category').html(tempHtml); // ↓同上 $('#area').html(tempAreaHtml); &#125; &#125;); &#125;; // 提交按钮的事件响应，分别对店铺注册和编辑操作做不同响应 $('#submit').click(function () &#123; // 创建shop对象 var shop = &#123;&#125;; // 获取表单里的数据并填充进对应的店铺属性中 shop.shopName = $('#shop-name').val(); shop.shopAddr = $('#shop-addr').val(); shop.phone = $('#shop-phone').val(); shop.shopDesc = $('#shop-desc').val(); // 选择选定好的店铺类别 shop.shopCategory = &#123; shopCategoryId: $('#shop-category').find('option').not(function () &#123; return !this.selected; &#125;).data('id') &#125;; // 选择选定好的区域信息 shop.area = &#123; areaId: $('#area').find('option').not(function () &#123; return !this.selected; &#125;).data('id') &#125;; // 获取上传的图片文件流 var shopImg = $('#shop-img')[0].files[0]; // 生成表单对象，用于接收参数并传递给后台 var formData = new FormData(); // 添加图片流进表单对象里 formData.append('shopImg', shopImg); // 将shop json对象转成字符流保存至表单对象key为shopStr的的键值对里 formData.append('shopStr', JSON.stringify(shop)); // 将数据提交至后台处理相关操作 $.ajax(&#123; url: registerShopUrl, type: 'POST', data: formData, contentType: false, processData: false, cache: false, success: function (data) &#123; if (data.success) &#123; $.toast('提交成功！'); &#125; else &#123; $.toast('提交失败！' + data.errMsg); &#125; &#125; &#125;); &#125;);&#125;); 9.10.7后端响应JS方法之前的Dao层已经实现了AreaDao的List方法 现在实现ShopCategoryDao接口 在src\main\java\dao层添加ShopCategoryDao.java接口 Dao接口 1234567891011121314151617package com.xiaoxin.o2o.dao;import com.xiaoxin.o2o.entity.ShopCategory;import org.apache.ibatis.annotations.Param;import java.util.List;public interface ShopCategoryDao &#123; /** * 根据传入的查询条件返回店铺类别列表 * * @param shopCategoryCondition * @return */ List&lt;ShopCategory&gt; queryShopCategory(@Param("shopCategoryCondition") ShopCategory shopCategoryCondition);&#125; Mybatis文件 对应的在src\main\resources\mapper文件夹下创建ShopCategoryDao.xml 1234567891011121314151617181920212223242526&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.xiaoxin.o2o.dao.ShopCategoryDao"&gt; &lt;select id="queryShopCategory" resultType="com.xiaoxin.o2o.entity.ShopCategory"&gt; SELECT shop_category_id, shop_category_name, shop_category_desc, shop_category_img, priority, create_time, last_edit_time, parent_id FROM tb_shop_category &lt;where&gt; &lt;if test="shopCategoryCondition.parent != null"&gt; and parent_id = #&#123;shopCategoryCondition.parent.shopCategoryId&#125; &lt;/if&gt; &lt;/where&gt; ORDER BY priority DESC &lt;/select&gt;&lt;/mapper&gt; 测试 在test\java\dao层创建ShopCategoryDaoTest类 12345678910111213141516171819202122232425262728293031package com.xiaoxin.o2o.dao;import com.xiaoxin.o2o.BaseTest;import com.xiaoxin.o2o.entity.ShopCategory;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import java.util.List;public class ShopCategoryDaoTest extends BaseTest &#123; @Autowired private ShopCategoryDao shopCategoryDao; @Test public void testQueryShopCategory() &#123; List&lt;ShopCategory&gt; shopCategoryList = shopCategoryDao.queryShopCategory(new ShopCategory()); System.out.println(shopCategoryList.size()); &#125; // ↓测试特定类别ID下的类别 @Test public void testQueryShopCategoryParent() &#123; ShopCategory testCategory = new ShopCategory(); ShopCategory parentCategory = new ShopCategory(); parentCategory.setShopCategoryId(36L); testCategory.setParent(parentCategory); // ↓查找所有parentId是36的类别 List&lt;ShopCategory&gt; shopCategoryList = shopCategoryDao.queryShopCategory(testCategory); System.out.println(shopCategoryList); &#125;&#125; 测试成功 Service层 ShopCategoryService接口 123456789101112131415package com.xiaoxin.o2o.service;import com.xiaoxin.o2o.entity.ShopCategory;import java.util.List;public interface ShopCategoryService &#123; /** * 根据查询条件获取ShopCategory列表 * * @param shopCategoryCondition * @return */ List&lt;ShopCategory&gt; getShopCategoryList(ShopCategory shopCategoryCondition);&#125; ShopCategoryServiceImpl实现类 123456789101112131415161718192021package com.xiaoxin.o2o.service.impl;import com.xiaoxin.o2o.dao.ShopCategoryDao;import com.xiaoxin.o2o.entity.ShopCategory;import com.xiaoxin.o2o.service.ShopCategoryService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;@Servicepublic class ShopCategoryServiceImpl implements ShopCategoryService &#123; @Autowired private ShopCategoryDao shopCategoryDao; public List&lt;ShopCategory&gt; getShopCategoryList(ShopCategory shopCategory) &#123; return shopCategoryDao.queryShopCategory(shopCategory); &#125;&#125; Controller层 修改ShopManagementController类 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.xiaoxin.o2o.web.shopadmin;import com.fasterxml.jackson.databind.ObjectMapper;import com.xiaoxin.o2o.dto.ShopExecution;import com.xiaoxin.o2o.entity.Area;import com.xiaoxin.o2o.entity.PersonInfo;import com.xiaoxin.o2o.entity.Shop;import com.xiaoxin.o2o.entity.ShopCategory;import com.xiaoxin.o2o.enums.ShopStateEnum;import com.xiaoxin.o2o.service.AreaService;import com.xiaoxin.o2o.service.ShopCategoryService;import com.xiaoxin.o2o.service.ShopService;import com.xiaoxin.o2o.util.HttpServletRequestUtil;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.multipart.MultipartHttpServletRequest;import org.springframework.web.multipart.commons.CommonsMultipartFile;import org.springframework.web.multipart.commons.CommonsMultipartResolver;import javax.servlet.http.HttpServletRequest;import java.io.IOException;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;@Controller@RequestMapping("/shopadmin")public class ShopManagementController &#123; @Autowired private ShopService shopService; @Autowired private ShopCategoryService shopCategoryService; @Autowired private AreaService areaService; @RequestMapping(value = "/getshopinitinfo", method = RequestMethod.GET) @ResponseBody private Map&lt;String, Object&gt; getShopInitInfo() &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); List&lt;ShopCategory&gt; shopCategoryList = new ArrayList&lt;ShopCategory&gt;(); List&lt;Area&gt; areaList = new ArrayList&lt;Area&gt;(); try &#123; shopCategoryList = shopCategoryService.getShopCategoryList(new ShopCategory()); areaList = areaService.getAreaList(); modelMap.put("shopCategoryList", shopCategoryList); modelMap.put("areaList", areaList); modelMap.put("success", true); &#125; catch (Exception e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.getMessage()); &#125; return modelMap; &#125; // 之前创建店铺的方法&#125; 9.10.8修改店铺类别Mybatis因为我们的店铺都存储在2级店铺类别底下，即1级类别是吃喝拉撒睡，而2级类别是吃里面的炒酸奶。店铺的创建选择的店铺类别就是选择这个炒酸奶这一级的店铺类别。 所以我们注册店铺获取的店铺类别List要在Mybatis中做一点修改 在where中添加一个条件 123456&lt;if test="shopCategoryCondition == null"&gt; and parent_id is null&lt;/if&gt;&lt;if test="shopCategoryCondition != null"&gt; and parent_id is not null&lt;/if&gt; 这样我们在获取店铺类别的时候，传入一个默认的shopCategoryCondition就可以获得所有二级类别 OK,启动Tomcat，访问刚刚的页面，测试成功！ 9.11添加验证码依赖包 12345&lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt;&lt;/dependency&gt; 9.11.1web.xml配置123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;servlet&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet&gt; &lt;servlet-name&gt;Kaptcha&lt;/servlet-name&gt; &lt;servlet-class&gt;com.google.code.kaptcha.servlet.KaptchaServlet&lt;/servlet-class&gt; &lt;!-- 是否有边框 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.border&lt;/param-name&gt; &lt;param-value&gt;no&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 字体颜色 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.color&lt;/param-name&gt; &lt;param-value&gt;red&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 图片宽度 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.image.width&lt;/param-name&gt; &lt;param-value&gt;135&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 使用哪些字符生成验证码 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.char.string&lt;/param-name&gt; &lt;param-value&gt;ACDEFHKPRSTWX345679&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 图片高度 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.image.height&lt;/param-name&gt; &lt;param-value&gt;50&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 字体大小 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.size&lt;/param-name&gt; &lt;param-value&gt;43&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 干扰线的颜色 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.noise.color&lt;/param-name&gt; &lt;param-value&gt;black&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 字符个数 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.char.length&lt;/param-name&gt; &lt;param-value&gt;4&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- 字体 --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.names&lt;/param-name&gt; &lt;param-value&gt;Arial&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;Kaptcha&lt;/servlet-name&gt; &lt;url-pattern&gt;/Kaptcha&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;!-- 默认匹配所有的请求 --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 9.11.2修改shopoperation.html123456789101112&lt;li&gt; &lt;div class="item-content"&gt; &lt;div class="item-inner"&gt; &lt;div class="item-title label"&gt;验证码&lt;/div&gt; &lt;input type="text" id="j_captcha" placeholder="验证码"&gt; &lt;div class="item-input"&gt; &lt;img id="captcha_img" alt="点击更换" title="点击更换" onclick="changeVerifyCode(this)" src="../Kaptcha" /&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/li&gt; changeVerifyCode函数在js中定义 9.11.3添加js因为这个验证码要在其他地方也要使用，所以这里把这个功能的js放到一个common包中 在src\main\resources\webapp\resources\js\common包中创建common.js 123456/** * */function changeVerifyCode(img) &#123; img.src = "../Kaptcha?" + Math.floor(Math.random() * 100);&#125; 9.11.4修改提交js修改shopoperation.js中提交部分的代码 12345678910111213141516171819202122232425// 获取表单里输入的验证码var verifyCodeActual = $('#j_captcha').val();if (!verifyCodeActual) &#123; $.toast('请输入验证码！'); return;&#125;formData.append('verifyCodeActual', verifyCodeActual);// 将数据提交至后台处理相关操作$.ajax(&#123; url: registerShopUrl, type: 'POST', data: formData, contentType: false, processData: false, cache: false, success: function (data) &#123; if (data.success) &#123; $.toast('提交成功！'); &#125; else &#123; $.toast('提交失败！' + data.errMsg); &#125; // 点击验证码图片的时候，注册码会改变 $('#captcha_img').click(); &#125;&#125;); 9.11.5页面引入JS在shopoperation.html中引入common.js文件 1&lt;script type='text/javascript' src='/resources/js/common/common.js' charset='utf-8'&gt;&lt;/script&gt; 9.11.6响应验证码后端在util包中添加CodeUtil.java 123456789101112131415161718192021package com.xiaoxin.o2o.util;import javax.servlet.http.HttpServletRequest;public class CodeUtil &#123; /** * 检查验证码是否和预期相符 * * @param request * @return */ public static boolean checkVerifyCode(HttpServletRequest request) &#123; String verifyCodeExpected = (String) request.getSession() .getAttribute(com.google.code.kaptcha.Constants.KAPTCHA_SESSION_KEY); String verifyCodeActual = HttpServletRequestUtil.getString(request, "verifyCodeActual"); if (verifyCodeActual == null || !verifyCodeActual.equals(verifyCodeExpected)) &#123; return false; &#125; return true; &#125;&#125; 修改提交按钮响应的后端方法，在里面调用这个工具类验证验证码 ShopManagementController.java 123456789101112@RequestMapping(value = "/registershop", method = RequestMethod.POST)@ResponseBodyprivate Map&lt;String, Object&gt; registerShop(HttpServletRequest request) &#123; // ↓要返回给前端的一些关键键值对 Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); if (!CodeUtil.checkVerifyCode(request)) &#123; modelMap.put("success", false); modelMap.put("errMsg", "输入了错误的验证码"); return modelMap; &#125; // ...&#125; 9.11.7DeBug测试测试没有反应 修改spring-web.xml 123456789101112131415161718192021222324252627282930313233343536&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd"&gt; &lt;!-- 配置SpringMVC --&gt; &lt;!-- 1.开启SpringMVC注解模式 --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.静态资源默认servlet配置 (1)加入对静态资源的处理：js,gif,png (2)允许使用"/"做整体映射 --&gt; &lt;mvc:resources mapping="/resources/**" location="/resources/" /&gt; &lt;mvc:default-servlet-handler /&gt; &lt;!-- 3.定义视图解析器 --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/WEB-INF/html/"&gt;&lt;/property&gt; &lt;property name="suffix" value=".html"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- 文件上传解析器 --&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="defaultEncoding" value="utf-8"&gt;&lt;/property&gt; &lt;!-- 1024 * 1024 * 20 = 20M --&gt; &lt;property name="maxUploadSize" value="20971520"&gt;&lt;/property&gt; &lt;property name="maxInMemorySize" value="20971520"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- 4.扫描web相关的bean --&gt; &lt;context:component-scan base-package="com.xiaoxin.o2o.web" /&gt;&lt;/beans&gt; 里面主要添加了文件上传解析器 2.修改pom.xml 1234567891011121314151617&lt;build&gt; &lt;finalName&gt;o2o&lt;/finalName&gt; &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.6.1&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;encoding&gt;UTF8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;/build&gt; 插件这一块，统一版本 整体测试成功 9.12店铺信息修改9.12.1店铺信息获取因为在修改店铺得信息时，我们要先获取原来店铺得信息，从而才能修改店铺信息。 Dao层 在ShopDao.java中添加方法 1234567/** * 通过shop id 查询店铺 * * @param shopId * @return shop */Shop queryByShopId(long shopId); Mybatis文件 ShopDao.xml 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.xiaoxin.o2o.dao.ShopDao"&gt; &lt;resultMap type="com.xiaoxin.o2o.entity.Shop" id="shopMap"&gt; &lt;!--主键ID--&gt; &lt;id column="shop_id" property="shopId" /&gt; &lt;result column="shop_name" property="shopName" /&gt; &lt;result column="shop_desc" property="shopDesc" /&gt; &lt;result column="shop_addr" property="shopAddr" /&gt; &lt;result column="phone" property="phone" /&gt; &lt;result column="shop_img" property="shopImg" /&gt; &lt;result column="priority" property="priority" /&gt; &lt;result column="create_time" property="createTime" /&gt; &lt;result column="last_edit_time" property="lastEditTime" /&gt; &lt;result column="enable_status" property="enableStatus" /&gt; &lt;result column="advice" property="advice" /&gt; &lt;!--复合类型--&gt; &lt;association property="area" column="area_id" javaType="com.xiaoxin.o2o.entity.Area"&gt; &lt;id column="area_id" property="areaId" /&gt; &lt;result column="area_name" property="areaName" /&gt; &lt;/association&gt; &lt;association property="shopCategory" column="shop_category_id" javaType="com.xiaoxin.o2o.entity.ShopCategory"&gt; &lt;id column="shop_category_id" property="shopCategoryId" /&gt; &lt;result column="shop_category_name" property="shopCategoryName" /&gt; &lt;/association&gt; &lt;association property="owner" column="user_id" javaType="com.xiaoxin.o2o.entity.PersonInfo"&gt; &lt;id column="user_id" property="userId" /&gt; &lt;result column="name" property="name" /&gt; &lt;/association&gt; &lt;/resultMap&gt; &lt;select id="queryByShopId" resultMap="shopMap" parameterType="Long"&gt; SELECT s.shop_id, s.shop_name, s.shop_desc, s.shop_addr, s.phone, s.shop_img, s.priority, s.create_time, s.last_edit_time, s.enable_status, s.advice, a.area_id, a.area_name, sc.shop_category_id, sc.shop_category_name FROM tb_shop s, tb_area a, tb_shop_category sc WHERE s.area_id=a.area_id AND s.shop_category_id = sc.shop_category_id AND s.shop_id = #&#123;shopId&#125; &lt;/select&gt; &lt;!-- 之前的方法 --&gt;&lt;/mapper&gt; 测试Dao层 在ShopDaoTest里面添加 1234567@Testpublic void testQueryByShopId() &#123; long shopId = 36; Shop shop = shopDao.queryByShopId(shopId); System.out.println("areaId:" + shop.getArea().getAreaId()); System.out.println("areaName" + shop.getArea().getAreaName());&#125; 测试成功 Service层 ShopService层添加 1234567891011121314151617/** * 通过店铺Id获取店铺信息 * * @param shopId * @return */Shop getByShopId(long shopId);/** * 更新店铺信息，包括对图片的处理 * * @param shop * @param shopImgInputStream * @return * @throws ShopOperationException */ShopExecution modifyShop(Shop shop, InputStream shopImgInputStream, String fileName) throws ShopOperationException; 工具类 因为这里要考虑到删除原来的图片所以要添加应该删除图片的工具类 ImgageUtil类 123456789101112131415161718192021/** * storePath是文件的路径还是目录的路径， 如果storePath是文件路径则删除该文件， * 如果storePath是目录路径则删除该目录下的所有文件 * * @param storePath */public static void deleteFileOrPath(String storePath) &#123; File fileOrPath = new File(PathUtil.getImgBasePath() + storePath); // ↓判断这个路径下这个文件是否存在 if (fileOrPath.exists()) &#123; if (fileOrPath.isDirectory()) &#123; // ↓如果这个文件是文件夹，删除所有 File files[] = fileOrPath.listFiles(); for (int i = 0; i &lt; files.length; i++) &#123; files[i].delete(); &#125; &#125; // 如果是文件，直接删除 fileOrPath.delete(); &#125;&#125; Service层实现类 ShopServiceImpl类 123456789101112131415161718192021222324252627282930313233@Overridepublic Shop getByShopId(long shopId) &#123; return shopDao.queryByShopId(shopId);&#125;@Overridepublic ShopExecution modifyShop(Shop shop, InputStream shopImgInputStream, String fileName) throws ShopOperationException &#123; if (shop == null || shop.getShopId() == null) &#123; return new ShopExecution(ShopStateEnum.NULL_SHOP); &#125; else &#123; // 1.判断是否需要处理图片 try &#123; if (shopImgInputStream != null &amp;&amp; fileName != null &amp;&amp; !"".equals(fileName)) &#123; Shop tempShop = shopDao.queryByShopId(shop.getShopId()); if (tempShop.getShopImg() != null) &#123; ImageUtil.deleteFileOrPath(tempShop.getShopImg()); &#125; addShopImg(shop, shopImgInputStream, fileName); &#125; // 2.更新店铺信息 shop.setLastEditTime(new Date()); int effectedNum = shopDao.updateShop(shop); if (effectedNum &lt;= 0) &#123; return new ShopExecution(ShopStateEnum.INNER_ERROR); &#125; else &#123; shop = shopDao.queryByShopId(shop.getShopId()); return new ShopExecution(ShopStateEnum.SUCCESS, shop); &#125; &#125; catch (Exception e) &#123; throw new ShopOperationException("modifyShop error:" + e.getMessage()); &#125; &#125;&#125; Service层测试 在ShopServiceTest测试类中添加 12345678910@Testpublic void testModifyShop() throws ShopOperationException, FileNotFoundException &#123; Shop shop = new Shop(); shop.setShopId(43L); shop.setShopName("修改后的店铺名称"); File shopImg = new File("F://ThumbnailsTest/labgege.jpg"); InputStream is = new FileInputStream(shopImg); ShopExecution shopExecution = shopService.modifyShop(shop, is , "labgege.jpg"); System.out.println("新的图片地址为：" + shopExecution.getShop().getShopImg());&#125; 测试成功 Controller层 ShopManagementController类修改注册Session相关改动 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485@RequestMapping(value = "/registershop", method = RequestMethod.POST)@ResponseBodyprivate Map&lt;String, Object&gt; registerShop(HttpServletRequest request) &#123; // ↓要返回给前端的一些关键键值对 Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); if (!CodeUtil.checkVerifyCode(request)) &#123; modelMap.put("success", false); modelMap.put("errMsg", "输入了错误的验证码"); return modelMap; &#125; // 1.接收并转化相应的参数，包括店铺信息以及图片信息 // ↓从请求的request获取key是shopStr的变量值 String shopStr = HttpServletRequestUtil.getString(request, "shopStr"); // ↓实体转换JSON需要的类 ObjectMapper mapper = new ObjectMapper(); Shop shop = null; try &#123; // ↓实体转换JSON shop = mapper.readValue(shopStr, Shop.class); &#125; catch (Exception e) &#123; // ↓如果报错了 // ↓往前端返回一个‘是否成功’，值为false modelMap.put("success", false); // ↓并且把失败的信息也传给前端，key是errMsg modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; // ↓这是一个接收图片的类 CommonsMultipartFile shopImg = null; // ↓文件上传解析器类，用来解析request中的文件 CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( // ↓通过这个请求的session的上下文去解析这个request request.getSession().getServletContext()); // ↓判断这个request中是否有上传文件流 if (commonsMultipartResolver.isMultipart(request)) &#123; // ↓有上传文件流，我们需将request强行转换成multipartHttpServletRequest MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; // ↓只有将request转换为multipartHttpServletRequest，我们才能从multipartHttpServletRequest中提取图片文件流 shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile("shopImg"); &#125; else &#123; // ↓没有文件流，向前端报错 modelMap.put("success", false); modelMap.put("errMsg", "上传图片不能为空"); return modelMap; &#125; // 2.注册店铺 // ↓判断店铺和图片是否为空 if (shop != null &amp;&amp; shopImg != null) &#123; // PersonInfo owner = (PersonInfo) request.getSession().getAttribute("user"); // ↓这里应该使用session去拿取用户的，后期再改 PersonInfo owner = (PersonInfo) request.getSession().getAttribute("user"); shop.setOwner(owner); // 店铺实体类的dto扩展类 ShopExecution se = null; try &#123; se = shopService.addShop(shop, shopImg.getInputStream(), shopImg.getOriginalFilename()); if (se.getState() == ShopStateEnum.CHECK.getState()) &#123; modelMap.put("success", true); // ↓因为用户和店铺是一对多的，所以要创建应该session来存储店铺列表 // ↓去除警告信息 @SuppressWarnings("unchecked") List&lt;Shop&gt; shopList = (List&lt;Shop&gt;) request.getSession().getAttribute("shopList"); // 如果是这个用户第一个创建的店铺 if (shopList == null || shopList.size() == 0) &#123; shopList = new ArrayList&lt;Shop&gt;(); &#125; shopList.add(se.getShop()); request.getSession().setAttribute("shopList", shopList); &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; &#125; catch (IOException e) &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; return modelMap; &#125; else &#123; // ↓为空，向前端报错 modelMap.put("success", false); modelMap.put("errMsg", "请输入店铺信息"); return modelMap; &#125;&#125; 添加两个方法 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677@RequestMapping(value = "/getshopbyid", method = RequestMethod.GET)@ResponseBodyprivate Map&lt;String, Object&gt; getShopById(HttpServletRequest request) &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); Long shopId = HttpServletRequestUtil.getLong(request, "shopId"); if (shopId &gt; -1) &#123; try &#123; Shop shop = shopService.getByShopId(shopId); List&lt;Area&gt; areaList = areaService.getAreaList(); modelMap.put("shop", shop); modelMap.put("areaList", areaList); modelMap.put("success", true); &#125; catch (Exception e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.toString()); &#125; &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", "empty shopId"); &#125; return modelMap;&#125;@RequestMapping(value = "/modifyshop", method = RequestMethod.POST)@ResponseBodyprivate Map&lt;String, Object&gt; modifyShop(HttpServletRequest request) &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); if (!CodeUtil.checkVerifyCode(request)) &#123; modelMap.put("success", false); modelMap.put("errMsg", "输入了错误的验证码"); return modelMap; &#125; // 1.接收并转化相应的参数，包括店铺信息以及图片信息 String shopStr = HttpServletRequestUtil.getString(request, "shopStr"); ObjectMapper mapper = new ObjectMapper(); Shop shop = null; try &#123; shop = mapper.readValue(shopStr, Shop.class); &#125; catch (Exception e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; CommonsMultipartFile shopImg = null; CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( request.getSession().getServletContext()); if (commonsMultipartResolver.isMultipart(request)) &#123; MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile("shopImg"); &#125; // 2.修改店铺信息 if (shop != null &amp;&amp; shop.getShopId() != null) &#123; // 店铺实体类的dto扩展类 ShopExecution se = null; try &#123; if (shopImg == null)&#123; se = shopService.modifyShop(shop, null, null); &#125;else &#123; se = shopService.modifyShop(shop, shopImg.getInputStream(), shopImg.getOriginalFilename()); &#125; if (se.getState() == ShopStateEnum.SUCCESS.getState()) &#123; modelMap.put("success", true); &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; &#125; catch (IOException e) &#123; modelMap.put("success", false); modelMap.put("errMsg", se.getStateInfo()); &#125; return modelMap; &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", "请输入店铺Id"); return modelMap; &#125;&#125; 启动Tomcat访问&lt;http://localhost:8080/shopadmin/getshopbyid?shopId=43&gt;，测试成功 9.12.2前端实现现在common.js中添加 12345678910111213/** * 组织正则表达式，主要是定位name所在的位置，并截取name=value * 如www.baidu.com:8080?a=1&amp;b=2&amp;c=3 * 若传入b，则获取b=2，并经过后续步骤拆解成2返回 */function getQueryString(name) &#123; var reg = new RegExp("(^|&amp;)" + name + "=([^&amp;]*)(&amp;|$)"); var r = window.location.search.substr(1).match(reg); if (r != null) &#123; return decodeURIComponent(r[2]); &#125; return '';&#125; 修改之前的shopoperation.js文件 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140$(function () &#123; // 从URL里获取shopId参数的值 var shopId = getQueryString('shopId'); // 由于店铺注册和编辑使用的是同一个页面， // 该标识符用来标明本次是添加还是编辑操作 var isEdit = shopId ? true : false; // 用于店铺注册时候的店铺类别以及区域列表的初始化的URL var initUrl = '/shopadmin/getshopinitinfo'; // 注册店铺的URL var registerShopUrl = '/shopadmin/registershop'; // 编辑店铺前需要获取店铺信息，这里为获取当前店铺信息的URL var shopInfoUrl = "/shopadmin/getshopbyid?shopId=" + shopId; // 编辑店铺信息的URL var editShopUrl = '/shopadmin/modifyshop'; // 判断是编辑操作还是注册操作 if (!isEdit) &#123; getShopInitInfo(); &#125; else &#123; getShopInfo(shopId); &#125; // 通过店铺Id获取店铺信息 function getShopInfo(shopId) &#123; $.getJSON(shopInfoUrl, function(data) &#123; if (data.success) &#123; // 若访问成功，则依据后台传递过来的店铺信息为表单元素赋值 var shop = data.shop; $('#shop-name').val(shop.shopName); $('#shop-addr').val(shop.shopAddr); $('#shop-phone').val(shop.phone); $('#shop-desc').val(shop.shopDesc); // 给店铺类别选定原先的店铺类别值 var shopCategory = '&lt;option data-id="' + shop.shopCategory.shopCategoryId + '" selected&gt;' + shop.shopCategory.shopCategoryName + '&lt;/option&gt;'; var tempAreaHtml = ''; // 初始化区域列表 data.areaList.map(function(item, index) &#123; tempAreaHtml += '&lt;option data-id="' + item.areaId + '"&gt;' + item.areaName + '&lt;/option&gt;'; &#125;); $('#shop-category').html(shopCategory); // 不允许选择店铺类别 $('#shop-category').attr('disabled', 'disabled'); $('#area').html(tempAreaHtml); // 给店铺选定原先的所属的区域 $("#area option[data-id='" + shop.area.areaId + "']").attr( "selected", "selected"); &#125; &#125;); &#125; // 取得所有二级店铺类别以及区域信息，并分别赋值进类别列表以及区域列表 function getShopInitInfo() &#123; // 发送一个异步请求，第一个参数访问地址，第二个参数回调函数 $.getJSON(initUrl, function (data) &#123; // ↓访问成功 if (data.success) &#123; // ↓初始化保存店铺分类的html文本 var tempHtml = ''; // ↓初始化保存区域分类的html文本 var tempAreaHtml = ''; // ↓赋值店铺分类html文本 // ↓shopCategoryList是返回的data数据里面的一项，由后端负责 // ↓以下是ES6语法，直接使用map方法将键值对的内容赋值给tempHtml data.shopCategoryList.map(function (item, index) &#123; tempHtml += '&lt;option data-id="' + item.shopCategoryId + '"&gt;' + item.shopCategoryName + '&lt;/option&gt;'; &#125;); // ↓同上 data.areaList.map(function (item, index) &#123; tempAreaHtml += '&lt;option data-id="' + item.areaId + '"&gt;' + item.areaName + '&lt;/option&gt;'; &#125;); // ↓重写id为shop-category的DOM元素的html内容 $('#shop-category').html(tempHtml); // ↓同上 $('#area').html(tempAreaHtml); &#125; &#125;); &#125;; // 提交按钮的事件响应，分别对店铺注册和编辑操作做不同响应 $('#submit').click(function () &#123; // 创建shop对象 var shop = &#123;&#125;; if (isEdit) &#123; // 若属于编辑，则给shopId赋值 shop.shopId = shopId; &#125; // 获取表单里的数据并填充进对应的店铺属性中 shop.shopName = $('#shop-name').val(); shop.shopAddr = $('#shop-addr').val(); shop.phone = $('#shop-phone').val(); shop.shopDesc = $('#shop-desc').val(); // 选择选定好的店铺类别 shop.shopCategory = &#123; shopCategoryId: $('#shop-category').find('option').not(function () &#123; return !this.selected; &#125;).data('id') &#125;; // 选择选定好的区域信息 shop.area = &#123; areaId: $('#area').find('option').not(function () &#123; return !this.selected; &#125;).data('id') &#125;; // 获取上传的图片文件流 var shopImg = $('#shop-img')[0].files[0]; // 生成表单对象，用于接收参数并传递给后台 var formData = new FormData(); // 添加图片流进表单对象里 formData.append('shopImg', shopImg); // 将shop json对象转成字符流保存至表单对象key为shopStr的的键值对里 formData.append('shopStr', JSON.stringify(shop)); // 获取表单里输入的验证码 var verifyCodeActual = $('#j_captcha').val(); if (!verifyCodeActual) &#123; $.toast('请输入验证码！'); return; &#125; formData.append('verifyCodeActual', verifyCodeActual); // 将数据提交至后台处理相关操作 $.ajax(&#123; url : (isEdit ? editShopUrl : registerShopUrl), type : 'POST', data : formData, contentType : false, processData : false, cache : false, success : function(data) &#123; if (data.success) &#123; $.toast('提交成功！'); &#125; else &#123; $.toast('提交失败！' + data.errMsg); &#125; // 点击验证码图片的时候，注册码会改变 $('#captcha_img').click(); &#125; &#125;); &#125;);&#125;); 测试成功&lt;http://localhost:8080/shopadmin/shopoperation?shopId=43&gt; 9.13店铺列表展示9.13.1修改Dao层ShopDao接口添加方法 123456789101112131415161718/** * 分页查询店铺，可输入的条件有：店铺名(模糊),店铺状态，店铺类别，区域Id,owner * * @param shopCondition * @param rowIndex 从第几行开始取数据 * @param pageSize 返回的条数 * @return */List&lt;Shop&gt; queryShopList(@Param("shopCondition") Shop shopCondition, @Param("rowIndex") int rowIndex, @Param("pageSize") int pageSize);/** * 返回queryShopList总数 * * @param shopCondition * @return */int queryShopCount(@Param("shopCondition") Shop shopCondition); 9.13.2修改Mybatis文件ShopDao.xml文件 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283&lt;select id="queryShopList" resultMap="shopMap"&gt; SELECT s.shop_id, s.shop_name, s.shop_desc, s.shop_addr, s.phone, s.shop_img, s.priority, s.create_time, s.last_edit_time, s.enable_status, s.advice, a.area_id, a.area_name, sc.shop_category_id, sc.shop_category_name FROM tb_shop s, tb_area a, tb_shop_category sc &lt;where&gt; &lt;if test="shopCondition.shopCategory != null and shopCondition.shopCategory.shopCategoryId != null"&gt; and s.shop_category_id = #&#123;shopCondition.shopCategory.shopCategoryId&#125; &lt;/if&gt; &lt;if test="shopCondition.area != null and shopCondition.area.areaId != null"&gt; and s.area_id = #&#123;shopCondition.area.areaId&#125; &lt;/if&gt; &lt;if test="shopCondition.shopName != null"&gt; and s.shop_name like '%$&#123;shopCondition.shopName&#125;%' &lt;/if&gt; &lt;if test="shopCondition.enableStatus != null"&gt; and s.enable_status = #&#123;shopCondition.enableStatus&#125; &lt;/if&gt; &lt;if test="shopCondition.owner != null and shopCondition.owner.userId != null"&gt; and s.owner_id = #&#123;shopCondition.owner.userId&#125; &lt;/if&gt; AND s.area_id=a.area_id AND s.shop_category_id = sc.shop_category_id &lt;/where&gt; ORDER BY s.priority DESC LIMIT #&#123;rowIndex&#125;,#&#123;pageSize&#125;;&lt;/select&gt;&lt;select id="queryShopCount" resultType="int"&gt; SELECT count(1) FROM tb_shop s, tb_area a, tb_shop_category sc &lt;where&gt; &lt;if test="shopCondition.shopCategory != null and shopCondition.shopCategory.shopCategoryId != null"&gt; and s.shop_category_id = #&#123;shopCondition.shopCategory.shopCategoryId&#125; &lt;/if&gt; &lt;if test="shopCondition.area != null and shopCondition.area.areaId != null"&gt; and s.area_id = #&#123;shopCondition.area.areaId&#125; &lt;/if&gt; &lt;if test="shopCondition.shopName != null"&gt; and s.shop_name like '%$&#123;shopCondition.shopName&#125;%' &lt;/if&gt; &lt;if test="shopCondition.enableStatus != null"&gt; and s.enable_status = #&#123;shopCondition.enableStatus&#125; &lt;/if&gt; &lt;if test="shopCondition.owner != null and shopCondition.owner.userId != null"&gt; and s.owner_id = #&#123;shopCondition.owner.userId&#125; &lt;/if&gt; AND s.area_id=a.area_id AND s.shop_category_id = sc.shop_category_id &lt;/where&gt;&lt;/select&gt; Dao层测试 ShopDaoTest测试类 123456789101112131415161718@Testpublic void testQueryShopList() &#123; Shop shopCondition = new Shop(); PersonInfo owner = new PersonInfo(); owner.setUserId(1L); shopCondition.setOwner(owner); List&lt;Shop&gt; shopList = shopDao.queryShopList(shopCondition, 0, 5); int count = shopDao.queryShopCount(shopCondition); System.out.println("店铺列表的大小：" + shopList.size()); System.out.println("店铺总数：" + count); ShopCategory sc = new ShopCategory(); sc.setShopCategoryId(36L); shopCondition.setShopCategory(sc); shopList = shopDao.queryShopList(shopCondition, 0, 2); count = shopDao.queryShopCount(shopCondition); System.out.println("===店铺列表的大小：" + shopList.size()); System.out.println("===店铺总数：" + count);&#125; 测试成功 9.13.3修改Service层ShopService接口添加方法 123456789/** * 根据shopCondition分页返回相应店铺列表 * * @param shopCondition * @param pageIndex * @param pageSize * @return */public ShopExecution getShopList(Shop shopCondition, int pageIndex, int pageSize); 因为这里接收的是页面，但是在底层Mybatis接收的是行数，所以要添加一个工具类 工具类 PageCalculator工具类 1234567package com.xiaoxin.o2o.util;public class PageCalculator &#123; public static int calculateRowIndex(int pageIndex, int pageSize) &#123; return (pageIndex &gt; 0) ? (pageIndex - 1) * pageSize : 0; &#125;&#125; ShopServiceImpl实现类添加方法 1234567891011121314151617@Overridepublic ShopExecution getShopList(Shop shopCondition, int pageIndex, int pageSize) &#123; //将页码转换成行码 int rowIndex = PageCalculator.calculateRowIndex(pageIndex, pageSize); //依据查询条件，调用dao层返回相关的店铺列表 List&lt;Shop&gt; shopList = shopDao.queryShopList(shopCondition, rowIndex, pageSize); //依据相同的查询条件，返回店铺总数 int count = shopDao.queryShopCount(shopCondition); ShopExecution se = new ShopExecution(); if (shopList != null) &#123; se.setShopList(shopList); se.setCount(count); &#125; else &#123; se.setState(ShopStateEnum.INNER_ERROR.getState()); &#125; return se;&#125; 测试Service层 12345678910@Testpublic void testGetShopList() &#123; Shop shopCondition = new Shop(); ShopCategory sc = new ShopCategory(); sc.setShopCategoryId(36L); shopCondition.setShopCategory(sc); ShopExecution se = shopService.getShopList(shopCondition, 2, 2); System.out.println("店铺列表数为：" + se.getShopList().size()); System.out.println("店铺总数为：" + se.getCount());&#125; 测试成功 9.13.4修改Controller层ShopManagementController控制类 1234567891011121314151617181920@RequestMapping(value = "/getshoplist", method = RequestMethod.GET)@ResponseBodyprivate Map&lt;String, Object&gt; getShopList(HttpServletRequest request) &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); PersonInfo user = (PersonInfo) request.getSession().getAttribute("user"); try &#123; Shop shopCondition = new Shop(); shopCondition.setOwner(user); ShopExecution se = shopService.getShopList(shopCondition, 0, 100); modelMap.put("shopList", se.getShopList()); // 列出店铺成功之后，将店铺放入session中作为权限验证依据，即该帐号只能操作它自己的店铺 request.getSession().setAttribute("shopList", se.getShopList()); modelMap.put("user", user); modelMap.put("success", true); &#125; catch (Exception e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.getMessage()); &#125; return modelMap;&#125; 测试&lt;http://localhost:8080/shopadmin/getshoplist&gt;]]></content>
      <categories>
        <category>后端</category>
      </categories>
      <tags>
        <tag>后端</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[致英子的情书5]]></title>
    <url>%2F2019%2F05%2F04%2F%E8%87%B4%E8%8B%B1%E5%AD%90%E7%9A%84%E6%83%85%E4%B9%A65%2F</url>
    <content type="text"><![CDATA[密码-回车 Incorrect Password! No content to display! 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]]></content>
      <categories>
        <category>致英子的情书</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[从零到电商项目实战]]></title>
    <url>%2F2019%2F03%2F24%2F%E4%BB%8E%E9%9B%B6%E5%88%B0%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[从零到一个大型电商网页项目 环境搭建两个环境的搭建 JDKTomcat环境变量1CATALINA_HOME=&gt;Tomcat安装目录 Tomcat字符集 进入tomcat安装的conf文件夹，编辑server.xml 找到配置8080默认端口的位置，在xml节点末尾增添URIEncoding=&quot;UTF-8&quot; Maven管理项目 ftpserver原为vsftpd，但是这个没有windows版的。他是一个ftp服务器软件 下载ftpserver下载地址下载完成之后，软件启动，使用ipconfig命令找到自己的IPv4地址，在浏览器中使用ftp://IPv4即可访问 NginxNginx是一款轻量级的Web服务器，也是一款反向代理服务器 Nginx作用 直接Rails和PHP的程序 HTTP的反向代理服务器 作为负载均衡服务器 作为邮件代理服务器 帮助实现前端动静分离 Nginx特点 高稳定 高性能 资源占用少 功能丰富 模块化结构 支持热部署 下载Nginx官网：Nginx官网双击图标运行 Nginx常用命令 测试配置文件在安装目录下cmd键入 1nginx -t 启动命令在安装目录下cmd键入 1nginx 停止命令在安装目录下cmd键入 123nginx -s stop或者nginx -s quit 重启命令 1nginx -s reload 查看进程命令 1ps -ef|grep nginx 平滑重启 1kill -HUP [上面的命令的进程PID] 增加防火墙访问权限 sudo vim/etc/sysconfig/iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 80 -j ACCEPT 保存退出 重启防火墙sudo serice iptables restart Nginx虚拟域名配置及测试验证 编辑sudo vim/usr/local/nginx/conf/nginx.conf 增加include vhost/*.conf 保存退出 在/usr/local/nginx/conf/目录新建vhost文件夹 创建域名转发配置文件，点击查看详情 learning.happymmall.com.conf happymmall.com.conf img.happymmall.com.conf s.happymmall.com.conf 启动/重启验证 启动：${nginx}/sbin/nginx 重启：${nginx}/sbin/nginx -s reload ${nginx}为nginx安装路径 访问验证使用默认80端口验证访问:http://locahost:80或者127.0.0.1:80 指向端口learning.happymmall.com.confhappymmall.com.conf(即指向端口又指向目录) windows配置nginx下载nginx下载的nginx是一个压缩包，解压即可用在当前解压目录里面cmd-&gt;nginx.exe执行之后就可以在进程之中看到nginx的运行进程 配置localhost 在windows中打开C:\Windows\System32\drivers\etc\hosts 在文件末尾添加1127.0.0.1 www.imooc.com 这样host就配置好了，在nginx运行的情况下，浏览器输入www.imooc.com，nginx就会自动将这个代理到127.0.0.1 配置nginx主配置 打开nginx的解压目录\conf\nginx.conf 这是nginx的主配置 在95行上添加1include vhost/*.conf; 这样就添加了一个文件夹，vhost文件夹要我们自己去创建 在conf文件夹下创建vhost文件夹 图片代理配置 在vhost文件夹下创建image.imooc.com.conf文件1234567891011121314151617181920server &#123; listen 80; autoindex off; server_name image.imooc.com; access_log c:/access.log combined; index index.html index.htm index.jsp index.php; #error_page 404 /404.html; if ( $query_string ~* &quot;.*[\;&apos;\&lt;\&gt;].*&quot; )&#123; return 404; &#125; location ~ /(mmall_fe|mmall_admin_fe)/dist/view/* &#123; deny all; &#125; location / &#123; root C:\ftpfile\img; add_header Access-Control-Allow-Origin *; &#125;&#125; listen：端口 autoindex：是否创建索引，因为是资源文件，所以不需要。不然访问这个url的时候会和ftp界面一样 server_name：服务名称 access_log：日记在服务器中的位置（nginx将我们的电脑代理成服务器） location： root：root节点会转发到一个目录下（路由重定向？） 因为配置了转发，所以我们要在电脑上创建对应的文件夹-&gt;C:\ftpfile\img localhost添加代理 在windows中打开C:\Windows\System32\drivers\etc\hosts 在文件末尾添加1127.0.0.1 image.imooc.com 重启nginx cmd进入nginx解压目录执行-&gt;nginx.exe -t 执行nginx.exe -s reload命令 nginx.exe -t是检验配置是否正确的命令nginx.exe -s reload是nginx重新加载配置的命令 检验图片 浏览器输入：image.imooc.com，回车这样浏览器访问的就是我们电脑的80端口 浏览器输入：image.imooc.com/xxx.jpg，回车前提是你要在电脑的C:\ftpfile\img下添加了xxx.jpg文件，如果添加了，那么浏览器就会显示处这个图片 ip端口转发配置 在vhost文件夹下创建tomcat.imooc.com.conf文件 使用这个域名进行ip端口的转发，从而转发到tomcat的服务端口上 12345678910111213141516server &#123; listen 80; autoindex on; server_name tomcat.imooc.com; access_log c:/access.log combined; index index.html index.htm index.jsp index.php; #error_page 404 /404.html; if ( $query_string ~* &quot;.*[\;&apos;\&lt;\&gt;].*&quot; )&#123; return 404; &#125; location / &#123; proxy_pass http://127.0.0.1:8080; add_header Access-Control-Allow-Origin *; &#125;&#125; localhost添加代理 在windows中打开C:\Windows\System32\drivers\etc\hosts 在文件末尾添加1127.0.0.1 tomcat.imooc.com 重启nginx cmd进入nginx解压目录执行-&gt;nginx.exe -t 执行nginx.exe -s reload命令 启动tomcat，然后在浏览器输入tomcat.imooc.com，检验nginx是否代理到了8080端口 MySQLMySQL配置配置环境变量在cmd中执行mysql -u root -p输入密码-&gt;验证 查看目前mysql用户 1select user,host,password form mysql.user 修改root密码 1set password for root@localhost=password(&apos;youpassword&apos;); 用户配置权限配置新建databaseMySQL验证MySQL常用命令git用户名1git config --global user.name &quot;yourName&quot; global是全局的意思提交的时候要用 邮箱1config --global user.email &quot;yourEmail&quot; 其他配置1git config --global merge.tool &quot;kdiff3&quot; 如果没有装KDiff3的就不用设置这一行1git config --global core.autocrlf false 让Git不要管Windows/Unix换行符转换的事 数据表结构设计表结构用户表 id:int username:varchar password:varchar email:varchar phone:varchar question:varchar answer:varchar role:int create_time:datetime update_time:datetime1234567891011121314CREATE TABLE `mmall_user`( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;用户表id&apos;, `username` varchar(50) NOT NULL COMMENT &apos;用户名&apos;, `password` varchar(50) NOT NULL COMMENT &apos;用户密码，MD5加密&apos;, `email` varchar(50) DEFAULT NULL, `phone` varchar(20) DEFAULT NULL, `question` varchar(100) DEFAULT NULL COMMENT &apos;找回密码问题&apos;, `answer` varchar(100) DEFAULT NULL COMMENT &apos;找回密码答案&apos; `role` int(4) NOT NULL COMMENT &apos;角色0-管理员，1-普通用户&apos;, `create_time` datetime NOT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime NOT NULL COMMENT &apos;最后一次更新时间&apos;, PRIMARY KEY (`id`), UNIQUE KEY `user_name_unique` (`username`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8 sql语法 NOT NULL：不能为空 AUTO_INCREMENT：自增长 COMMENT：注释 PRIMARY KEY：主键 UNIQUE KEY：特殊的键，唯一索引，主要解决重复登录问题UNIQUE KEYuser_name_unique(username) USING BTREE把username使用BTREE设置成user_name_unique唯一索引 DEFAULT：默认值 ENGINE=InnoDB：使用InnoDB这种引擎 CHARSET：字符集 分类表 id:int parent_id:int name:varchar status:tinyint sort_order:int create_time:datetime update_time:datetime12345678910CREATE TABLE `mmall_category`( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;分类id&apos;, `parent_id` int(11) DEFAULT NULL COMMENT &apos;父类别id当id=0时说明是根节点，一级类别&apos;, `name` varchar(50) DEFAULT NULL COMMENT &apos;类别名称&apos;, `status` tinyint(1) DEFAULT &apos;1&apos; COMMENT &apos;类别状态1-正常，2-已废弃&apos;, `sort_order` int(4) DEFAULT NULL COMMENT &apos;排序编号，同类展示顺序，数值相等则自然排序&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`),) ENGINE=InnoDB AUTO_INCREMENT=100032 DEFAULT CHARSET=utf8 sort_order：扩展分类排序而留的一个字段 产品表 id:int category_id:int name:varchar subtitle:varchar main_image:varchar sub_image:text detail:text price:decimal stock:int status:int create_time:datetime update_time:datetime123456789101112131415CREATE TABLE `mmall_product`( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;商品id&apos;, `category_id` int(11) NOT NULL COMMENT &apos;分类id，对应mmall_category表的主键&apos;, `name` varchar(100) NOT NULL COMMENT &apos;商品名称&apos;, `subtitle` varchar(200) DEFAULT NULL COMMENT &apos;商品副标题&apos;, `main_image` varchar(500) DEFAULT NULL COMMENT &apos;产品主图，url相对地址&apos;, `sub_image` text COMMENT &apos;图片地址，json格式，扩展用&apos;, `detail` text COMMENT &apos;商品详情&apos;, `price` decimal(20,2) NOT NULL COMMENT &apos;价格，单位-元保留两位小数&apos;, `stock` int(11) NOT NULL COMMENT &apos;库存数量&apos;, `status` int(6) DEFAULT &apos;1&apos; COMMENT &apos;商品状态，1-在售 2-下架 3-删除&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`),) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8 main_image：图片的路径为什么是相对路径呢，因为数据库里面存的路径要加上服务器的地址前缀才能找到图图片。有利于图片服务器的维护。主图在业务逻辑上是取子图的第一个图，有个时候需求只需要select出来主图，就不用把所有的图片都找一遍 sub_image：这里使用text是因为不能给副图片添加限制 detail：存的是一个富文本，会有加粗标签等等。 decimal(20,2)：20代表小数总共20位数，2代表小数位2位，整数位18位 购物车表 id:int user_id:int product_id:int quantity:int checked:int create_time:datetime update_time:datetime1234567891011CREATE TABLE `mmall_cart`( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `product_id` int(11) DEFAULT NULL COMMENT &apos;商品id&apos;, `quantity` int(11) DEFAULT NULL COMMENT &apos;数量&apos;, `checked` int(11) DEFAULT NULL COMMENT &apos;是否选择，1=已勾选，0=未勾选&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`), KEY `user_id_index` (`user_id`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=121 DEFAULT CHARSET=utf8 KEY：将user_id也设置为一个很重要的键，会加快查询的速度，应该是放入缓存 支付信息表 id:int user_id:int order_no:bigint pay_platform:int platform_number:varchar platform_status:varchar create_time:datetime update_time:datetime1234567891011CREATE TABLE `mmall_pay_info`( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL COMMENT &apos;用户id&apos;, `order_no` bigint(20) DEFAULT NULL COMMENT &apos;订单号&apos;, `pay_platform` int(10) DEFAULT NULL COMMENT &apos;支付平台：1-支付宝，2-微信&apos;, `platform_number` varchar(200) DEFAULT NULL COMMENT &apos;支付宝支付流水号&apos;, `platform_status` varchar(20) DEFAULT NULL COMMENT &apos;支付宝支付状态&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`),) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=utf8 订单表 id:int order_no:bigint user_id:int shipping_id:int payment:decimal payment_type:int postage:int status:int payment_time:datetime send_time:datetime end_time:datetime close_time:datetime create_time:datetime update_time:datetime123456789101112131415161718CREATE TABLE `mmall_order`( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;订单id&apos;, `order_no` bigint(20) DEFAULT NULL COMMENT &apos;订单号&apos;, `user_id` int(11) DEFAULT NULL COMMENT &apos;用户id&apos;, `shipping_id` int(11) DEFAULT NULL, `payment` decimal(20,2) DEFAULT NULL COMMENT &apos;实际付款金额，单位是元，保留两位小数&apos;, `payment_type` int(4) DEFAULT NULL COMMENT &apos;支付类型，1-在线支付&apos;, `postage` int(10) DEFAULT NULL COMMENT &apos;运费，单位是元&apos;, `status` int(10) DEFAULT NULL COMMENT &apos;订单状态，0-已取消，10-未付款，20-已付款，40-已发货，50-交易成功，60-交易关闭&apos;, `payment_time` datetime DEFAULT NULL COMMENT &apos;支付时间&apos;, `send_time` datetime DEFAULT NULL COMMENT &apos;发货时间&apos;, `end_time` datetime DEFAULT NULL COMMENT &apos;交易完成时间&apos;, `close_time` datetime DEFAULT NULL COMMENT &apos;交易关闭时间&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`), UNIQUE KEY `order_no_index` (`order_no`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=103 DEFAULT CHARSET=utf8 订单明细表 id:int user_id:int order_no:bigint product_id:int product_name:varchar product_image:varchar current_unit_price:decimal quantity:int total_price:decimal create_time:datetime update_time:datetime12345678910111213141516CREATE TABLE `mmall_order_item`( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;订单id&apos;, `user_id` int(11) DEFAULT NULL, `order_no` bigint(20) DEFAULT NULL, `product_id` int(11) DEFAULT NULL COMMENT &apos;商品id&apos;, `product_name` varchar(100) DEFAULT NULL COMMENT &apos;商品名称&apos;, `product_image` varchar(500) DEFAULT NULL COMMENT &apos;商品图片地址&apos;, `current_unit_price` decimal(20,2) DEFAULT NULL COMMENT &apos;生成订单时的商品单价，单位是元，保留两位小数&apos;, `quantity` int(10) DEFAULT NULL COMMENT &apos;商品数量&apos;, `total_price` decimal(20,2) DEFAULT NULL COMMENT &apos;商品总价，单位是元，保留两位小数&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`), KEY `order_no_index` (`order_no`) USING BTREE KEY `order_no_user_id_index` (`user_id`,`order_no`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=113 DEFAULT CHARSET=utf8 order_no_user_id_index：组合索引 收货地址表 id:int user_id:int receiver_name:varchar receiver_phone:varchar receiver_mobile:varchar receiver_province:varchar receiver_city:varchar receiver_district:varchar receiver_address:varchar receiver_zip:varchar create_time:datetime update_time:datetime123456789101112131415CREATE TABLE `mmall_shipping`( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL COMMENT &apos;用户id&apos;, `receiver_name` varchar(20) DEFAULT NULL COMMENT &apos;收货姓名&apos;, `receiver_phone` varchar(20) DEFAULT NULL COMMENT &apos;收货固定电话&apos;, `receiver_mobile` varchar(20) DEFAULT NULL COMMENT &apos;收货移动电话&apos;, `receiver_province` varchar(20) DEFAULT NULL COMMENT &apos;省份&apos;, `receiver_city` varchar(20) DEFAULT NULL COMMENT &apos;城市&apos;, `receiver_district` varchar(20) DEFAULT NULL COMMENT &apos;区/县&apos;, `receiver_address` varchar(200) DEFAULT NULL COMMENT &apos;详细地址&apos;, `receiver_zip` varchar(6) DEFAULT NULL COMMENT &apos;邮编&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;, `update_time` datetime DEFAULT NULL COMMENT &apos;更新时间&apos;, PRIMARY KEY (`id`),) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8 表关系注册注册之后会存到mmall_user表里面 登录读取mmall_user表，验证 搜索产品读取mmall_category分类表和mmall_product产品表。我们可以传关键字或者category_id分类id。如果category_id比较高，我们就查询mmall_category分类表递归查询，然后查出所有符合这个分类的或者关键字的product_id的产品集合 产品添加购物车获取要添加的产品的id放到mmall_cart购物车表中的product_id，获取登录用户的id放到mmall_cart购物车表中的user_id，把产品的数量quantity和是否已购选checked，进行持久化存储 购物车中提交订单在生成订单之前，从mmall_shipping获取用户要使用的收获地址，然后就到了mmall_order订单表和mmall_order_item订单详情表，mmall_order订单表会生成一个order_no订单号，user_id会在确认生成订单的时候获取，shipping_id从mmall_shipping表中拿到主键，payment会对mmall_product表进行一个计算，至于mmall_order_item表和mmall_product表他们是一个一对一的关系，mmall_order_item表和mmall_order表是一个多对一的关系 支付这个订单当我们接收到支付宝的回调的时存到mmall_pay_info表里面，然后我们会对回调的状态进行一个判断，如果是支付成功，我们会对mmall_order表的payment_time进行写入。 在以上数据库设计中都没有使用外键， 在以后扩展分库分表的时候，外键会非常的麻烦，在清洗数据时也会很麻烦。 同理数据库内置的触发器也是一样的，所以都不使用。 说不定哪天火了，或者对外进行推广，导入流量，所以有时候可以对某些字段进行适当的冗余 唯一索引唯一索引保证数据的唯一性，比如user表里的user_name_unique 单索引及组合索引为了查询更加快速 后悔药-时间戳查业务问题的后悔药 create_time:数据创建时间 update_time:数据更新时间 项目初始化数据库初始化使用Navicat Premium 由于MySQL8.0和Navicat Premium版本的冲突，MySQL8.0的加密更新了，我们可以更新Navicat Premium，但是那太麻烦，所以我们就直接修改MySQL 链接 创建数据库使用Navicat Premium链接本地的数据库Mysql，然后创建一个数据库 后端初始化使用Maven新建一个webapp项目 项目结构 在main文件夹里面创建一个java、resources文件夹，分别设置为Sources Root、Resources Root 文件夹-&gt;右键-&gt;Mark Directory as-&gt; 在src文件夹中创建test文件夹用于单元测试，设置为Test Sources Root 在main/java中创建包com.mmall.- 包中存在 controller –service的上一层 dao –最底层db交互 service –dao的上一层 util –工具类 vo –valueObject pojo –简单的数据库对象，上层是vo common –全局的常量 pojo里面放的是和db里面一样的一一对应的字段dao层是一些接口，供我们service层调用 mybatis三剑客generator根据数据库自动生成pojo和dao和对应的xml文件xml是dao层的实现，我们的sql语句都会写在xml里面 安装在pom.xml文件中添加插件 123456789&lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;configuration&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;/configuration&gt;&lt;/plugin&gt; 这里遇到的问题 插件的启动在IDEA中找不到将插件配置出来单独拿一个plugins中包裹着 JDBC驱动链接不成功由于我的MySQL是8.0的，官方要求使用MySQLmysql-connector-java-8.0.13.jar高版本的connector Maven中添加不了高版本的依赖自己下载，可以在Maven官网里面下载 下载好最新的JDBC驱动之后，服务器时间报错解决链接在MySQLplus里面执行 1show variables like &apos;%time_zone%&apos;; 注意分号1set global time_zone=&apos;+8:00&apos;; 配置resources下有两个文件 datasource.properties 12345678910111213141516db.driverLocation=D:/SteupPath/MySQL/mysql-connector-java-8.0.13.jardb.driverClassName=com.mysql.cj.jdbc.Driver#db.url=jdbc:mysql://192.1.1.1:3306/mmall?characterEncoding=utf-8db.url=jdbc:mysql://127.0.0.1:3306/mmall_learning?characterEncoding=utf-8db.username=rootdb.password=xiaoxin#db.initialSize = 20#db.maxActive = 50#db.maxIdle = 20#db.minIdle = 10#db.maxWait = 10#db.defaultAutoCommit = true#db.minEvictableIdleTimeMillis = 3600000 generatorConfig.xml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN" "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;&lt;generatorConfiguration&gt; &lt;!--导入属性配置--&gt; &lt;properties resource="datasource.properties"&gt;&lt;/properties&gt; &lt;!--指定特定数据库的jdbc驱动jar包的位置--&gt; &lt;classPathEntry location="$&#123;db.driverLocation&#125;"/&gt; &lt;context id="default" targetRuntime="MyBatis3"&gt; &lt;!-- optional，旨在创建class时，对注释进行控制 --&gt; &lt;commentGenerator&gt; &lt;property name="suppressDate" value="true"/&gt; &lt;property name="suppressAllComments" value="true"/&gt; &lt;/commentGenerator&gt; &lt;!--jdbc的数据库连接 --&gt; &lt;jdbcConnection driverClass="$&#123;db.driverClassName&#125;" connectionURL="$&#123;db.url&#125;" userId="$&#123;db.username&#125;" password="$&#123;db.password&#125;"&gt; &lt;/jdbcConnection&gt; &lt;!-- 非必需，类型处理器，在数据库类型和java类型之间的转换控制--&gt; &lt;javaTypeResolver&gt; &lt;property name="forceBigDecimals" value="false"/&gt; &lt;/javaTypeResolver&gt; &lt;!-- Model模型生成器,用来生成含有主键key的类，记录类 以及查询Example类 targetPackage 指定生成的model生成所在的包名 targetProject 指定在该项目下所在的路径 --&gt; &lt;!--&lt;javaModelGenerator targetPackage="com.mmall.pojo" targetProject=".\src\main\java"&gt;--&gt; &lt;javaModelGenerator targetPackage="com.mmall.pojo" targetProject="./src/main/java"&gt; &lt;!-- 是否允许子包，即targetPackage.schemaName.tableName --&gt; &lt;property name="enableSubPackages" value="false"/&gt; &lt;!-- 是否对model添加 构造函数 --&gt; &lt;property name="constructorBased" value="true"/&gt; &lt;!-- 是否对类CHAR类型的列的数据进行trim操作 --&gt; &lt;property name="trimStrings" value="true"/&gt; &lt;!-- 建立的Model对象是否 不可改变 即生成的Model对象不会有 setter方法，只有构造方法 --&gt; &lt;property name="immutable" value="false"/&gt; &lt;/javaModelGenerator&gt; &lt;!--mapper映射文件生成所在的目录 为每一个数据库的表生成对应的SqlMap文件 --&gt; &lt;!--&lt;sqlMapGenerator targetPackage="mappers" targetProject=".\src\main\resources"&gt;--&gt; &lt;sqlMapGenerator targetPackage="mappers" targetProject="./src/main/resources"&gt; &lt;property name="enableSubPackages" value="false"/&gt; &lt;/sqlMapGenerator&gt; &lt;!-- 客户端代码，生成易于使用的针对Model对象和XML配置文件 的代码 type="ANNOTATEDMAPPER",生成Java Model 和基于注解的Mapper对象 type="MIXEDMAPPER",生成基于注解的Java Model 和相应的Mapper对象 type="XMLMAPPER",生成SQLMap XML文件和独立的Mapper接口 --&gt; &lt;!-- targetPackage：mapper接口dao生成的位置 --&gt; &lt;!--&lt;javaClientGenerator type="XMLMAPPER" targetPackage="com.mmall.dao" targetProject=".\src\main\java"&gt;--&gt; &lt;javaClientGenerator type="XMLMAPPER" targetPackage="com.mmall.dao" targetProject="./src/main/java"&gt; &lt;!-- enableSubPackages:是否让schema作为包的后缀 --&gt; &lt;property name="enableSubPackages" value="false" /&gt; &lt;/javaClientGenerator&gt; &lt;table tableName="mmall_shipping" domainObjectName="Shipping" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_cart" domainObjectName="Cart" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_cart_item" domainObjectName="CartItem" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_category" domainObjectName="Category" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_order" domainObjectName="Order" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_order_item" domainObjectName="OrderItem" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_pay_info" domainObjectName="PayInfo" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;table tableName="mmall_product" domainObjectName="Product" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt; &lt;columnOverride column="detail" jdbcType="VARCHAR" /&gt; &lt;columnOverride column="sub_images" jdbcType="VARCHAR" /&gt; &lt;/table&gt; &lt;table tableName="mmall_user" domainObjectName="User" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt; &lt;!-- geelynote mybatis插件的搭建 --&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt; 这样双击指令之后就可以执行生成方法了 Mybatis-Plugins这个IDEA的插件方便我们在dao层的接口中找到xml文件里面的方法，他们之间可用来回转换。在IDEA设置中Plugins添加插件Mybatis Plugins,重启即可 Mybatis-pagehelperMybatis的分页插件，它是开源的，在GitHub上面 安装又不能使用Maven引入，只能之间下载了 使用后期再说 Spring准备网址 spring-framework官网 这里又一些介绍和说明 spring-mvc-showcase的GitHub spring-mvc-showcase里面有很多SpringMVC的配置 spring-petclinic官方的宠物医院的例子 这个springDemo我们也可以拿到很多配置文件和例子 greenhouse官方的绿房子的例子 这个greenhouseDemo我们也可以拿到很多配置文件和例子 spring-boot的GitHub 在spring-boot下的spring-boot-samples文件夹下也有很多例子 Spring配置我挥舞着键盘和本子，发誓要把世界写个明明白白]]></content>
      <tags>
        <tag>Web</tag>
        <tag>实战</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaWeb基础01xml文件]]></title>
    <url>%2F2019%2F03%2F23%2FJavaWeb%E5%9F%BA%E7%A1%8001xml%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Java网页编程的基础 什么是xml可扩展标记语言可扩展标记语言，标准通用标记语言的子集，是一种用于标记电子文件使其具有结构性的标记语言。在电子计算机中，标记指计算机所能理解的信息符号，通过此种标记，计算机之间可以处理包含各种的信息比如文章等。它可以用来标记数据、定义数据类型，是一种允许用户对自己的标记语言进行定义的源语言。 它非常适合万维网传输，提供统一的方法来描述和交换独立于应用程序或供应商的结构化数据。是Internet环境中跨平台的、依赖于内容的技术，也是当今处理分布式结构信息的有效工具。早在1998年，W3C就发布了XML1.0规范，使用它来简化Internet的文档信息传输。 xml作用 配置文件 很多配置文件都是使用xml编写的，这样配置文件的结构就会很清晰 数据传输 xml语法 文件以.xml文件结尾 第一行文档声明，必须放在第一行 123&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!--↑文档声明，而且必须在第一行--&gt;&lt;test01&gt;Hello&lt;/test01&gt; 大小写敏感 标记必须有结束，单标记自己结束 标记可以有自己的属性名和属性值，属性值必须拿双引号包裹 标记不要使用空格 xml文档约束有哪些标签，有哪些属性，对xml的要求就是对xml文档的约束 约束规则两种约束文件 DTD Schema Schema是DTD的扩展，比DTD更强 带有DTD的XML文档1234567891011121314151617&lt;?xml version="1.0"?&gt;&lt;!--↓约束规则--&gt;&lt;!--↓note标签只能有4个子标签，顺序，有无属性都必须按照规定的来--&gt;&lt;!DOCTYPE note [ &lt;!ELEMENT note (to,from,heading,body)&gt; &lt;!ELEMENT to (#PCDATA)&gt; &lt;!ELEMENT from (#PCDATA)&gt; &lt;!ELEMENT heading (#PCDATA)&gt; &lt;!ELEMENT body (#PCDATA)&gt;]&gt;&lt;!--↓xml内容--&gt;&lt;note&gt; &lt;to&gt;George&lt;/to&gt; &lt;from&gt;John&lt;/from&gt; &lt;heading&gt;Reminder&lt;/heading&gt; &lt;body&gt;Don't forget the meeting!&lt;/body&gt;&lt;/note&gt; 带有Schema的XML文档schema文档本身就是一个xml文档，文件后缀名为xsd123456789101112131415161718&lt;?xml version="1.0"?&gt;&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"targetNamespace="http://www.w3school.com.cn"xmlns="http://www.w3school.com.cn"elementFormDefault="qualified"&gt;&lt;xs:element name="note"&gt; &lt;xs:complexType&gt; &lt;xs:sequence&gt; &lt;xs:element name="to" type="xs:string"/&gt; &lt;xs:element name="from" type="xs:string"/&gt; &lt;xs:element name="heading" type="xs:string"/&gt; &lt;xs:element name="body" type="xs:string"/&gt; &lt;/xs:sequence&gt; &lt;/xs:complexType&gt;&lt;/xs:element&gt;&lt;/xs:schema&gt; xml的解析DOM方式的解析DOM文档对象模型（树形结构）DOM方式解析，就是把xml文档加载到内存形成树结构，可以进行增删查改可以使用DOMfj工具来解析，可以去domfj的官网来学习 我挥舞着键盘和本子，发誓要把世界写个明明白白]]></content>
      <categories>
        <category>后端</category>
        <category>JavaWeb</category>
        <category>Xml</category>
      </categories>
      <tags>
        <tag>后端</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[致英子的情书4]]></title>
    <url>%2F2019%2F03%2F20%2F%E8%87%B4%E8%8B%B1%E5%AD%90%E7%9A%84%E6%83%85%E4%B9%A64%2F</url>
    <content type="text"><![CDATA[密码-回车 Incorrect Password! No content to display! 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]]></content>
      <categories>
        <category>致英子的情书</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[JavaScript基础04-常用方法]]></title>
    <url>%2F2019%2F03%2F02%2FJavaScript%E5%9F%BA%E7%A1%8004-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[包含数据类型的转换,数组的查询,排序,去重,字符串处理,Math等]]></content>
      <categories>
        <category>前端</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[致英子的情书3]]></title>
    <url>%2F2019%2F03%2F01%2F%E8%87%B4%E8%8B%B1%E5%AD%90%E7%9A%84%E6%83%85%E4%B9%A63%2F</url>
    <content type="text"><![CDATA[密码-回车 Incorrect Password! No content to display! U2FsdGVkX19cMVH7lNO7S0Z8x1a6xHmkeT9IHJ3oPwv3aAyz5suEJJjXBP2Dz/4wEcHA5VVaZHlRsEScaifaGX1t1PK/RSXgqIpZKYK7UjWLRGt30XpdbY83hJglHMSqSphe+TXUQKsc0TmKebLmhAG0S9vu98cIn6yU57ZdTf7hfit8Ureo0HCIQe3QxY5k/y5g7TtNA1LemJxGQCA1FfhnZX0NYMTuTn0btqcwfWEvc3EyHF3wOb2c8EdiY0987Xwy2Ozr7NGUcFS0bNot0oP/dBUFSB0OhfPYa9RzLdJNdmYU8Rz13m2eCSJkioBHfxcacHTrMn8Wt4sBZEb+FkW6JwP1yag1ooXjJVYHxBRaFmxph+L8nM9PkzGCyLz9lzTQ2wB3+ZDO9YPUdFDZPyMmLwqRyOIpug7gLkJ5qtWu5RXMiuFWr465o9HUHCFedeftR9Kmv55qzqpzrcdVmf7uXTZ+LUjg2N3RMZbEtNLEiLFGEYo+bDvtoDu44KvwbpsMIwZ6lw210UJgX/5sz60AkWPS8pqk1Oc//m/+xgI71WZumia3s3to1D3SlzHfgu8nQtzh/a3hAVSFghoBnVaORRcEwDkMidDOr+kx6rKZYTe870o8WKxHc+sNeAGOqxXTANIRknku4nwyjlzuB1gA20xz3Zqhe3C7N1s9PGzInhiYQI6DSR6IP5nCqdv4IIg16CatdCVRx+UjOHIr1d5uIvgkczf2rMGtqa0ei+P6LupYQN2UJy2RWT/jKyXA8yt3/uRvyt5S7TwfJKKRxd3jkBS/Pjub6UZFEkK7WvsrFazyb2bnmArjSF3PBLhW30Kfb1gGS6LVbi9gZ6jWyaoG9hRpKneAw2+stfJzk1oroAQ5kyirR0Afs+Skf0FAEY33/G9CwhmLiHHnVVFH5ok9PowDyVwVGAeiIVkQMC5P+IU/4yBbhH6cw7Rv+M4DFjL1KjzcTq/DYkJ1q4ZwYrYOvwNgwX1zgA9FsJD2jSBePgAiA7Jjj6EsF31K9TtSOSnPuk9H1qnmrNCu9O48jwHvRpL0sur1T14m2dRLuXASeOR8onvHE1JQd3QzOf1ylgfS74sQfKtGFOjAx2Xg8gZP9pfN82yfL/izu8WyduAmCcLMgI8Gqi8z8wKIsZjZUh6oa6PX03m0xcwgz7zX5B9inIM2YGvrQkiiBUtFmP6Meib/5s48Yb2y5vex2FRSPmGhnLKESwa+jlp2P8HkzrlERBLrkQA9kSUMwvyAbfVGJ65IP5BWElFZyaC5Hl+yF3OyopbgGPz8iKavQV4AkRMEoqyXOsWVEIKzY7LSVi8TMDjRQvl9hct8kgv8IXpTtpbE8PYZK0IT2EEHFXDv/RQwR7jFmkUB5n26gQv4q3nKXUJXBPqdgKTXjK+i2AWCIFvrd3oaWs0DWstY31QGPEtknSLRCK1gsvnUQLzUJIQHPYppYFUzczU3sfQI7lxxNanFV07JuWFm5XBWZhXFXMSGercKEdI1RlhUioWpPgrhzBlMrnpG1DiniX+c674QL6iIGEXGnD52LPoKkrXUIO89a62o89ypMOmE+vgYmv2RFl76UBjiXX+TPH/5UzwoDC+KnuNdBysgMXQjjTjb1MreSpFxtU7vYNpjIva646zOPMbfstYA3cfnvLJQ9uX6lv7rH929YeeWZZx3e4r5uDYe7hqMaSnNjMKw2ukNdhbbTdYyTksrXbQOVibzoQYot+OGtQ5/CgQLBZ/uphScaGF3qiTJpZUUEVEQnTPuiR6L47FxgZCBhpXnCVafmhoEI7X8OnVTdo9YVosXYKvtriUmUFEsg1YnsbfvXS35Eucdq93Dl74Vo3Ra/OdOP5G/oJXinZkG2fW3P4fHdGc+s3s86IJqztEp7fIBfOJHJkquTvKECmM8kteKa4na0kUcu03y4VfmQOEFcJ5ptm6E/yg73178H0KzfcFT8eMf2IMbXoMmYyYI+vg78QVdGyhsId+oXDR5/X+qr/wLSWJTvxlJxWqQYJDKm6T0NG8R33Vo6naPbr7y8DXo1IMWwHOeoPP/ZWPqf/9OkId9CfzWDTiAmA19jfzPnq0Tpo1XsU1q+YcUoXh+jO5RhSx2EPIk+F01+aqfywwL00m4NjQtc94udOC0iaHupdSE2wuxbEJjI5iHFI864t9QiJJT1Pqe8AsJsOYFzFPCkVghpv7sB0a38RS/7jcAachkySYW0p31SQJBKEc3fpM/vT9++k/6GVpvRwf3s3bY0qARlI+jGJA8Ddi/7awLdB/FJGctavaK/KR8HDk4ybEVTbbcuTPo20RpGQVjz6hqc/AytjWL+tKzvs1frsqxrmPx57JZc8TVQGczccKzZ2LOOnNnD2BD9/12UxYGxWpM3AUJBvmT5saFZYJpMKgvBvfYy49z8+0Z9OTYnUoxfJ5IWVnZIsu9T/7+hgCWkbiybnE7S2xMhxV+pXY6yR/bF5iz75czNiiclHFtawvtdHVqD0/jxvBnMZBQqQntJxzPFjuoU5rddkjr1HTVpHwqOOapt0Jxi6AQN1Nv1w3YdRuZMi+Kw4sd2h1MYVXHimKqSojaWOKYKgqiR8XqFloE+UaO3+HEURPWieHC5aTApFWcTZRLzLc8GhJfBg0BoBLmyI9qitQvTHrGq/OoQAWgHwUuzZGPZ4SNTmZUQ/nbYdMsk5UWtq/RgXnurgNZGDjySb0bs6rSFQAiJD3/11iv9QXfzSrJ2cYkPPjC9J/C9IVS3WSGiZCRYTVDOPuQiRaKnlg9GhimWMIaUMtW9gGXr/1UN99ABQNdTFGd4+n8besSMddCKEnMBh8Cqb0covAFmteMEwl0ZYgJMZee2q1j/gED86hSWXQtuhbLC9jgWxiW0gvEMgwxMHhgoazTu7AJqfbdzChVFfx/sjy3mc54WjmxrTO6jcAhNeEl8lmZMsOLdjDeOfqUaxWa7ekHRf9+ydvxE6BDH7/HrxrTHEd1+jnq/2qTDCL717sEf9IOBeqcLE+OcaJN9LiaRMakgPkC+pKxcPMrpGmMkEpWtxQhxIuIwaErQDUCJK3iqkRRJ7LtoyxKpmZ+QeVquME5Mnod4MwKZSpq0nbf21XpCoDY/78q1jY1p/1OIr3KWqgJPFiWeRrGTgKGvwlejJHfutxhQoy7StLqvfINd6/RBmzzodkUP0AcEk70dDnHORDZl2vlU1mDrZpWAK2k5q1aSA/JeoqIoIQklYvLh6+nkquEWF8LrXKlCZ3z2h+m7D96gupm1TSoDDlbn+qNC7Yhqe1bkJJGWOIbJM216pBI9qnrksLg3+9zw+ftGll0mTxhcD62HTBKAUHQ37qgC3SPKsPTubtk4cU+czp92r4oXvDO+K0WGYkHoro0gry8GV4woYWxMgoUwmjzVXx+RaF98dqUMfGdap6E/4/lJeW+lBtQZHt0X9hFYhd8SP/gr4WJeDyYX/Fzy7dmCr/M6wDYokQMWtd9rdZdqo+0xpc1UtVl/DyqA72MvhnbuShn2XIuEl3AINsEDvFwkgN0ZPPL1r0bWK7ZRICWaJQe2R4jg8WtUn0FrQVtba7MIuBwuax1WGAVHIM/97J3EssgO5t0EtIHo42EQPWyKyDwuvayGfhz+sJXc6lpbGODvP0y9n8rT1WLWN5itbyX/KJGcQqTWvYM46i5U8Qeh3k/qv/4O4cNvgNCshakvEx796+/oG+IjMdFO3yEBesYYGk2FqujADMizqFb/YzdCuFRWoAuAM5G1Fwzrf0Z9xQqhtjGlk6DEluuaRjOetC6gL4OZa+LWLLBcbx+5KoBNfQYfE+i6rg0aDSx5YuGgbuf+xebdEpD/qe4KMpcYURurp2oJePLtZSf0tFIiBGOF0PUQWs/StQEFk38Y5UXmw/bhCakcV85THpw8lGEdETTWW9JiW5h7AfbKjI6Dsxun619wqWjTm0VbQmR37LKQb8++voOS/as6G0+3xoEkqZQkaAcGmJuk9Vk6FoSNw4GYKqN80kZpQuJ7hii5HEqiXaXFD+CVcn+h+SC1Uu8EQKG7JqD3DNIs5HxeZM3j9CdUZbF6QzxRvew0BllvwFCgN3Ylqlwnx8gORZUnka1SWU+LlCx5T36Zaqv8jPR9biOHUvTe4T5oPZtcYf8XskJxsfd95/vkysPsIYTAi6nbWG93IlOXY2CT0Q8QGz0rQIFFNUoHhjraJo6DzCFgy2WRuJxlnKnqbXjBECBe/Bc6WnnkT8sSvkBbMp1GGAwOdFRwD2mUkSLz+WosmACepMWoPej5GUpH+Wzlgwenfculd6oKB5OmswxLGVPSXih1O4CiPrnS079cyOB6MjMd5OwCs56oHps2GczKt6rMzySJDWWrvziIDKTvPlH3fvD66C9jYFgelW4X0g+KtYERWxT1p1+shru0nMKoRELas6admHYvdRSohHYDo0bYQXLb4cslJiSqKB5dwALntTfTaiTnefpgrWY4lu+xsrny76AcvljzcNkydL/NYbtn2vGn+IlUB2GTATaNEfxcoxbVpUunp5qaJ7HbHL5CwyewaJodGDU4AmhyWRGaM117iul4lT75Vn0fSlymGYp3zFRGV2714B7yXoESZ9BrYCveu/ZZFZkcyhLeIdesNYONssa2qSa95hpyPEMYIBi28V9DF3TcDtr2S2JhRGZ/nLm1uIyXa8F8mzg6UWP38fM/aNzpRj9C1hhOvK5RT98xLjExjxqd/gLWy6q7hSUWZtoP+eUcroTPr2d6q2kbI4+qR2orjnUZvZoLVIYRdgXiMYe79ycJRD8UVm4EPq/cAgDGplGOee161Xop/2ze3mh/GpsO1r5KraggOhTqRn6qY7/b/9YO0y7aoQCVHPNm+B2bFThpeCGH5D2XlGAIH5H8l0+ADNhO5bKSSjXqd3Q9IukG8zdCO2/ADSSNgGwLHKIBOAR9dTPzac07OpZmjdzFYhgDF4chraH1rHRgGA5aQ5Qc8vGkevqzcoTNlOPthcyByCHWA8cO9Hjfs+98ttemuBtT0dJF9rGsjrWkDtJodwMdDCw+8yr7UPeycpnLx9+a/dW/IA2pwychpJicnEFdj6oLKcE69pc5wRkMJTmY5VzOcpLBP1UBwLOsQBxFHzWXQCGvBy+0dRU0uUBJ9F7dEujYzRoIV0kp7EcIq9sr31HpUrl1E72asgKh//PtzsmBH2AyYJfGBzAk8WWerCH9maK10r3L8GSpY3Yjr0PbecISA12a1iMv3t9uChjCTlkQmgfH7KKtRFywq50IMtwFqfDFEX/UjC6IB9S/YijkYN9Nmf9XE++1UIidHZnwC/eaq3rxNMOvSdv4LjTbl6cQIosBGOySNVurRDDAGlCj0AV62XL48Jr1yKxceB09Zvlr/ntcjtjG/9ZktHMSLfAXZBa7NuvG1BL1FiEZs90R9OFf3TtD+ZoES5nvhOsC9fwAoezbaTZX96sarp7GrygsSWdPXrSnX45DPkpCEhM89Yrdh4b3ogI3llboAp9ju/aShW+bbZXr/JMgBpil+BQUCaZwe8lSbxRfsTGWhWFCaw4392D0OQQ4gcrpryM9cX0zk65+SLTVRotzOEcYCTa5lmU6vr8IazI83eZUnZaYy3yI02njsp6MGk3rPH7Kt7VmwwNkWQLwG2yd1KfBFtI9phy93FfvXOtOQ4T7SloG5sSe6UvV8d/RrsZA1ZCS61t4SGoObE0dPpPeElvjISKnICO1mWvbn58jukLmOFhtP59yTFFXAfp4TFwge0xy6LMaZoxGlIj8goPVvwGgaVlsv3lMD2OMTzW0K/r5pjoJJ8T9TkHmzIUFlRakOP1cEpwUqWDnbuA+XJIlLtMRGUABB6khfMIw4kAMH4fxxx5J4+QygBB4jthx8ltuvN8VXlRRHg3NHOZPO+vqNLyQo6Yu8DfRW2iIq613yhfDZgK0L18u95IfbR7xEpYF451UQTH/7S/9VcHURlKUpnO/t8MdAi5ua3lGeduk5zJIU8XtjxnncGC3/Al1LkNUKtGSaS5zKmCt6viDaxLRCfi2fEjyZd9gBnseBiaaYM6h1E49UD4L0D2WCoEZfMBLxr0PlP3cbddQIZGekUILnIzgJnBvmrnFkC+d8QDnUd7viVZnkORAskYJzlqxDy4m0maoXt6JOrtoxUcu0gHfs+jQSPI/EYHpsbDNizZWb/7c/iu87cwehEqpljFC8vQISf5EYFWItJvmZUo2fcueRthxXlpyhqXDoXVcaSIGzpxZeOr3S01a9lne83oXWwaBV2WN8voWoHSSidkf46R4qLGYMwhG0YUIda6eogMnTLAGTDhbqFeVomfutxmaPUiwnJ5hsyZh3zLWPLBEi7U26pBcQFbse/D9q7CX1FYYmjTncQqrw5n8Z8zLfqLoLToMxKjRgosgWyJtPzprVc2csRbGdOcu9dVgjZnUzaImHyr5yHSfdO0je7e4q3knJYjn6BVZhoT8FWAPI71IzMzE1AhhNU3/2cdsehS2EVEWdPe8oUlv6vmUaq6EFhX263Y+M7jVQTiU7SOh3jU7avstBp6KXMAHuH+RvzXp9TY4KELxFD8neI6v5tXhBx/jzLtXlIkYYa2blIqN6Ok9HOR3Ro6/qm3ZniI8fXMqLHBHsXbAkWlZoGFKiFx/ufta67F/WqAiVyu+c4Z2zE0N0wJU0YxTmIwP5FK/E9J5UW5d0gizhV68Oyr4Owr5NnZ09o7ACK8MVIwX+AsgrBS0dNEfJCyuCD7T0CaWevaqvW1whbQ+h8g9+awZv3AQuYmWzfQEXJR23m9ardoJ7ebzDFL+JH7tPPo8mr7veA9Culwe01y70RLHbR+dqkQBvBlGU1iBZfHKXUifM/3t3J94gboW7nhEoMGtR2Hg3gnXezzMRcjPTsbZvLboOzi5ROvYwjCVYwzZFo+zA2/aVLng1+jvIChgOqd6S0VccnZ7WOS00T1Pub2JWixhXLhCcr8DCgMiZaC7i8MPTBCGQDTWvQyypsAlovRQabpmfluZUj8PlgZrmbzDKS9x10Er2qdTgdVD78DOnm8EO2ktSgelrbcYwMO42+bElpbUHoNSCo9nIewr4G9Kn167HuF2vru/W5rc/M5kUiahJaw6uBsa3twnzIQrztgmeT6TC6nQiV8j1cu6ftqng3kgpiqYqN9xRqTMrxKNjPFE6oh2m73QQRXxRvjBZJtVGQHs8RUUO8w04drWpb4wPTpoi4lurvpTJMHB16b3nOmMysbDcZ5iuwqbn/aW6Ax587Bj2tLJBwN7PNHuhrKNSxERBU16+Hh0wpqgGfP3QAeMdFyCvDL/UU4bJLVbgzY7glkHlQKfPjHp7Uvf6NNT/u+guDdQ8CT3BeDaGZRQTmTi6coXX8YcVM9DivZWhGh7B9neEbGjrWN9baT5vaLWb/Do1LKkV1ZFEy0uwNQmLL+igkcKjtE0Ln9qppDY9Ruh5ftJ4KuYcF/YS5HAv2E/STc/VxI1EHQRJKY0nPjIIdCGFTdBAuugrrvRbzbp/GLQZvbRJCW+eR4u2MEmOY0OfQPmTTafINQf2z7jhNCFJD3PGvceXIzZCu7kN+WcEPVjHX8mjzx8slal8271ZfmIkc1JH4Vn1n+rgyrRCZsoGP5o0jkgV3PM27GkrB5kGocQl97GmAAvV4HBMCnhsEU7HUDFf8Yj/1XyFCazC0xRS+fdljDvVWClp30UXRCnUNyQutK/YBJBWEQ8wwtGW29Rb2uaDC4yir6mHOqNDvtnEW5ohkkceAi5bO/BZbHOAPeQLKiKtgvbgJMrDUBp+PV08vKEVn+2GcFyKgHrkCUFqqhl76eL0Oo2JwStP+6LV5the0nytYFmMJW015/hlaVcK7VLOlnQlgKy4fJIdaL4IQvQxt/Vf6XqGB4cijstkw8wN1FR6CKzRlpTgP8bGfJi7iN1WvyO8ndVqaBuq3CggAS+hi7IhjW0szhKjnxYxJ7KVDy8H42Rq9h8ZIFx0hCLVJ+U3U6Yx0v79IVj+KYgDIdBgupbtirUrA+KavA1wm8ZnAVW2xIQEr+qqXaUD/ULpNqDn9cM0WKb1oz2Y4GLzPKI31tGrP3/95qOKOd3IDx4kr1/hGVCmJYyGYm7sFypkUTTM5HIphuWpcop6rE9rdS5cZPCZkG7iv/TJZ0nqnYSveJyyLmSLFlC1F3mxHFKMSLE7ibaHd1+Ma+bWmoLzPmLEN56qhty+WgPNkI/zvQ6k8Y/V+jQXkwJ9SAo1XGZftwmyoVrKfdWm5gwuL49jxLZWyWRBC62DPGy1qiZ+OhIzn/7ph2TqrfniK+HgtCwHPk2DYuOn1/NBAB0CaapQ7ZjrYMzz/56giCrjspRRI75MgfVyiQsZ4JxE8P5Bx/mvTVVOssquw6hgJKQ/nsPDOLsndMZ5WmI0PkUr4ShI/t6g4GiGpnH0pMEKvU9QV2ZZ0eYmebiOJlCbuF+Bu05Y2087xktMPNsBor1lhsXN+x/lrV24JT7z/czKg7HLpav5lm6Ob1Ge1gaGr5SIaT50VCZVgoDdGJttsjiEpoy5P6bRA7IWzY2uhGdvDY2erQBpucA7foUwwayGcEDjf1OWk1JE4l4eVHCYdkJYKElq8tcQjMhiJ62aopYCfwufSX56jrh8Z/eE5T3XYJXP1TdIqOXidu40IheIjqvaXPDeTNzu1fsL1si4D9rMoImwLyI4BnLNQygoCSBZhHWW6K7VH8E5rY2/hpjqtX6v7zwmN5lp81hx/7vE7HGMWGNyBSC1HUdylaUiCyM/xNApXiAeuTBy9dHARRcHDwD+YMVsGCvf6wxoodmfOou79tMD4HP3i42R70rxB8kdmU3+Kk5GkU548SKhRZWRcARXa4k4nAh7j9P/jU1xgU8zqd9J9JBvdKZkLLKZED6n7sJQxkJ/ZwW+ieaITNrcx+7/Z3IXpD1vlo8jP8rVTracBWzBD1rnoieFLrDFSwuzKbuAqbG6s5HNlxPD1bVS1zu2DXq50f83/CnL8npQ3jYaINxe49Kk1wYeswV2F9YyYHfiZFik8lZWF4RxYQmUc0tE3bbAMss232bhGAR+i1f1udIWsiELuQ4+nF4SD8jpg+RlkuTsSG34e8xf4GjmD0OHqWeDH+Sl6vMbMs2o3DEcuOLVyw6QC7bS1q99BJI+4OMN57VoWUOkjUOk6YXwrh8Cc0b91KHuwh/uMPFjtn37i7zKD4m91SILQY20jeQpOH21Y2JuU8ggCC8bat0htuV3kzcWlRatGcvWdqOTiqX4rL/IRiu00+snGzVNOn0yVX5HuZEm1t9V7IO3NY5b+KSsmedRqIYqhfiotKNc3W8M2fNOWykeSQZgPD1RRGlsa2S/L9YeQ4hDShQ28e1VnC5TNBJ35bkdiXpC/gIrw4pzf/syco/7hGHM4yz2NQUweV393nLtkGMvNXxG7HeHAvpIV8YE9wqS3Wj+B68IAWXC/iz5Vd78s76QT7cLA0kXdPLxgRPHA12+MKFWftLya5E39z4AR9iIkEWONTTEumgnyqmfM3Byb1k97T2ubTIwaxYVYcqnWchs0dEqYPggn6OMqORdIABaWJBHalcK8n9o5U5Ow4Zu7zqO3ZmkC7o6IkN7dM359U3ArlwnZLa+UXM5o+LGf8B3QAjML5uBlnQV6LTVsakXvpetjO6xWmRmpRtXB1ZlKJRyMSvB+syldTzNVIhkUVA0aPa5FIOVadzt+EZDwu7H0uR2D5wXLgwoDTZd4exF4PXpmgGY44YsADrZfxHRQva2pB4Rlmh1sundlIfLbNRz2b9NQ7YA2rOWNSvqruXpEiAXBo4WI7AQcmcDP5SI2kB8Bv5CCZRM3bVjfQVuDuPAi417xgCEJN8EIrZz1ZuDIU10NVELWVZUFycRRnp4j+wsniI7xr5zpOxglDsfF0T/sB7l01xNE/N7UwfiIVJm8jRdie8L1ZtP4AoGd7lU6eMjc1pjm5oqG2vhlb8zlaOSGzGRAdMdoAdu9t/IoiMKK9noro+aAHdX9NK8R8sgPnTTpGxCiOEyhy+tEudx4QY8vHNtEQ6S3XSVgOqENTx1Y2tmmAxmKtjIiQbt9SsCDWij5XACbIpGg0kC0pSVggsr/3fSFaMogDs13qM14Apkk/p+xETmkGmm0Mf8wAuR9ZZTQYrGWKYCJS6f4WAJRyGIrXZQQRpf5jnEI025QGaHU0HnBtJ9Nhi2ryeGCYPkE+cjSRZRqWR8tpJqvHF3//OmD/IkLaxL2Fr+Yr8KAamxAw9HjPAbKVkw6LcQ6rEBlwfgufogY67GY/chdnD5IQW+5pp8ysnUhmLy0fX16xuSyYm4Pt5PPYY5UUz/jeIZ82quQMaKg9OW140dXKMAzzNkngTs/O7olA4zkpQtX971d58ohShaQXK6JVXGcvqzc56Ivjn4rNQdJjsi62jhCnFhKiMyWXr26xPq9u6LVv0XfhVTnj40xanxhthXEYPDiRo5w1pw8YkXp8XxWgYfHTwjpufOEf+Cmz8EaaTfUCn9eyPS6eHBzut0V67+jXP4o5lJ6HaMVDPzDFzdZP4ApcDrL+qr/Cokt4LpIVUzvcz/WTBfJz264tb27gKqC3mls4mUiz30FN6ma41aMS9da12G3cMdMWtZ7mIN7FKh23lDIgexOIUOQWQ7ZR5mGdn2rf3R8VBivkI4Ki4YEbroJa0Ucie5ppd0TND25GtGiT/ZcjzB7mrXYW+E8Ulrv9O1qntdeCMTk8BDcKTGIFckYJn34SZc7DlzA6UdPaURJTtrP1YCWaCbNFMw+ibHkuSa1kroIDMJRODQmzLX19K2zsW+PNpTfVp6XWwNFtKTSUfk696f/bcoZxNBx8baoznxw0X9VDK/2DrdLvHEyuJZ5PTHQCDyFLM2C4Qkns19b0TLmMdnfFkuT5bW5kHQ1JYeu9smCRdbbSyC/tTblSMMpxDo9DSbemoG4CsTCxiQ8Gs9K2MXI3/lx71+e4RUOnYcMob0IyOcJAynJvpNj1Og6gyhi9cj5mQHLdQzxT+Q9RyZuFniMjymrXeUNvkg7GGbE8sFh+KNcwoYgvjtG1twmpApOchcHCR2qkdZfb68tDBRF9S3uMwytL35PHaAVSh/Fwqitz1H+YLf/d080aduhQZMaIGQswrKCA2cZIiz/58fNaofQ9g7HXak1JuAxVo4RM15kgo96FNNZuXZZeKqSg6brPFjDfOBEzfRIe3ta24XXW7V4ofdElAsMkmaSViDFKAVKsxIUkEH0coKRqyly62U49UxynLZ1mcL2sB3i/jvkvj4FhrS0GSbOTjjFx1A2vpYHIybi36Yq+NNyCMJAcPKxTzvNBAQ2J8ElFHXSp9RWN030TvXgIHMTIhLMpG6wPA3A6lmE5i08dR+QE0Y0/EVcsjYbgwR8CtIGpzYqyA53S74OQGHmM68WxIuVkgUTCJf/XpYPnwDzBHmCS0UVmJrinRqHtQFwJuTTF8RuGg9vv2YrP472kXQfZyGrWJK/oI9fJsygwP5r8oGdGSo4DERhqdnrnwKbUMGus7FdlBwKi1HP0QJ7W68JzjHBDs7El5QOYEvqKr4yHsxPjoI6+UIDb4JzwuCjwlVL4/WO4GsPPprwX9S9HLrrNyhqac+hvs+xk07XzpZirk2XKFBTq6aH+C+F9ts/mNOGz55ThKa4p7YJWR04wf6LEEW78c+0bJIWhBuClCCqkX//JxpF6Cud/h4Tdrzbfodb3KhaDo0j5MI3nflaFQTjo1BGOvHpDXdKaeFHNAJAAjmXy0CbmXD0bQuVP2VnKHGaIEFnv430elEX5sl0/LDuV5uC7OHpVoVNIqCUY5GJufDPvIY9LEeW2ZtmQw13/hvn5ePky7iZDp+N/NKB8oYreiSVdfetAHfto96NvAzYRd9jYBdJJIMs25IxV9fFGoX+mohZkZIuPT+9VjwJnpQZPfpQJ4OxPYzzk4sk2BDyjfRtoE9FCZOtoPyXYsDWsNYViHGQm7hqSlDXUSbLTfg0yk8BvZ2Tf5yGudq9/83x0W0W3XRw/qf++/npeHyACnfvET9gwZZVjuZRrHYUAJYFsSacLTIrRipxFDwpZo9vXWuyg6ABRxHslM3wSJFRnqJjW0+QB89KjG1eq1j6MVot0uIz2i31JY7ovU/Is7jlrFDOdG4HoI023gkzlPyIsyJmoUQtQSzTLI5svj1cxp+jA71AC6teP7sFXA5ebELU6o3ECc5Vw8KJSGJUC4y1AwL0SOuWm2UpVgbDNy2KxSzqhTTcW/YtOMA5E/q0sYmEB8Y+oqUGdXwUUWRSZBnsqyGk7ft3ExSBhEOkBxcTBQFD8YYZt8RCHvKC9X+3kwkSoT9Ygn6fC/9LPGbEz15MZ9wtn16hpFK8BKTOMBhqAA70oU0c1aC+uRwKmB1hI7Yy5ut9WcT2iU6TJw769jjKF3YbxzbXNeK64GeP7cZ5QiooiiOqr/5JjiqVxvpnmy573YoSpHjqb4LsqhQzFjAQXwUDufJBVgoc0VF2CAQVsU0zmVtUyxnPDDumuOVSV2W0Gi2unAxLpU1B6iO0MflQEKJ0rMAUjq4T9WaZrBzR8ILNWtmgN8Tdg6TUKf89XvQib5cTJj5xEjSL8oE/IZQr0+TgdPLWH4CBaG6CFI7NccEu6gai5RbqMh8u8ER+Pk9tGIoEjknyEQY5z0xnQUXk8nAr17oqvylnmT5ybDWgrDregKGwxKfBonSsVYD1LMjtpNo6HQqCKMUUg/fsdpT8fBreB3epET5YU+VopBgfxdFtPR7+UfyH7U0senu/52UqG+YDBy1fETSUOOVdqwm5AAUU8CzDru/hZgvx/x8T5vG1hupwhAbNoJDxAyul1wpS/hChgiurc0ZM42NW/Orl0zzpwOBXZmkfDX1foRdgquVm2nTLC8XvatVTKaOIrDvwDtemQFJtyHwaawJ1r3SAKeaLrPH2Uug/vwnZRzvT/5eNiQ4+rjJpnIalTQ+gwp4LnFSbQY130l9cvReauWYO/fBbcWoBM3cGYXwYoP9cEhKobhpMgBIehJuxMgFxTODXBDpk34dDVXZr91Gg0m0vE5eEVCe0srAmWYp0Wd4HjikSHMtbOE+zW57fKKN5SQ1uwJaGz+6OVJQN805WNd31WL0dBbwPMHhN8jcFhaWZLIHPSFkcYHC/gkldXjo+q28hJvBXVmN2DkSRfLIeQiSYHISsEnK2C/zEr6GTjZqqYuiZ0hfTpltpI/1UkdzXR8OyNL/ImXTsSda0awFrTw328bCZeRSbTUBtadjZHt71GF/b8QQ+Q2ku2nCYuomjXh7Q8S1nq4nwVv8tVmScaFpX4Zjav5FzHakfWxE2tA7Dwa7nUv6YkWSEEK5WnX0jIMRrVAhDxsIXjL8WAP585aw6xW9w1huV6eW6L6Hl3/niXCeJaFTw4XK4fwuM0BzoTP7RU0gI5x4MWyd19EXr1fWrQmgbpX9zWjlBEuKciCEAtiA3PSA43LkNDvnAMIsb3S+KV67NrV6T2Qv2W6CSmR6FiGY1V5D/whVj+FazUPNQonn/hLZm4dIBx6GfFP0iBmLcsMzYUpe9NzSMZ+eUgJZHbdp1DRlYlNbdUkqBxFYo/3MVOnochOdL/v8sZ/1CoQbm2XPnpKJP1Q/uBPgCO0ak/tRvBwdj5uRffp6p6vjda8Y3d0YdQ4/sGCx+OouTe791GMT9LAUP6ACbeYoMrd29BuFdErFIY9Md7sw84EDGAj9lnK0tZxXwj4K1qnXpanikoTNKuwYmIVVOct3EKzKlNR2IPFjkF+jLDsBo7pc19bjPy7I3e82HupzyBqDQUWtcZA7sFvzv6sB0lWF7ixDRFaa9n+mLUITVwTF1EeT0Xof9w8DcRHzAhj9sSb2GxZNOjhNkStIOjoAWNd5Ymup/CYExD7nZP1cxhgWhw0rlRwskwcc+bO0vWEVCfBJhH+35yN3PO7VWR2wYJO8aJNpz1b/+SSVfiFeFDg4mQ3Zh4nyTY+OpleCbaOgD4Ph81QYirfUmj8odBm43w5R0nWcSjOaaAixOxsxyVV6KdEFAEiwRMUrx5fdssxkzj36nFOeNxRE4+UurTj35D2vtxZORfRtTFDJxTuHDBFDDEiC4M2zqkK+w+aBZ6qEWGqTXksawOxQ0Xe2YJ1PUV0xHIw/eaQiT5tAlVPhfKmEwB4+hwEnyMX7OEcjN5FOrN1P41sPaccq+AyT3H45/2UeDHole8ZQRdvyaqPk3P+9EGt4tvBAmGav7YjsI71AmCUBm9/I7MlgFbbsDztv4ELJ9vG21pVOKpKsD47/Djr0G/xoxI1xE6QYGsYeyjSK/il/2ffl454rp+Eet2GDQO6St52L/xa672xaVRTzCQ3RUzR1iRxhU+MVJsrhyuHyLOsr877uOwDBxTsnBucIIbLCjIUw6BEe2ISCHqtRF/p9QRv/06bop8lcBm8MWAIJGs6kDGlwZqcQUo7FyV5yPJ2FFL7B44c63UwhmYHWcgC9rOcg0J2FEAaswl9T18cCHBst8kr8xH0LKEsezO+8VRZQvhy/T7qJAC3KM3sPW1BDX0r6lTRlOnKwBCFtnbbWLuV9aW8bezxss7BNVVJIGzv5MMpxKTOAlZFKdzpw8I2Ra9esyDk+kYTIEMKjJhxUcc1qzKu8naYuRCul8cqVvZa/0YoPE=]]></content>
      <categories>
        <category>致英子的情书</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Mock分离后端]]></title>
    <url>%2F2019%2F02%2F28%2FMock%E5%88%86%E7%A6%BB%E5%90%8E%E7%AB%AF%2F</url>
    <content type="text"><![CDATA[这是前端工程师完全分离后端的神器,之后还有EasyMock MockjsMock.js的官网 安装Node12# 安装npm install mockjs 1234567891011// 使用 Mockvar Mock = require('mockjs')var data = Mock.mock(&#123; // 属性 list 的值是一个数组，其中含有 1 到 10 个元素 'list|1-10': [&#123; // 属性 id 是一个自增数，起始值为 1，每次增 1 'id|+1': 1 &#125;]&#125;)// 输出结果console.log(JSON.stringify(data, null, 4)) Bower123# 安装npm install -g bowerbower install --save mockjs 1&lt;script type="text/javascript" src="./bower_components/mockjs/dist/mock.js"&gt;&lt;/script&gt; RequireJS (AMD)1234567891011121314151617181920// 配置 Mock 路径require.config(&#123; paths: &#123; mock: 'http://mockjs.com/dist/mock' &#125;&#125;)// 加载 Mockrequire(['mock'], function(Mock)&#123; // 使用 Mock var data = Mock.mock(&#123; 'list|1-10': [&#123; 'id|+1': 1 &#125;] &#125;) // 输出结果 document.body.innerHTML += '&lt;pre&gt;' + JSON.stringify(data, null, 4) + '&lt;/pre&gt;'&#125;) 1234567891011121314// ==&gt;&#123; "list": [ &#123; "id": 1 &#125;, &#123; "id": 2 &#125;, &#123; "id": 3 &#125; ]&#125; 语法规范Mock.js 的语法规范包括两部分： 数据模板定义规范（Data Template Definition，DTD） 数据占位符定义规范（Data Placeholder Definition，DPD）数据模板定义规范 DTD数据模板中的每个属性由 3 部分构成：属性名、生成规则、属性值：1234// 属性名 name// 生成规则 rule// 属性值 value'name|rule': value 注意： 属性名和生成规则之间用竖线|分隔。 生成规则是可选的。 生成规则有 7 种格式： &#39;name|min-max&#39;: value &#39;name|count&#39;: value &#39;name|min-max.dmin-dmax&#39;: value &#39;name|min-max.dcount&#39;: value &#39;name|count.dmin-dmax&#39;: value &#39;name|count.dcount&#39;: value &#39;name|+step&#39;: value 生成规则的含义需要依赖属性值的类型才能确定。 属性值中可以含有@占位符。 属性值还指定了最终值的初始值和类型。生成规则和示例： String &#39;name|min-max&#39;: string通过重复 string 生成一个字符串，重复次数大于等于 min，小于等于 max。 &#39;name|count&#39;: string通过重复 string 生成一个字符串，重复次数等于 count。 Number &#39;name|+1&#39;: number属性值自动加 1，初始值为 number。 &#39;name|min-max&#39;: number生成一个大于等于 min、小于等于 max 的整数，属性值 number 只是用来确定类型。 &#39;name|min-max.dmin-dmax&#39;: number生成一个浮点数，整数部分大于等于 min、小于等于 max，小数部分保留 dmin 到 dmax 位。123456Mock.mock(&#123; 'number1|1-100.1-10': 1, 'number2|123.1-10': 1, 'number3|123.3': 1, 'number4|123.10': 1.123&#125;) 1234567// =&gt;&#123; "number1": 12.92, "number2": 123.51, "number3": 123.777, "number4": 123.1231091814&#125; 回格 Boolean &#39;name|1&#39;: boolean随机生成一个布尔值，值为 true 的概率是 1/2，值为 false 的概率同样是 1/2。 &#39;name|min-max&#39;: value随机生成一个布尔值，值为 value 的概率是 min / (min + max)，值为 !value 的概率是 max / (min + max)。 Object &#39;name|count&#39;: object从属性值 object 中随机选取 count 个属性。 &#39;name|min-max&#39;: object从属性值 object 中随机选取 min 到 max 个属性。 Array &#39;name|1&#39;: array从属性值 array 中随机选取 1 个元素，作为最终值。 &#39;name|+1&#39;: array从属性值 array 中顺序选取 1 个元素，作为最终值。 &#39;name|min-max&#39;: array通过重复属性值 array 生成一个新数组，重复次数大于等于 min，小于等于 max。 &#39;name|count&#39;: array通过重复属性值 array 生成一个新数组，重复次数为 count。 Function &#39;name&#39;: function执行函数 function，取其返回值作为最终的属性值，函数的上下文为属性 ‘name’ 所在的对象。 RegExp &#39;name&#39;: regexp根据正则表达式 regexp 反向生成可以匹配它的字符串。用于生成自定义格式的字符串。12345Mock.mock(&#123; 'regexp1': /[a-z][A-Z][0-9]/, 'regexp2': /\w\W\s\S\d\D/, 'regexp3': /\d&#123;5,10&#125;/&#125;) 123456// =&gt;&#123; "regexp1": "pJ7", "regexp2": "F)\fp1G", "regexp3": "561659409"&#125; 数据占位符定义规范 DPD占位符只是在属性值字符串中占个位置，并不出现在最终的属性值中。 占位符的格式为：12@占位符@占位符(参数 [, 参数]) 注意：用@来标识其后的字符串是占位符。占位符引用的是Mock.Random中的方法。通过Mock.Random.extend()来扩展自定义占位符。占位符也可以引用数据模板中的属性。占位符会优先引用数据模板中的属性。占位符支持相对路径和绝对路径。12345678Mock.mock(&#123; name: &#123; first: '@FIRST', middle: '@FIRST', last: '@LAST', full: '@first @middle @last' &#125;&#125;) 123456789// =&gt;&#123; "name": &#123; "first": "Charles", "middle": "Brenda", "last": "Lopez", "full": "Charles Brenda Lopez" &#125;&#125; Mock.mock()Mock-mock()Mock实例的mock方法的参数1Mock.mock( rurl?, rtype?, template|function( options ) ) 作用:根据数据模板生成模拟数据。 语法 Mock.mock( template )根据数据模板生成模拟数据。 Mock.mock( rurl, template )记录数据模板。当拦截到匹配 rurl 的 Ajax 请求时，将根据数据模板 template 生成模拟数据，并作为响应数据返回。 Mock.mock( rurl, function( options ) )记录用于生成响应数据的函数。当拦截到匹配 rurl 的 Ajax 请求时，函数 function(options) 将被执行，并把执行结果作为响应数据返回。 Mock.mock( rurl, rtype, template )记录数据模板。当拦截到匹配 rurl 和 rtype 的 Ajax 请求时，将根据数据模板 template 生成模拟数据，并作为响应数据返回。 Mock.mock( rurl, rtype, function( options ) )记录用于生成响应数据的函数。当拦截到匹配 rurl 和 rtype 的 Ajax 请求时，函数 function(options) 将被执行，并把执行结果作为响应数据返回。 参数 rurl可选。表示需要拦截的 URL，可以是 URL 字符串或 URL 正则。例如 /\/domain\/list.json/、’/domian/list.json’。 rtype可选。表示需要拦截的 Ajax 请求类型。例如 GET、POST、PUT、DELETE 等。 template可选。表示数据模板，可以是对象或字符串。例如 { ‘data|1-10’:[{}] }、‘@EMAIL’。 function(options)可选。表示用于生成响应数据的函数。 options指向本次请求的 Ajax 选项集，含有 url、type 和 body 三个属性，参见 XMLHttpRequest 规范。 Mock.setup()Mock.setup( settings )配置拦截 Ajax 请求时的行为。支持的配置项有：timeout。 参数 settings必选。配置项集合。 timeout可选。指定被拦截的 Ajax 请求的响应时间，单位是毫秒。值可以是正整数，例如 400，表示 400 毫秒 后才会返回响应内容；也可以是横杠 ‘-‘ 风格的字符串，例如 ‘200-600’，表示响应时间介于 200 和 600 毫秒之间。默认值是’10-100’。 123456Mock.setup(&#123; timeout: 400&#125;)Mock.setup(&#123; timeout: '200-600'&#125;) 目前，接口 Mock.setup( settings ) 仅用于配置 Ajax 请求，将来可能用于配置 Mock 的其他行为。 Mock.RandomMock.Random 是一个工具类，用于生成各种随机数据。Mock.Random的方法在数据模板中称为『占位符』，书写格式为 @占位符(参数 [, 参数])。1234567var Random = Mock.RandomRandom.email()// =&gt; "n.clark@miller.io"Mock.mock('@email')// =&gt; "y.lee@lewis.org"Mock.mock( &#123; email: '@email' &#125; )// =&gt; &#123; email: "v.lewis@hall.gov" &#125; 方法Mock.Random 提供的完整方法（占位符）如下： Type Method Basic boolean, natural, integer, float, character, string, range, date, time, datetime, now Image image, dataImage Color color Text paragraph, sentence, word, title, cparagraph, csentence, cword, ctitle Name first, last, name, cfirst, clast, cname Web url, domain, email, ip, tld Address area, region Helper capitalize, upper, lower, pick, shuffle Miscellaneous guid, id 1234567891011121314151617181920212223&lt;script id="fixPlaceholderLink" type="text/javascript"&gt; $('#fixPlaceholderLink') .prev('table') .find('td:nth-child(1)') .each(function(index, td) &#123; $(td).contents() .wrapAll( $('') .attr('href', '#' + $(td).text()) ) &#125;) .end() .find('td:nth-child(2)') .each(function(index, td) &#123; var methods = $(td).text().split(' ') var links = $() $(methods).each(function(mindex, m) &#123; links.push( $('').attr('href', '#' + m).text(m)[0] ) if (mindex &lt; methods.length - 1) &#123; links.push( $('').text(', ')[0] ) &#125; &#125;) $(td).empty().append(links) &#125;) .end() &lt;/script&gt; 扩展Mock.Random 中的方法与数据模板的@占位符 一一对应，在需要时还可以为 Mock.Random 扩展方法，然后在数据模板中通过 @扩展方法 引用。例如：1234567891011121314151617Random.extend(&#123; constellation: function(date) &#123; var constellations = [ '白羊座', '金牛座', '双子座', '巨蟹座', '狮子座', '处女座', '天秤座', '天蝎座', '射手座', '摩羯座', '水瓶座', '双鱼座'] return this.pick(constellations) &#125;&#125;)Random.constellation()// =&gt; "水瓶座"Mock.mock('@CONSTELLATION')// =&gt; "天蝎座"Mock.mock(&#123; constellation: '@CONSTELLATION'&#125;) 1234// =&gt; &#123; constellation: "射手座"&#125; 各种数据基本类型随机布值Random.boolean( min?, max?, current? )12Random.boolean()Random.boolean( min, max, current ) 返回一个随机的布尔值。 参数 min可选。指示参数 current 出现的概率。概率计算公式为 min / (min + max)。该参数的默认值为 1，即有 50% 的概率返回参数 current。 max可选。指示参数 current 的相反值 !current 出现的概率。概率计算公式为 max / (min + max)。该参数的默认值为 1，即有 50% 的概率返回参数 !current。 current可选。可选值为布尔值 true 或 false。如果未传入任何参数，则返回 true 和 false 的概率各为 50%。该参数没有默认值。在该方法的内部，依据原生方法 Math.random() 返回的（浮点）数来计算和返回布尔值，例如在最简单的情况下，返回值是表达式 Math.random() &gt;= 0.5 的执行结果。 12345678Random.boolean()// =&gt; trueRandom.boolean(1, 9, true)// =&gt; falseRandom.bool()// =&gt; falseRandom.bool(1, 9, false)// =&gt; true 随机自然数Random.natural( min?, max? )123Random.natural()Random.natural( min )Random.natural( min, max ) 返回一个随机的自然数（大于等于 0 的整数）。 参数 min可选。指示随机自然数的最小值。默认值为 0。 max可选。指示随机自然数的最大值。默认值为 9007199254740992。 123456Random.natural()// =&gt; 1002794054057984Random.natural(10000)// =&gt; 71529071126209Random.natural(60, 100)// =&gt; 77 随机整数Random.integer( min?, max? )123Random.integer()Random.integer( min )Random.integer( min, max ) 返回一个随机的整数。 参数 min可选。指示随机整数的最小值。默认值为 -9007199254740992。 max可选。指示随机整数的最大值。默认值为 9007199254740992。123456Random.integer()// =&gt; -3815311811805184Random.integer(10000)// =&gt; 4303764511003750Random.integer(60,100)// =&gt; 96 随机浮点数Random.float( min?, max?, dmin?, dmax? )12345Random.float()Random.float( min )Random.float( min, max )Random.float( min, max, dmin )Random.float( min, max, dmin, dmax ) 返回一个随机的浮点数。 参数 min可选。整数部分的最小值。默认值为 -9007199254740992。 max可选。整数部分的最大值。默认值为 9007199254740992。 dmin可选。小数部分位数的最小值。默认值为 0。 dmax可选。小数部分位数的最大值。默认值为 17。12345678910Random.float()// =&gt; -1766114241544192.8Random.float(0)// =&gt; 556530504040448.25Random.float(60, 100)// =&gt; 82.56779679549358Random.float(60, 100, 3)// =&gt; 61.718533677927894Random.float(60, 100, 3, 5)// =&gt; 70.6849 随机字符Random.character( pool? )123Random.character()Random.character( 'lower/upper/number/symbol' )Random.character( pool ) 返回一个随机字符。 参数 pool可选。字符串。表示字符池，将从中选择一个字符返回。如果传入了 &#39;lower&#39; 或 &#39;upper&#39;、&#39;number&#39;、&#39;symbol&#39;，表示从内置的字符池从选取：123456&#123; lower: "abcdefghijklmnopqrstuvwxyz", upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ", number: "0123456789", symbol: "!@#$%^&amp;*()[]"&#125; 如果未传入该参数，则从 lower + upper + number + symbol 中随机选取一个字符返回。123456789101112Random.character()// =&gt; "P"Random.character('lower')// =&gt; "y"Random.character('upper')// =&gt; "X"Random.character('number')// =&gt; "1"Random.character('symbol')// =&gt; "&amp;"Random.character('aeiou')// =&gt; "u" 随机字符串Random.string( pool?, min?, max? )12345Random.string()Random.string( length )Random.string( pool, length )Random.string( min, max )Random.string( pool, min, max ) 返回一个随机字符串。 参数 pool可选。字符串。表示字符池，将从中选择一个字符返回。如果传入 &#39;lower&#39; 或 &#39;upper&#39;、&#39;number&#39;、&#39;symbol&#39;，表示从内置的字符池从选取：123456&#123; lower: "abcdefghijklmnopqrstuvwxyz", upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ", number: "0123456789", symbol: "!@#$%^&amp;*()[]"&#125; 如果未传入该参数，则从 lower + upper + number + symbol 中随机选取一个字符返回。 min可选。随机字符串的最小长度。默认值为 3。 max可选。随机字符串的最大长度。默认值为 7。123456789101112Random.string()// =&gt; "pJjDUe"Random.string( 5 )// =&gt; "GaadY"Random.string( 'lower', 5 )// =&gt; "jseqj"Random.string( 7, 10 )// =&gt; "UuGQgSYk"Random.string( 'aeiou', 1, 3 )// =&gt; "ea"Random.string( '壹贰叁肆伍陆柒捌玖拾', 3, 5 )// =&gt; "肆捌伍叁" 整型数组Random.range( start?, stop, step? )123Random.range( stop )Random.range( start, stop )Random.range( start, stop, step ) 返回一个整型数组。 参数 start可选。数组中整数的起始值。 stop必选。数组中整数的结束值（不包含在返回值中）。 step可选。数组中整数之间的步长。默认值为 1。12345678Random.range(10)// =&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]Random.range(3, 7)// =&gt; [3, 4, 5, 6]Random.range(1, 10, 2)// =&gt; [1, 3, 5, 7, 9]Random.range(1, 10, 3)// =&gt; [1, 4, 7] 时间日期日期字符串Random.date( format? )12Random.date()Random.date(format) 返回一个随机的日期字符串。 参数 format可选。指示生成的日期字符串的格式。默认值为 yyyy-MM-dd。 可选的占位符参考自 Ext.Date，如下所示： Format Description Example yyyy 一年的完整数字表示法，4位数字 1999 or 2003 yy 一年的两位数表示法 99 or 03 y 一年的两位数表示法 99 or 03 MM 月份的数字表示法，带前导零 01 to 12 M 月份的数字表示，不带前导零 1 to 12 dd 每月的天数，2位数字，前导零 01 to 31 d 月份中没有前导零的天数日期 1 to 31 HH 一小时24小时格式，带前导零 00 to 23 H 一小时24小时格式，不带前导零 0 to 23 hh 12小时格式，每小时不带前导零 1 to 12 h 12小时格式的1小时，带前导零 01 to 12 mm 分钟，带前导零 00 to 59 m 分钟，不带前导零 0 to 59 ss 秒，带前导零 00 to 59 s 秒，不带前导零 0 to 59 SS 毫秒，带前导零 000 to 999 S 毫秒，不带前导零 0 to 999 A 大写的上午或下午 AM or PM a 小写的上午或下午 am or pm T 毫秒,从1970-1-1 00:00:00(UTC时间)计时 759883437303 12345678910Random.date()// =&gt; "2002-10-23"Random.date('yyyy-MM-dd')// =&gt; "1983-01-29"Random.date('yy-MM-dd')// =&gt; "79-02-14"Random.date('y-MM-dd')// =&gt; "81-05-17"Random.date('y-M-d')// =&gt; "84-6-5" 时间字符串Random.time( format? )12Random.time()Random.time( format ) 返回一个随机的时间字符串。 参数 format可选。指示生成的时间字符串的格式。默认值为 HH:mm:ss。 可选的占位符参考自 Ext.Date，请参见 Random.date( format? )上面那个表格。 12345678910Random.time()// =&gt; "00:14:47"Random.time('A HH:mm:ss')// =&gt; "PM 20:47:37"Random.time('a HH:mm:ss')// =&gt; "pm 17:40:00"Random.time('HH:mm:ss')// =&gt; "03:57:53"Random.time('H:m:s')// =&gt; "3:5:13" 日期时间字符串Random.datetime( format? )12Random.datetime()Random.datetime( format ) 返回一个随机的日期和时间字符串。 参数 format可选。指示生成的日期和时间字符串的格式。默认值为 yyyy-MM-dd HH:mm:ss。 可选的占位符参考自 Ext.Date，请参见 Random.date( format? )上面的表格。12345678910Random.datetime()// =&gt; "1977-11-17 03:50:15"Random.datetime('yyyy-MM-dd A HH:mm:ss')// =&gt; "1976-04-24 AM 03:48:25"Random.datetime('yy-MM-dd a HH:mm:ss')// =&gt; "73-01-18 pm 22:12:32"Random.datetime('y-MM-dd HH:mm:ss')// =&gt; "79-06-24 04:45:16"Random.datetime('y-M-d H:m:s')// =&gt; "02-4-23 2:49:40" 当前日期时间字符串Random.now( unit?, format? )1234Ranndom.now( unit, format )Ranndom.now()Ranndom.now( format )Ranndom.now( unit ) 返回当前的日期和时间字符串。 参数 unit可选。表示时间单位，用于对当前日期和时间进行格式化。可选值有：year、month、week、day、hour、minute、second、week，默认不会格式化。 format可选。指示生成的日期和时间字符串的格式。默认值为yyyy-MM-dd HH:mm:ss。 可选的占位符参考自 Ext.Date，请参见 Random.date(format)上面的表格。 Random.now() 的实现参考了 Moment.js。1234567891011121314151617181920212223Random.now()// =&gt; "2014-04-29 20:08:38 "Random.now('day', 'yyyy-MM-dd HH:mm:ss SS')// =&gt; "2014-04-29 00:00:00 000"Random.now('day')// =&gt; "2014-04-29 00:00:00 "Random.now('yyyy-MM-dd HH:mm:ss SS')// =&gt; "2014-04-29 20:08:38 157"Random.now('year')// =&gt; "2014-01-01 00:00:00"Random.now('month')// =&gt; "2014-04-01 00:00:00"Random.now('week')// =&gt; "2014-04-27 00:00:00"Random.now('day')// =&gt; "2014-04-29 00:00:00"Random.now('hour')// =&gt; "2014-04-29 20:00:00"Random.now('minute')// =&gt; "2014-04-29 20:08:00"Random.now('second')// =&gt; "2014-04-29 20:08:38" 图片随机图片地址Random.image( size?, background?, foreground?, format?, text? )123456Random.image()Random.image( size )Random.image( size, background )Random.image( size, background, text )Random.image( size, background, foreground, text )Random.image( size, background, foreground, format, text ) 生成一个随机的图片地址。 Random.image() 用于生成高度自定义的图片地址，一般情况下，应该使用更简单的 Random.dataImage()。 参数 size可选。指示图片的宽高，格式为 ‘宽x高’。默认从下面的数组中随机读取一个： 1234567[ '300x250', '250x250', '240x400', '336x280', '180x150', '720x300', '468x60', '234x60', '88x31', '120x90', '120x60', '120x240', '125x125', '728x90', '160x600', '120x600', '300x600'] background可选。指示图片的背景色。默认值为 ‘#000000’。 foreground可选。指示图片的前景色（文字）。默认值为 ‘#FFFFFF’。 format可选。指示图片的格式。默认值为 ‘png’，可选值包括：’png’、’gif’、’jpg’。 text可选。指示图片上的文字。默认值为参数 size。123456789101112Random.image()// =&gt; "http://dummyimage.com/125x125"Random.image('200x100')// =&gt; "http://dummyimage.com/200x100"Random.image('200x100', '#fb0a2a')// =&gt; "http://dummyimage.com/200x100/fb0a2a"Random.image('200x100', '#02adea', 'Hello')// =&gt; "http://dummyimage.com/200x100/02adea&amp;text=Hello"Random.image('200x100', '#00405d', '#FFF', 'Mock.js')// =&gt; "http://dummyimage.com/200x100/00405d/FFF&amp;text=Mock.js"Random.image('200x100', '#ffcc33', '#FFF', 'png', '!')// =&gt; "http://dummyimage.com/200x100/ffcc33/FFF.png&amp;text=!" Base64图片编码Random.dataImage( size?, text? )123Random.dataImage()Random.dataImage( size )Random.dataImage( size, text ) 生成一段随机的 Base64 图片编码。 如果需要生成高度自定义的图片，请使用 Random.image()。 参数 size可选。指示图片的宽高，格式为 ‘宽x高’。默认从下面的数组中随机读取一个： 1234567[ '300x250', '250x250', '240x400', '336x280', '180x150', '720x300', '468x60', '234x60', '88x31', '120x90', '120x60', '120x240', '125x125', '728x90', '160x600', '120x600', '300x600'] text可选。指示图片上的文字。默认值为参数 size。 图片的背景色是随机的，取值范围参考自 http://brandcolors.net/。 123456Random.dataImage()// =&gt; "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9CAYAAACPgGwlAAAFJElEQVR4Xu2dS0hUURzG/1Yqlj2otJe10AqCoiJaFFTUpgcUhLaKCIogKCEiCl0U1SIIF1EIQlFEtCmkpbWSHlAQYRYUlI9Ie6nYmI9hfIx1LpzL3PGO/aeuM/r/f7PRufe7d873/ea75xw3ZjTumDtMeKlKIAPQVfF2zAK6PuaArpA5oAO6xgQUesacDugKE1BoGU0HdIUJKLSMpgO6wgQUWkbTAV1hAgoto+mArjABhZbRdEBXmIBCy2g6oCtMQKFlNB3QFSag0DKaDugKE1BoGU0HdIUJKLSMpgO6wgQUWkbTAV1hAgoto+mArjABhZbRdEBXmIBCy2g6oCtMQKFlNB3QFSag0DKaDugKE1BoGU0HdIUJKLSMpgO6wgQUWkbTAV1hAgoto+mArjABhZbRdEBXmIBCy2g6oCtMQKFlNB3QFSag0DKaDugKE1BoGU0HdIUJKLQ8bpo+fft+ylxYSJ23LvpisOfNST/N7ENniYa9/0xy4GsTdT+6+09Yx9t4/slEgovSDt2EO3P3YcoqWuUMsWln3oihFlTWUlbhSvf4UKid2iqOUfhVrXussKZ9xHXh10/oW1lxUnmNt/EkNXimOK3QTTtn7Sv1DDUees66rTT/3B0a/NFCvc9raOqf9+YL0PfiIX0/f8ADPdrXTZEPde6xyMd66rx5wXlvnwThN8/cL4ttc7S3i0L3rjqaVI2HyWdMZGmFbhwtvv7cgZm7ZS9NyS/wbboBb1ttwQy2tdLng2s90OOPxSa24FI15azZTAOtDdRyZAOZe84ru0GTps2g0P1r7pcjVeMZE5rMm6Yduh3nktt1CaHHesk/XUW5W4sp8v4lfTm5ywN9eCBCQz/baOBLE0Ua3rgg4z/DPCUmz5xD2SvWU6IpIBXjYTIKXDahoNtHvUmho/KMZ5HmN6f31FZT2+Wjbmix12dkZtNoTwYO9P8dT+A0mTecMNBNwPmnKmnyrDyKhxnv1U4B0d5f9KmkyHPaPinMwfYrJxKu7v8GPajxMDkFKpsQ0JMJ2KZjmm8e9817CjxNt/O4Odjf+JZaj2/zDXQ06EGNJ1CSSdws7dDNAsvsr7OXr3UWVeG6x87wv5WXOD9jAzZbtf7md669nscP3KbOLa2gaE+Xc27axl2UWbB0xLxvFmnmuJnTzU/7e+wuIJXjSYJToNK0Q/ebi41Du3Xz20bZBGJX3fH3Mav0jqpyd9Xvt3o3W0Ezt492H/tZQY8nUIpJ3izt0J39s8/L7q9N03NWb/LVhOuferZyWYuX0WDnD2evHv+XOPs5sdc4+/RFRX+eECFnn25eqRpPkpwClacdeqBucDNWAoDOikmWCNBl8WS5AXRWTLJEgC6LJ8sNoLNikiUCdFk8WW4AnRWTLBGgy+LJcgPorJhkiQBdFk+WG0BnxSRLBOiyeLLcADorJlkiQJfFk+UG0FkxyRIBuiyeLDeAzopJlgjQZfFkuQF0VkyyRIAuiyfLDaCzYpIlAnRZPFluAJ0VkywRoMviyXID6KyYZIkAXRZPlhtAZ8UkSwTosniy3AA6KyZZIkCXxZPlBtBZMckSAbosniw3gM6KSZYI0GXxZLkBdFZMskSALosnyw2gs2KSJQJ0WTxZbgCdFZMsEaDL4slyA+ismGSJAF0WT5YbQGfFJEsE6LJ4stwAOismWSJAl8WT5QbQWTHJEgG6LJ4sN4DOikmWCNBl8WS5AXRWTLJEgC6LJ8sNoLNikiUCdFk8WW4AnRWTLNFvXskYA3TG3JwAAAAASUVORK5CYII="Random.dataImage('200x100')// =&gt; "data:image/png;base64,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"Random.dataImage('200x100', 'Hello Mock.js!')// =&gt; "data:image/png;base64,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" 颜色颜色#RRGGBBRandom.color()1Random.color() 随机生成一个有吸引力的颜色，格式为 ‘#RRGGBB’。12Random.color()// =&gt; "#3538B2" 颜色(#RRGGBB)Random.hex()1Random.hex() 随机生成一个有吸引力的颜色，格式为 ‘#RRGGBB’,其实和上面一样。12Random.hex()// =&gt; "#3538B2" 颜色rgb(r,g,b)Random.rgb()1Random.rgb() 随机生成一个有吸引力的颜色，格式为 ‘rgb(r, g, b)’。12Random.rgb()// =&gt; "rgb(242, 198, 121)" 颜色rgba(r,g,b,a)Random.rgba()1Random.rgba() 随机生成一个有吸引力的颜色，格式为 ‘rgba(r, g, b, a)’。12Random.rgba()// =&gt; "rgba(242, 198, 121, 0.13)" 颜色hsl(h,s,l)Random.hsl()1Random.hsl() 随机生成一个有吸引力的颜色，格式为 ‘hsl(h, s, l)’。12Random.hsl()// =&gt; "hsl(345, 82, 71)" 文本一段英文文本Random.paragraph( min?, max? )123Random.paragraph()Random.paragraph( len )Random.paragraph( min, max ) 随机生成一段英文文本。 参数 len可选。指示文本中句子的个数。默认值为 3 到 7 之间的随机数。 min可选。指示文本中句子的最小个数。默认值为 3。 max可选。指示文本中句子的最大个数。默认值为 7。1234567891011121314151617181920212223242526272829Random.paragraph()// =&gt; "Yohbjjz psxwibxd jijiccj kvemj eidnus disnrst// rcconm bcjrof tpzhdo ncxc yjws jnmdmty. Dkmiwza // ibudbufrnh ndmcpz tomdyh oqoonsn jhoy rueieihtt // vsrjpudcm sotfqsfyv mjeat shnqmslfo oirnzu cru // qmpt ggvgxwv jbu kjde. Kzegfq kigj dtzdd ngtytgm // comwwoox fgtee ywdrnbam utu nyvlyiv tubouw lezpkmyq // fkoa jlygdgf pgv gyerges wbykcxhwe bcpmt beqtkq. // Mfxcqyh vhvpovktvl hrmsgfxnt jmnhyndk qohnlmgc // sicmlnsq nwku dxtbmwrta omikpmajv qda qrn // cwoyfaykxa xqnbv bwbnyov hbrskzt. Pdfqwzpb // hypvtknt bovxx noramu xhzam kfb ympmebhqxw // gbtaszonqo zmsdgcku mjkjc widrymjzj nytudruhfr // uudsitbst cgmwewxpi bye. Eyseox wyef ikdnws // weoyof dqecfwokkv svyjdyulk glusauosnu // achmrakky kdcfp kujrqcq xojqbxrp // mpfv vmw tahxtnw fhe lcitj." Random.paragraph(2)// =&gt; "Dlpec hnwvovvnq slfehkf zimy qpxqgy vwrbi // mok wozddpol umkek nffjcmk gnqhhvm ztqkvjm kvukg // dqubvqn xqbmoda. Vdkceijr fhhyemx hgkruvxuvr // kuez wmkfv lusfksuj oewvvf cyw tfpo jswpseupm // ypybap kwbofwg uuwn rvoxti ydpeeerf." Random.paragraph(1, 3)// =&gt; "Qdgfqm puhxle twi lbeqjqfi bcxeeecu // pqeqr srsx tjlnew oqtqx zhxhkvq pnjns // eblxhzzta hifj csvndh ylechtyu." 一段中文文本Random.cparagraph( min?, max? )123Random.cparagraph()Random.cparagraph( len )Random.cparagraph( min, max ) 随机生成一段中文文本。 参数的含义和默认值同 Random.paragraph( min?, max? ))12345678910111213141516Random.cparagraph()// =&gt; "给日数时化周作少情者美制论。// 到先争劳今已美变江以好较正新深。// 族国般建难出就金感基酸转。// 任部四那响成族利标铁导术一或已于。// 省元切世权往着路积会其区素白思断。// 加把他位间存定国工取除许热规先法方。" Random.cparagraph(2)// =&gt; "去话起时为无子议气根复即传月广。// 题林里油步不约认山形两标命导社干。" Random.cparagraph(1, 3)// =&gt; "候无部社心性有构员其深例矿取民为。// 须被亲需报每完认支这明复几下在铁需连。// 省备可离展五斗器就石正队除解动。" 一句英文Random.sentence( min?, max? ) Random.sentence() Random.sentence( len ) Random.sentence( min, max )随机生成一个句子，第一个单词的首字母大写。参数 len可选。指示句子中单词的个数。默认值为 12 到 18 之间的随机数。 min可选。指示句子中单词的最小个数。默认值为 12。 max可选。指示句子中单词的最大个数。默认值为 18。123456Random.sentence()// =&gt; "Jovasojt qopupwh plciewh dryir zsqsvlkga yeam."Random.sentence(5)// =&gt; "Fwlymyyw htccsrgdk rgemfpyt cffydvvpc ycgvno."Random.sentence(3, 5)// =&gt; "Mgl qhrprwkhb etvwfbixm jbqmg." 一句中文Random.csentence( min?, max? )123Random.csentence()Random.csentence( len )Random.csentence( min, max ) 随机生成一段中文文本。 参数的含义和默认值同 Random.sentence( min?, max? ))12345678Random.csentence()// =&gt; "第任人九同段形位第律认得。" Random.csentence(2)// =&gt; "维总。" Random.csentence(1, 3)// =&gt; "厂存。" 一个单词Random.word( min?, max? )123Random.word()Random.word( len )Random.word( min, max ) 参数 len可选。指示单词中字符的个数。默认值为 3 到 10 之间的随机数。 min可选。指示单词中字符的最小个数。默认值为 3。 max可选。指示单词中字符的最大个数。默认值为 10。123456Random.word()// =&gt; "fxpocl"Random.word(5)// =&gt; "xfqjb"Random.word(3, 5)// =&gt; "kemh" 目前单词中的字符是随机的小写字母，未来会根据词法生成『可读』的单词。 一个字Random.cword( pool?, min?, max? ) Random.cword() Random.cword( pool ) Random.cword( length ) Random.cword( pool, length ) Random.cword( min, max ) Random.cword( pool, min, max ) 随机生成一个汉字。 参数 pool可选。汉字字符串。表示汉字字符池，将从中选择一个汉字字符返回。 min可选。随机汉字字符串的最小长度。默认值为 1。 max可选。随机汉字字符串的最大长度。默认值为 1。123456789101112Random.cword()// =&gt; "干"Random.cword('零一二三四五六七八九十')// =&gt; "六"Random.cword(3)// =&gt; "别金提"Random.cword('零一二三四五六七八九十', 3)// =&gt; ""七七七""Random.cword(5, 7)// =&gt; "设过证全争听"Random.cword('零一二三四五六七八九十', 5, 7)// =&gt; "九七七零四" 英文标题Random.title( min?, max? ) Random.title() Random.title( len ) Random.title( min, max ) 随机生成一句标题，其中每个单词的首字母大写。 参数 len可选。指示单词中字符的个数。默认值为 3 到 7 之间的随机数。 min可选。指示单词中字符的最小个数。默认值为 3。 max可选。指示单词中字符的最大个数。默认值为 7。123456Random.title()// =&gt; "Rduqzr Muwlmmlg Siekwvo Ktn Nkl Orn"Random.title(5)// =&gt; "Ahknzf Btpehy Xmpc Gonehbnsm Mecfec"Random.title(3, 5)// =&gt; "Hvjexiondr Pyickubll Owlorjvzys Xfnfwbfk" 中文标题Random.ctitle( min?, max? ) Random.ctitle() Random.ctitle( len ) Random.ctitle( min, max ) 随机生成一句中文标题。 参数的含义和默认值同 Random.title( min?, max? )) 参数 len可选。指示单词中字符的个数。默认值为 3 到 7 之间的随机数。 min可选。指示单词中字符的最小个数。默认值为 3。 max可选。指示单词中字符的最大个数。默认值为 7。123456Random.ctitle()// =&gt; "证构动必作"Random.ctitle(5)// =&gt; "应青次影育"Random.ctitle(3, 5)// =&gt; "出料阶相" 名字英文名Random.first()1Random.first() 随机生成一个常见的英文名。12Random.first()// =&gt; "Nancy" 英文姓Random.last()1Random.last() 随机生成一个常见的英文姓。12Random.last()// =&gt; "Martinez" 英文姓名Random.name( middle? )12Random.name()Random.name( middle ) 随机生成一个常见的英文姓名。 参数 middle可选。布尔值。指示是否生成中间名。1234Random.name()// =&gt; "Larry Wilson"Random.name(true)// =&gt; "Helen Carol Martinez" 中文名Random.cfirst()1Random.cfirst() 随机生成一个常见的中文名。12Random.cfirst()// =&gt; "曹" 中文姓Random.clast()1Random.clast() 随机生成一个常见的中文姓。12Random.clast()// =&gt; "艳" 中文姓名Random.cname()1Random.cname() 随机生成一个常见的中文姓名。12Random.cname()// =&gt; "袁军" 网址URLRandom.url( protocol?, host? )12Random.url()Random.url( protocol, host ) 随机生成一个 URL。 参数 protocol指定 URL 协议。例如 http。 host指定 URL 域名和端口号。例如 nuysoft.com。123456Random.url()// =&gt; "mid://axmg.bg/bhyq"Random.url('http')// =&gt; "http://splap.yu/qxzkyoubp"Random.url('http', 'nuysoft.com')// =&gt; "http://nuysoft.com/ewacecjhe" URL协议Random.protocol()1Random.protocol() 随机生成一个 URL 协议。返回以下值之一：&#39;http&#39;、&#39;ftp&#39;、&#39;gopher&#39;、&#39;mailto&#39;、&#39;mid&#39;、&#39;cid&#39;、&#39;news&#39;、&#39;nntp&#39;、&#39;prospero&#39;、&#39;telnet&#39;、&#39;rlogin&#39;、&#39;tn3270&#39;、&#39;wais&#39;。12Random.protocol()// =&gt; "ftp" 域名Random.domain()1Random.domain() 随机生成一个域名。12Random.domain()// =&gt; "kozfnb.org" 等级域名Random.tld()1Random.tld() 随机生成一个顶级域名（Top Level Domain）。12Random.tld()// =&gt; "net" 邮箱地址Random.email( domain? ) Random.email() Random.email( domain ) 随机生成一个邮件地址。 参数 domain指定邮件地址的域名。例如 nuysoft.com。1234Random.email()// =&gt; "x.davis@jackson.edu"Random.email('nuysoft.com')// =&gt; "h.pqpneix@nuysoft.com" IP地址Random.ip()1Random.ip() 随机生成一个 IP 地址。12Random.ip()// =&gt; "34.206.109.169" 地址中国大区Random.region()1Random.region() 随机生成一个（中国）大区。12Random.region()// =&gt; "华北" 中国省Random.province()1Random.province() 随机生成一个（中国）省（或直辖市、自治区、特别行政区）。12Random.province()// =&gt; "黑龙江省" 中国城市Random.city( prefix? )12Random.city()Random.city( prefix ) 随机生成一个（中国）市。 参数 prefix可选。布尔值。指示是否生成所属的省。1234Random.city()// =&gt; "唐山市"Random.city(true)// =&gt; "福建省 漳州市" 中国县Random.county( prefix? )12Random.county()Random.county( prefix ) 随机生成一个（中国）县。 参数 prefix可选。布尔值。指示是否生成所属的省、市。1234Random.county()// =&gt; "上杭县"Random.county(true)// =&gt; "甘肃省 白银市 会宁县" 邮政编码Random.zip()1Random.zip() 随机生成一个邮政编码（六位数字）。12Random.zip()// =&gt; "908812" 数据处理首字母大写Random.capitalize( word )1Random.capitalize(word) 把字符串的第一个字母转换为大写。12Random.capitalize('hello')// =&gt; "Hello" 全大写Random.upper( str )1Random.upper( str ) 把字符串转换为大写。12Random.upper('hello')// =&gt; "HELLO" 全小写Random.lower( str )1Random.lower( str ) 把字符串转换为小写。12Random.lower('HELLO')// =&gt; "hello" 数组取数据Random.pick( arr )1Random.pick( arr ) 从数组中随机选取一个元素，并返回。12Random.pick(['a', 'e', 'i', 'o', 'u'])// =&gt; "o" 打乱数组Random.shuffle( arr )1Random.shuffle( arr ) 打乱数组中元素的顺序，并返回。12Random.shuffle(['a', 'e', 'i', 'o', 'u'])// =&gt; ["o", "u", "e", "i", "a"] 编码类全局唯一标识符Random.guid()1Random.guid() 随机生成一个GUID。12Random.guid()// =&gt; "662C63B4-FD43-66F4-3328-C54E3FF0D56E" Random.guid() 的实现参考了 UUID 规范。 身份证Random.id()1Random.id() 随机生成一个 18 位身份证。12Random.id()// =&gt; "420000200710091854" 自增整数Random.increment( step? )12Random.increment()Random.increment( step ) 生成一个全局的自增整数。 参数 step可选。整数自增的步长。默认值为 1。123456Random.increment()// =&gt; 1Random.increment(100)// =&gt; 101Random.increment(1000)// =&gt; 1101 Mock.valid()Mock.valid( template, data )1Mock.valid( template, data ) 校验真实数据 data 是否与数据模板 template 匹配。 参数 template必选。表示数据模板，可以是对象或字符串。例如 { ‘list|1-10’:[{}] }、‘@EMAIL’。 data必选。表示真实数据。123456789101112131415161718192021var template = &#123; name: 'value1'&#125;var data = &#123; name: 'value2'&#125;Mock.valid(template, data)// =&gt;[ &#123; "path": [ "data", "name" ], "type": "value", "actual": "value2", "expected": "value1", "action": "equal to", "message": "[VALUE] Expect ROOT.name'value is equal to value1, but is value2" &#125;] Mock.toJSONSchema()Mock.toJSONSchema( template )1Mock.toJSONSchema( template ) 把 Mock.js 风格的数据模板 template 转换成 JSON Schema。 参数 template必选。表示数据模板，可以是对象或字符串。例如 { ‘list|1-10’:[{}] }、‘@EMAIL’。 1234var template = &#123; 'key|1-10': '★'&#125;Mock.toJSONSchema(template) 1234567891011121314151617181920212223242526272829303132// =&gt;&#123; "name": undefined, "path": [ "ROOT" ], "type": "object", "template": &#123; "key|1-10": "★" &#125;, "rule": &#123;&#125;, "properties": [&#123; "name": "key", "path": [ "ROOT", "key" ], "type": "string", "template": "★", "rule": &#123; "parameters": ["key|1-10", "key", null, "1-10", null], "range": ["1-10", "1", "10"], "min": 1, "max": 10, "count": 3, "decimal": undefined, "dmin": undefined, "dmax": undefined, "dcount": undefined &#125; &#125;]&#125; 1234var template = &#123; 'list|1-10': [&#123;&#125;]&#125;Mock.toJSONSchema(template) 1234567891011121314151617181920212223242526272829303132333435// =&gt;&#123; "name": undefined, "path": ["ROOT"], "type": "object", "template": &#123; "list|1-10": [&#123;&#125;] &#125;, "rule": &#123;&#125;, "properties": [&#123; "name": "list", "path": ["ROOT", "list"], "type": "array", "template": [&#123;&#125;], "rule": &#123; "parameters": ["list|1-10", "list", null, "1-10", null], "range": ["1-10", "1", "10"], "min": 1, "max": 10, "count": 6, "decimal": undefined, "dmin": undefined, "dmax": undefined, "dcount": undefined &#125;, "items": [&#123; "name": 0, "path": ["data", "list", 0], "type": "object", "template": &#123;&#125;, "rule": &#123;&#125;, "properties": [] &#125;] &#125;]&#125;]]></content>
      <categories>
        <category>前端</category>
        <category>模拟数据</category>
        <category>Mock.js</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>Mock.js</tag>
        <tag>分离后端</tag>
        <tag>模拟数据</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript基础03-基本语法]]></title>
    <url>%2F2019%2F02%2F27%2FJavaScript%E5%9F%BA%E7%A1%8003-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[讲述JS的数据类型,命名规范,一般的输入输出,以及一些数据类型的方法 变量变量（variable）:用于存储可变数据的一个容器 基于ES语法规范，在JS中创建变量有以下方式: var (ES3)创建变量 function (ES3)创建函数 let (ES6)创建变量 const (ES6)创建常量 import (ES6)基于ES6的模块规范导出需要的信息 class (ES6)基于ES6创建类 12345678910/* * 语法： * var [变量名] = 值; * let [变量名] = 值; * const [常量名] = 值; * function 函数名()&#123; * * &#125; * ... */ JS命名规范严格区分大小写123var n = 12;var N = 13;//两个n不是同一个变量 驼峰命名发 按照数字、字母、下划线或者$来命名（数字不能做开头），命名的时候基于英文单词拼接成一个完整的名字（第一个单词字母小写，其他单词首字母大写）12345678var studentInfo;//学生信息var _studentInfo;//下划线在前面的，都是公共变量var $studentInfo;//$在前面的一般是JQ元素 关键字和保留字不能使用关键字和保留字 在JS中有特殊含义的叫做关键字 未来可能会成为关键字的叫保留字 JS中数据类型数据值是一门编译语言进行生产的材料 基本数据类型 number:数字 string：字符串 boolean：布尔 null：空 undefined：未定义 引用数据类型 object 普通对象 数组对象 正则对象 日期对象 ··· function：函数 ES6新增加的特殊类型：Symbol，代表唯一的值123456789101112131415161718192021222324252627282930[基本数据类型]var n = 13;//数字类型中有一个特殊的值叫做NaN（not a number，代表不是一个有效的数字，但是属于number类型的）[字符串]var s = &apos;&apos;;//由双引号或者单引号括起来的都是字符串[布尔类型]var b = true;//只有两个值true false[引用数据类型]var o = &#123;name:&apos;鱼非道&apos;,age:&apos;9&apos;&#125;;//普通对象用花括号包裹，里面包裹多组键值对var ary = [12,23,34,45];//中括号包裹的，包含多个对象的就是数组对象var reg = /-?(\d|([1-9]\d+))(\.\d+)?/g;//验证是否为有效数字的正则，由两个斜杠包裹的对象叫正则对象[函数]function fn()&#123;&#125;[Symbol]//它创建的是唯一的值var a = Sybmol(&apos;鱼非道&apos;);var b = Sybmol(&apos;鱼非道&apos;);//a==b =&gt;false 数字类型剖析number数字类型NaN:not a number 但是它是数字类型的 isNaN:检测当前值是否不是有效数字，返回true代表不是有效数字，返回false是有效数字1234567891011121314//语法:isNaN([value])var num = 12;isNaN(num);//=&gt;检测num变量存储的值是否为非有效数字 falseisNaN('13');//=&gt;false,这类处理数字的函数， // 都会将参数进行转换， // 只要字符串是数字类型就会转换为数字isNaN('鱼非道');//=&gt;trueisNaN(true)//=&gt;falseisNaN(false)//=&gt;falseisNaN(null)//=&gt;falseisNaN(undefined)//=&gt;trueisNaN(&#123;age:8&#125;)//=&gt;trueisNaN([12,23])//=&gt;trueisNaN([12])//=&gt;false isNaN检测机制 首先验证当前要检测的值是否为数字类型的，如果不是，浏览器会默认把值转换为数字类型 把非数字类型的值转换为数字 字符串转数字 其他基本类型转换为数字：直接使用Number这个方法转换的 boolean类型转数字 true-&gt;1 false-&gt;0 其他 null-&gt;0 undefined-&gt;NaN 引用数据类型转换数字先调用toString方法再调用Number方法，再判断 对象({}).toString()-&gt;’[object object]’-&gt;NaN 数字[12,23].toString()-&gt;’12,23’-&gt;NaN[12].toString()-&gt;’12’-&gt;12 特殊Number(‘’)-&gt;0[].toString()-&gt;’’-&gt;false 当前检测的值已经是数字类型，是有效数字返回false，不是返回true（数字类型中只有NaN不是有效数字，其余的都是数字） parseInt / parseFloat等同于Number，也是为了把其他类型的值转换为数字类型和Number的区别在于字符串转换分析上Number:出现任意非有效数字字符，结果就是NaN parseInt把一个字符串中的整数部分解析出来， parseFloat是把一个字符串效数部分解析出来12345parseInt(&apos;13.5px&apos;)=&gt;13parseFloat(&apos;13.4px&apos;)=&gt;13.4parseInt(&apos;width:13.5px&apos;)=&gt;NaN//从字符串最左边开始查找有效数字字符，并且转换为数字，但是一但遇到一个非有效数字字符，查找结束 NaN的比较NaN和谁都不相等，包括自己,所以在判断一个变量是否是一个有效数字的时候isNaN()方法是唯一方法。有重大意义。 布尔类型只有两个值：true/false如何把其他数据类型转换为布尔类型？ Boolean ! !! 12345678Boolean(1);//=&gt;true//Boolean(判断的值),Boolean()只有NaN和0的值为false!'鱼非道';//=&gt;先把其他数据类型转换为布尔类型，然后去反！！null;//=&gt;取两次反，等于没取反，就剩下转换为布尔类型了等价于Boolean() 规律：在JS中只有“0/NaN/空字符串/null/undefined”这五个值转换为布尔类型的false，其余转换为true null&amp;&amp;undefined都代表空或者没有 null：空对象指针 undefined：未定义 nullnull一般都是意料之中的没有（通俗理解：一般都是人为手动先赋值为null，后面的程序中我们会再次给他赋值）123var num = null;//...var num = 12; undefinedundefined代表的没有一般都是人为手动控制的，大部分都是浏览器自主为空（后面可以赋值也可以不赋值）12var num;//=&gt;此时变量的值浏览器给分配的就是undefined 对象数据类型object 普通对象 由大括号包裹起来的 由0到多组键值对组成 属性是用来描述当前对象特征的，属性名是当前具备这个特征，属性值是这个特征的描述（专业语法，属性名称为键[key]，属性值为值[value],一组属性名和属性值称为一组键值对） 定义对象1234var obj = &#123; name:'鱼非道', age:9&#125; //=&gt;对象的操作：对键值对的增删改查 获取对象12345obj.nameobj['name']/obj["name"]// 一般来说，对象的属性名都是字符串格式的（属性值不固定，任何格式都可以）&#125; 操作对象 增/改 12345// JS对象中属性名是不允许重复的，是唯一的obj.name = '鱼';//=&gt;原来对象中存在name属性，此处属于修改属性值obj.sex = '男';//=&gt;原来对象中不存在sex，此处相当于对象新增加一个属性sex 删 1234567891011121314// 彻底删除:对象中不存在这个属性了delete obj['age'];// 假删除：并没有移除这个属性，只是当前属性的值为空obj.sex = null;// 在获取属性值的时候，如果当前对象由这个属性名，// 则可以正常获取到值（哪怕是null），// 但是如果没有这个属性名，则获取的结果是undefinedobj['friends']//=&gt;undefined/** 'name' 和name的区别？* =&gt;'name'是一个字符串值，它代表的是本身* =&gt;name是一个变量，它代表的是本身存储的这个值* */ 数组对象一个对象中的属性名不仅仅是字符串格式的，还有可能是数字格式的12345678910111213141516171819var obj = &#123; "name":'鱼非道', 0:12&#125;[获取]obj['name']//=&gt;"鱼非道"obj[0]//=&gt;12obj['0']//=&gt;12//obj.0//=&gt;Uncaught SyntaxError: Unexpected number,语法错误/*当我们存储得到属性名不是字符串也不是数字的时候，浏览器会把这个值转换为字符串（toString），然后再进行存储obj[&#123;&#125;]=300;=&gt;先把（&#123;&#125;）.toString（）后的结果作为对象的属性名存储起来obj['object object']=300 */ 数组对象（对象由键值对组成的）1234567891011var oo = &#123; a:12&#125;;var ary = [12,23];/*=&gt;12和23都是属性值，属性名为数字索引通过观察结果，我妈妈发现数组对象的属性名是数字（我们把数字属性名称为当前对象的索引）所以，ary[0],ary['0']都可以，但是ary.0是不行的 */ JS运行与输出1.如何被运行 把代码运行在浏览器中（浏览器的内核来渲染解析） 基于NODE来运行（NODE也是一个基于V8引擎来渲染和解析JS的工具）2.如何输出结果 alter() 在浏览器中通过弹框的方式输出（浏览器提示框）全称是（window.alter）,基于alter输出的都会转换成字符串(toString方法)，alter(1+1)=&gt;’2’，alter([12,12])=&gt;’12,23’，alter({name:xxx})=&gt;’[object object]’ confirm() 和alter语法一致，全称（window.confirm）弹出的框有确定和取消按钮，所以它是确认提示框，会返回一个boolean值。具体看慕课上的 prompt() 在confirm的基础上加一个输入框 console.log() 在浏览器器控制台输出日志，浏览器中按F12召唤控制台 Elements:当前页面中的元素和样式在这都可以看到，还可以调节样式修改结构等 Console:控制台，可以在JS代码中通过.log输出，也可以直接写JS代码 Sources:当前网站的源文件都在这里 ··· console.dir() 比log输出的更加详细（尤其是输出对象值得时候） console.table() 把一个JSON文件按照表格的方式输出 珠峰培训视频总结讲师周啸天珠峰培训 JS的运行机制 当浏览器（它的内核/引擎）渲染和解析JS的时候，会提供一个供JS代码运行的环境，我们把这个环境称之为“全局作用域（global/window scope）” 代码自上而下执行（之前还有一个变量提升阶段） =&gt;基本数据类型的值会存储在当前作用域下12345678var a = 12;/** 1)开辟一个空间* 现在当前作用域下创建一个空间存储12* 2)在当前作用域中声明一个变量a（var a）* 3)让声明的变量和存储的12进行关联（把存储的12赋值给a=&gt;赋值操作叫做定义）* */` =&gt;基本数据类型（也叫做值类型），是按照值来操作的： 把原有的值复制一份放到新的空间或者位置上，和原来的值没有关系 =&gt;引用数据类型的值不能直接存储在当前作用域下（因为可能存储的内容过于复杂），我们需要先开辟一个新的空间（理解为仓库），把内容存储到这个空间中12345678var obj1 = &#123;n:100&#125;;/** 1)首先开辟一个新的内存空间，把对象中的键值对依次存储起来（为了保证后面可以找到这个空间，此空间有一个16进制的地址）* 2）声明一个变量* 3）让变量和空间地址关联在一起（把空间地址赋值给变量）* * 引用类型不是按照值来操作，它操作的是空间的引用地址：把原来空间的地址赋值给新的变量，但是原来的空间没有被克隆，还是一个空间，这样就会出现多个变量关联的是相同的空间，相互之间会存在影响了。* */ JS判断if-else if./else if/else12345678var num = 12;if(num &gt; 10)&#123; num++;&#125;else if(num&gt;=0 &amp;&amp; num&lt;=10)&#123; num--;&#125;else &#123; num+=2;&#125; 关于条件可以怎么写？123456789//&gt;= /&lt;= / == 常规比较if(0)&#123; //=&gt;不管你在条件判断中写什么，最后总要把其计算出true/false来判断条件是否成立 //=&gt;把其他类型转换为布尔类型，只有0/NaN/‘’/undefined是false，其余都是true&#125;if ('3px'+3)&#123; //'3px'+3=&gt;'3px3'&#125; BAT面试题 12345678910111213var num = parseInt('width:35.5px');if (num==35.5)&#123; alter(0);&#125; else if (num==35)&#123; alert(1);&#125; else if (num==NaN)&#123; alert(2);&#125; else if (typeof num=='number')&#123; alert(3);&#125; else &#123; alert(4);&#125;//=&gt;输出的是"3"(字符串3) typeof在JS中用来检测数据类型的方式之一，除了它以外，还有： instanceof constructor Object.prototype.toString.call()语法：1typeof [value] //=&gt;检测value的数据类型，返回字符串 返回值：&quot;number&quot;/&quot;string&quot;/&quot;boolean&quot;/&quot;undefined&quot;/&quot;object&quot;/&quot;function&quot; typeof检测数组/正则/对象，最后返回的都是”object”，也就是typeof无法细分对象 三元运算符 语法：条件?成立做的事情:不成立做的事情;等价于简单的if/else判断12345678var num = 12;if (num&gt;10)&#123; num++;&#125; else &#123; num--;&#125;//=&gt;改写成三元运算符num&gt;10?num++:num--; 特殊情况1234567891011//一个条件成立做某事，不成立不做事var num = 12;num&gt;10?num:; //=&gt;报错：Uncaught SyntaxError: Unexpected token ;语法错误//以下是解决方法：num&gt;10?num:null;num&gt;10?num:void 0;num&gt;10?num:undefined;//如果需要执行多项任务，要用小括号包裹起来，每条操作语句用逗号分隔num=10;num&gt;10?(numm++,num*=10):null; switch caseJS中的一种判断方式123456789101112131415161718192021var num = 12;if (num==10)&#123; num++;&#125; else if (num==5)&#123; num--;&#125; else &#123; num=0;&#125;//=&gt;改为switch caseswitch (num)&#123; case 10: num++; break; case 5: num--; break; default: num = 0;&#125; switch case应用于变量（或者表达式等）在不同值情况下的不同操作. 但是要注意：switch和if else还是有不一样的 n++和n=n+1区别123456var a = '10';console.log(a++);//=&gt;11，这里还是算术运算var b = '10';b=b+1;console.log(b);//=&gt;101这里变成了字符串连接了 if-else和switch区别1234567891011121314151617var num = '10';if (num==10)&#123; num++;&#125; else if (num==5)&#123; num--;&#125; else &#123; num=0;&#125;//=&gt;11 这里输出11var n = '10';switch (n)&#123; case 10:n++;break; case 5:n--;break; default:n = 0;&#125;//=&gt;0 这里输出0 在if else中的比较的是num==10;所以’10’==10,为true。 在switch中的比较的是n===10;所以这里的’10’===10为false; ‘===’和’==’区别普通比较123'10'==10//=&gt;true 相等比较，如果等号左右两边的类型不一样，首先会转换为一样的数据类型，然后再进行比较//=&gt;当前案例中，是把字符串'10'转换为数字了，然后再比较的 绝对比较：如果两边的数据类型不一样，则直接不相等，它要求类型和值都完全一样才会相等（真实项目于中为了保证代码的严谨性，我们应该更多使用绝对比较） JS循环FOR循环 作用:按照一定的规律，重复去做某件事情，此时我们就需要使用循环来做 webstrom中的快捷键：itar再按tab就可以把for循环写出来。 FOR循环的语法： 定义初始化 var i = 0 设置循环成立的条件（条件成立的循环继续，不成立的循环结束）i&lt;ary.length 条件成立会执行循环体中的内容（大括号包裹的就是循环体） 执行步长累加的操作 FOR循环中的两个关键字 continue: 继续(结束本轮循环) break: 中断或者结束(结束所有循环) JS函数运行机制函数 在JS当中,函数就是一个方法(一个功能体),基于函数一般都是为了实现某个功能 1234567var total = 10;total+=10;total = total/2;total = total.toFixed(2);//=&gt;保留小数点后面两位(数字由一个方法toFixed用来保留效数点后面的位数)//以后要用的时候,为了避免冗余代码,要使用函数将这个计算过程保存下来 函数诞生的目的就是为了实现封装:把实现一个功能的代码封装到一个函数中,后期想要实现这个功能,只需要在把函数执行即可,不必要再次编写重复的代码,起到了低耦合高内聚(减少页面中的冗余代码,提高代码的重复使用率)的作用 1234567function f() &#123; var total = 10; total+=10; total/=2; total = total.toFixed(2); console.log(total);&#125; 在ES3标准中:语法:123456//=&gt;函数定义function 函数名([参数]) &#123; 函数体:实现功能的JS的代码&#125;//=&gt;函数执行函数名(); 在ES6标准中创建箭头函数:123456789101112//=&gt;函数定义let 函数名 = ([参数]) =&gt;&#123; 函数体&#125;//=&gt;函数执行函数名();let fn = ()=&gt;&#123; let to = 10; //...&#125;;fn(); 函数作为引用数据类型中的一种,它也是按照引用地址来操作的,函数的执行机制1234567function f() &#123; var total = 10; total+=10; total/=2; total = total.toFixed(2); console.log(total);&#125; 函数也是引用类型,首先会开辟一个新的堆内存,把函数体中的代码当作”字符串”存储到内存中(对象向内存中存储的是键值对) 把开辟的堆内存地址赋值给函数名() 函数中的参数 参数是函数的入口:当我们在函数中封装一个功能,发现一些原材料不确定,需要执行函数的时候用户传递进来才可以,此时我们就基于参数的机制,提供出入口即可1234567891011//=&gt;此处的参数叫做形参:入口,形参是变量function sum(n,m) &#123; var total = 0; total = n + m; console.log(total);&#125;//执行函数传递的值是实参:实参是具体的数据值sum(10,20);//=&gt;n=10 m=20sum(10);//=&gt;n=10 m=undefinedsum();//=&gt;n=undefined m=undefinedsum(10,20,30);//=&gt;n=10 m=20 30没有形参来接收]]></content>
      <categories>
        <category>前端</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript基础02-浏览器内核]]></title>
    <url>%2F2019%2F02%2F27%2FJavaScript%E5%9F%BA%E7%A1%8002-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8%2F</url>
    <content type="text"><![CDATA[讲述浏览器的内核与引擎,JS的概述 关于浏览器的内核和引擎1.内核种类 webkit（v8引擎）：大部分浏览器 gecko：火狐浏览器 trident：IE浏览器 … 2.兼容性问题W3C:万维网联盟W3C定制编程语言的规范与标准 背景开发者按照W3C标准来编写代码，浏览器开发商也会开发一套按W3C规范把代码渲染成页面的东西（这个东西就是内核或者引擎） 浏览器内核作用：按照一定的规范，把代码基于GPU（显卡）绘制出对应的图片和页面等 浏览器兼容的原因 部分浏览器会提前开发一些更好的功能，后期这些功能会被收录到W3C规范中，但是在收录之前，会存在一定的兼容性问题 各个浏览器厂商，为了突显自己的个性，用其他方法实现了W3C规范中的功能 … JavaScriptJavaScript是什么JS：轻量级的客户端脚本语言 编程语言是什么HTML+CSS是标记语言，但是编程语言是具备一定逻辑的，或者一定的编程思想（面向对象编程[OOP]、面向过程编程） 面向对象 C++ JAVA PHP C#(.net) JS … 面向过程 C … JS实况目前的JS已经不仅仅是客户端语言了，基于NODE可以做服务器端程序，所以JS是全栈编程语言 JS组成 ECMAScript（ES）：JS的核心语法 DOM：document object model 文档对象模型，提供各种API（属性和方法）让JS可以获取或者操作页面中的DOM元素（HTML元素） BOM：browser object model 浏览器对象模型，提供各种的API来操作浏览器（比如关闭浏览器） ESMAScript 它是JS的语言规则，JS中的变量、数据类型、语法规范、操作语句、设计模式等等都是ES规定的 ESMAScript历史ES2.01997年ES1.0-&gt;1998年ES2.0 ES3.01999年ES3.0（现今使用最广泛应用的版本） ES4.02000年ES4.0（由于它和ES3.0的概念颠覆，但是4.0的思想很先进，但是大家并没有使用，最后夭折） ES5.0ES5.0和ES Harmonious(程序员中的激进派要发展ES4中的进步思想，产生了ES5.0， 但是保守派为了不让这些颠覆性的东西产生太大的影响，就产生了ES Harmonious本版[和谐版]) ES6.0 2015年6月ES6.0为了解决保守派和激进派的冲突，产生了兼具两派思想的ES6，有些人认为ES6.0就是ES5的确定版，所以有些人认为ES6.0就是ES5.0。而且ES6与ES5本身也没有太大的差别) 2016年6月ES6正式发布之后每年6月发布一次升级，以年号为版本号。 2017年6月ES7发布但是它其实还是ES6，因为，变化不大。之后皆是如此。 现状 所以在ES的发展史中，最主要的就是ES3和ES6， 但是市面上，大家都以为ES5是ES3的继承， ES6是新版本。现在大部分项目也都还在使用ES3。 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript基础01-前端发展史]]></title>
    <url>%2F2019%2F02%2F27%2FJavaScript%E5%9F%BA%E7%A1%8001-%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B1%95%E5%8F%B2%2F</url>
    <content type="text"><![CDATA[讲述前端的10年历史,以及前端未来的展望 一：浅聊前端发展史第一阶段：C/S（client server）-&gt;B/S(browser server)网页制作 技术栈：PhotoShop、HTML、CSS 第二阶段：从静态到动态，从后端到前端,这样有了前端开发工程师 前后端分离 后台：完成数据的分析和业务逻辑编写（包括API接口的编写） 前端：网页制作、JS交互效果、数据的交互和绑定 技术栈：Javascript、AJAX（跨域技巧）、JQuery… 第三阶段：从前端到全端（从PC端到移动端） 技术栈：H5、CSS3、响应式布局开发、Zepto、Hybrid（混合APP开发）、微信小程序… 第四阶段：从全端到全栈 全栈开发：前后端都可以开发（严格意义讲，一种语言完成前后端开发） 技术栈：NODE（基于JS编程语言开发服务器程序）、Express/Koa… 当前为了迎合日益发展的前端开发，JS中诞生很多有助于开发、维护、提高性能的框架 技术栈：Vue、React、Angular、webpack… 未来展望WEB4.0时代，VR/AR元年 技术栈：Canvas/webGL…珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iView基础05-分页]]></title>
    <url>%2F2019%2F02%2F26%2FiView%E5%9F%BA%E7%A1%8005-%E5%88%86%E9%A1%B5%2F</url>
    <content type="text"><![CDATA[这一篇讲述从服务器获取数据然后使用Table组件进行分页展示.首先说明,这是一个很重要的功能,必须学会,而且很难.分页,筛选,排序都分服务器端和前端. 如果是服务器端进行处理的话,那么主要的工作是后端工程师来完成的.那么前端工程师要做的就是传好参数. 分页前端工程师要传好页数和每页的数量,比如说第1页和每页10条数据,那么前端工程师通过url传给后端的API接收到后端的数据.再通过渲染,这样就完成了服务器端的分页 筛选和排序同样的道理,也是大部分工作在于后端工程师对数据的处理,前端工程师只要通过url传好筛选条件和排序方法,这样就可以接收到后端处理好的数据,然后渲染之后就好了. 如果是前端进行分页排序和筛选的话那么前端在获取到所有的数据之后,要通过在Vue实例里面写一些自己的逻辑函数,对所有的数据进行处理,然后导出对应要展示的那一点数据,然后渲染到页面上就好了 AJAX准备AXOIS的安装1npm install axios --save 封装AXIOS在SRC文件夹底下新建一个libs文件夹,然后我们在里面创建一个utils.js文件,文件内容如下12345678910import axios from 'axios';let util = &#123;&#125;;util.ajax = axios.create(&#123; baseURL: 'https://easy-mock.com/mock/5c777f9155cc8f7a044a5bc6/paging', timeout: 30000&#125;);export default util; 这样自定义组件就还可以通过import导入这个utils文件从而不用直接调用axios了,而且我们在utils里面页定义好了BaseURL,之后带调用utils的时候只需要再传上后面的参数就好了. 服务器端的分页创建API由于这牵扯到后端,单纯作为一个小小的前端工程师还弄不出正真的数据,但是我们可以依赖一些平台来创建自己的前端模拟数据.比如之前的文章Mock.js的模拟数据,学完了Mock.js之后,在看看EasyMock这个平台来搭建自己的API接口了,虽然可以创建API,但是我们并不能进行服务器端的分页处理,所以我们只能使用最笨的办法. 假如我们有100条数据,那么我们就根据每页10/20/30/40,依次去创建对应的API,那么每页10条的API有10个,每页20条的API有5个,每页30条的API有4个,每页40条的API有3个.这样我们前端进行传对应的参数的时候就可以获取对应的已经分好页的数据,渲染即可. Mock模板我自己写的模板是123456789&#123; &apos;data-list|10&apos;: [&#123; &quot;name&quot;: &quot;@cname&quot;, &quot;age&quot;: &quot;@integer(18, 30)&quot;, &apos;sex|1&apos;: [&apos;男&apos;, &apos;女&apos;] &#125;], current: 2, total: 100&#125; 根据Mock.js的语法,我们可以每次生成一个对象,这个对象里面有一个包含10个人(姓名,年龄,性别)的数组,随机生成10次.每次将生成的数据保存好,这样100条数据就模拟好了. 在按照前端要传的参数/${this.current}/${this.size}页数和每页的大小创建对应得API,每个API里面都要记得保函住数据的总数,因为这个数据是iView的Page组件必须的,因为Page组件要根据这个数据进行计算总共的页数. 比如我自己创建的每页40条数据的第3页数据https://easy-mock.com/mock/5c777f9155cc8f7a044a5bc6/paging/3/40 创建Vue组件在template里面上table和page两个组件123456789101112131415&lt;template&gt; &lt;div class="paging01"&gt; &lt;h1&gt;服务端分页及自定义序号&lt;/h1&gt; &lt;Table :loading="loading" :columns="columns1" :data="data1" border size="small"&gt;&lt;/Table&gt; &lt;div style="text-align: center;margin: 16px 0"&gt; &lt;Page :total="total" :current.sync="current" @on-change="getData" @on-page-size-change="handleChangeSize" show-sizer &gt;&lt;/Page&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;script&gt; import $ from '../libs/utils'; export default &#123; name: "paging01", data() &#123; return &#123; loading:false, columns1: [ &#123; type:"index", width:"60", align:"center" &#125;, &#123; title: '姓名', key: 'name', width:'160px', align:'center' &#125;, &#123; title: '年龄', key: 'age' &#125;, &#123; title:'性别', key:'sex' &#125; ], data1: [], total:0, current:1, size:10 &#125; &#125;, methods:&#123; getData()&#123; if (this.loading) return; this.loading = true; $.ajax(&#123; method: 'get', url: `/$&#123;this.current&#125;/$&#123;this.size&#125;` &#125;).then(res =&gt; &#123; // console.log(res.data); this.data1 = res.data.datalist; this.total = res.data.total; this.loading = false; &#125;) &#125;, handleChangeSize(val)&#123; this.size = val; this.$nextTick(()=&gt;&#123; this.getData(); &#125;); &#125; &#125;, mounted()&#123; this.getData(); &#125; &#125;&lt;/script&gt; 自定义序号在iView3.0之后才有的方法在上面的表头的index项里写123indexMethod:(row)=&gt;&#123; return (row._index+1) + (this.size * this.current)-this.size;&#125; segmentfault讲堂讲师AresniView 实战系列教程]]></content>
      <categories>
        <category>前端</category>
        <category>UI框架</category>
        <category>iView</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>iView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iView基础04-Layout布局]]></title>
    <url>%2F2019%2F02%2F26%2FiView%E5%9F%BA%E7%A1%8004-Layout%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[以iView的Layout组件可以很简单实现以前使用div进行来进行的布局 Layout组件Layout组件的组成 &lt;Header&gt;顶部 (导肮条,菜单项,头像等,一级菜单) &lt;Sider&gt;侧边栏 (二级菜单) &lt;Content&gt;主体内容 (大大的Slot) &lt;Footer&gt;底部 (版权等) 以上4个组件必须放在Layout里面使用的 &lt;Layout&gt;布局容器,可递归嵌套 Layout组件源文件Layout的组件的源文件放在src/components/layout Layout组件: 由一个空的div和一个slot组成 逻辑:当其初始化的时候会怕判断侧边的打开状态(代码如下) 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt; &lt;div :class="wrapClasses"&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt; const prefixCls = 'ivu-layout'; export default &#123; name: 'Layout', //...省略的代码 data () &#123; return &#123; hasSider: false // 这个元素会是侧边栏Sider的关键 &#125;; &#125;, computed: &#123; wrapClasses () &#123; return [ `$&#123;prefixCls&#125;`, &#123; [`$&#123;prefixCls&#125;-has-sider`]: this.hasSider &#125; ]; &#125; &#125;, //当hasSider为true的时候给最外层div添加一个class methods: &#123; findSider () &#123; //这个函数主要是获取Layout组件下的所有子组件, //然后在子组件数组里面寻找有没有Sider这样的子 //组件,如果有就返回true,没有就返回false return this.$children.some(child =&gt; &#123; return child.$options.name === 'Sider'; &#125;); &#125; &#125;, mounted () &#123; this.hasSider = this.findSider(); //hasSider是data里面的内容,findSider是methods里面的内容 &#125; // mounted属性就是其初始化之后要做的事情!!!! &#125;;&lt;/script&gt; header组件 content组件 footer组件 除了最外层类名不一样,其他都一样,都是一个div里面加上一个slot,他们只是承载了一些内容,并没有进行一些其他的交互 Sider组件 第一个span标签 里面有一个v-show值为showZeroTrigger,控制侧栏的显示 第二个div标签 里面就是一个slot,是用来承载,侧栏组件的一些菜单选项的 第三个slot(名:trigger) 收缩侧栏的按钮 里面有默认的内容,所以如果我们不定义这个slot,它就会默认里面的内容 底下就是一个div包裹着一个图标,div也用v-show值为showBottomTrigger来控制这个底下的图标的显示 图形化界面使用echarts创建图形化界面 Echarts官网 Echarts官方实例 EchartsGL实例 安装echarts1npm i echarts 创建容器创建一个具有宽高的div容器12345678&lt;Row&gt; &lt;i-col span="18"&gt; &lt;div style="width: 100%;height: 400px" ref="chart"&gt;&lt;/div&gt; &lt;/i-col&gt; &lt;i-col span="6"&gt; &lt;/i-col&gt;&lt;/Row&gt; 导入echarts123&lt;script&gt; import echarts from &apos;echarts&apos;&lt;/script&gt; 初始化echarts12345678910111213141516171819202122232425262728&lt;script&gt; import echarts from 'echarts' methods:&#123; initChart()&#123; const myChart = echarts.init(this.$refs.chart); const option = &#123; title: &#123; text: '销量额' &#125;, tooltip: &#123;&#125;, legend: &#123; data:['销量'] &#125;, xAxis: &#123; data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"] &#125;, yAxis: &#123;&#125;, series: [&#123; name: '销量', type: 'bar', data: [5, 20, 36, 10, 10, 20] &#125;] &#125;; myChart.setOption(option); &#125; &#125;&lt;/script&gt; 其中这个函数只有三项, 1.获取容器元素 在JS中获取 12//在JS中获取document.getElementById('xxx') 过去Vue的ref获取 12//在Vue中获取const myChart = echarts.init(this.$refs.chart); 2.定义视图 这个可以直接到Echarts官网上面直接抄下来,然后自己改数据既可123456789101112131415161718const option = &#123; title: &#123; text: '销量额' &#125;, tooltip: &#123;&#125;, legend: &#123; data:['销量'] &#125;, xAxis: &#123; data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"] &#125;, yAxis: &#123;&#125;, series: [&#123; name: '销量', type: 'bar', data: [5, 20, 36, 10, 10, 20] &#125;]&#125;; 3.组件加载视图1myChart.setOption(option); 执行函数在Vue中组件加载完成后,使用mounted属性执行函数123mounted()&#123; this.initChart();&#125; segmentfault讲堂讲师AresniView 实战系列教程]]></content>
      <categories>
        <category>前端</category>
        <category>UI框架</category>
        <category>iView</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>iView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iView基础03-栅格]]></title>
    <url>%2F2019%2F02%2F25%2FiView%E5%9F%BA%E7%A1%8003-%E6%A0%85%E6%A0%BC%2F</url>
    <content type="text"><![CDATA[iView的栅格布局 ,Affix组件的使用 ,以及响应式布局 iview的栅格布局栅格系统的使用 栅格首先要使用&lt;Row&gt;&lt;/Row&gt;标签来包裹的,代表一行 &lt;Row&gt;&lt;/Row&gt;里面有&lt;Col&gt;&lt;/Col&gt;标签,代表一列,每一个的span属性代表这个列的宽度 每行超过的列都会自动折行 行的参数说明 属性 说明 类型 默认值 gutter 栅格间距，单位 px，左右平分 Number 0 type 布局模式，可选值为flex或不选，在现代浏览器下有效 String - align flex 布局下的垂直对齐方式，可选值为top、middle、bottom String - justify flex 布局下的水平排列方式，可选值为start、end、center、space-around、space-between String - class-name 自定义的class名称 String - gutter:表示每列之间的间隔,要注意的是gutter使用的时候前面必须使用来绑定. 123456789&lt;template&gt; &lt;div id="app"&gt; &lt;Row :gutter="16"&gt; &lt;Col v-for="n in 4" span="6"&gt; &#123;&#123;n&#125;&#125;列 &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; type: 布局模式，可选值为flex或不选，在现代浏览器下有效 align: flex布局下的垂直对齐方式，可选值为top、middle、bottom justify: flex布局下的水平排列方式，可选值为start、end、center、space-around、space-between 以上三个属性的关系:只有在type的属性值为:flex时,底下的两个属性才会生效.而底下两个属性的机制是,Row的子元素才会生效.而子元素的子元素是不会有效果的 1234567891011121314151617181920212223&lt;template&gt; &lt;div id="app"&gt; &lt;Row type="flex" align="middle" justify="space-around"&gt; &lt;Col span="4"&gt; &lt;Avatar src=`https://timgsa.baidu.com/timg?image&amp;quality= 80&amp;size=b9999_10000&amp;sec=1550235940113&amp;di=ad969bff5a45be9 43f8f381508f419ac&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitan g.com%2Fuploads%2Fitem%2F201712%2F25%2F20171225111318_TK izY.thumb.700_0.jpeg` shape="square"&gt;&lt;/Avatar&gt; &lt;!--自行替换src值--&gt; &lt;/Col&gt; &lt;Col span="18"&gt; &lt;div&gt;墨香铜臭原创小说《魔道祖师》中的男主角。 &lt;/div&gt; &lt;div&gt;墨香铜臭原创小说《魔道祖师》中的男主角。 &lt;/div&gt; &lt;div&gt;墨香铜臭原创小说《魔道祖师》中的男主角。 &lt;/div&gt; &lt;div&gt;墨香铜臭原创小说《魔道祖师》中的男主角。 &lt;/div&gt; &lt;/Col&gt; &lt;Col span="2"&gt; &lt;Icon type="ios-checkmark" color="#2d8cf0" size="28"&gt;&lt;/Icon&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; 列的参数说明 属性 说明 类型 默认值 span 栅格的占位格数，可选值为0~24的整数，为 0 时，相当于display:none Number / String - order 栅格的顺序，在flex布局模式下有效 Number / String - offset 栅格左侧的间隔格数，间隔内不可以有栅格 Number / String - push 栅格向右移动格数 Number / String - pull 栅格向左移动格数 Number / String - class-name 自定义的class名称 String - xs &lt;768px 响应式栅格，可为栅格数或一个包含其他属性的对象 Number / Object - sm ≥768px 响应式栅格，可为栅格数或一个包含其他属性的对象 Number / Object - md ≥992px 响应式栅格，可为栅格数或一个包含其他属性的对象 Number / Object - lg ≥1200px 响应式栅格，可为栅格数或一个包含其他属性的对象 Number / Object - offset:栅格左侧的间隔格数，间隔内不可以有栅格12345678910111213141516&lt;template&gt; &lt;div id="app"&gt; &lt;Row&gt; &lt;Col span="4" offset="1"&gt; &lt;Card&gt; &lt;div style="height: 200px"&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;Col span="18"&gt; &lt;Card&gt; &lt;div style="height: 800px"&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; Row栅格的Bug在Gard里面,如果第一个Col标签里面没有内容,那么页面就不会显示他,而在AJCX的异步处理中,假如数据来的比较迟,那么页面出现闪动的现象.所以为了避免这样,我们可以在会出现无见面的Col中加上一个没有内容,但是有宽度的div,这样可以防止页面闪动 代码如下:1234567891011121314&lt;template&gt; &lt;div id="app"&gt; &lt;Row&gt; &lt;Col span="18" offset="1"&gt; &lt;div style="width: 100%;height: 1px"&gt;&lt;/div&gt; &lt;/Col&gt; &lt;Col span="4"&gt; &lt;Card&gt; &lt;div style="height: 200px"&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; Affix组件在iview里面要避免使用CSS,要多使用组件,关于fixed的设置,iview中有一个组件是Affix 代码如下:123456789101112131415161718&lt;template&gt; &lt;div id="app"&gt; &lt;Row :gutter="64"&gt; &lt;Col span="18"&gt; &lt;Card&gt; &lt;div style="height: 600px;background-color: #4d5669"&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;Col span="6"&gt; &lt;Affix&gt; &lt;Card&gt; &lt;div style="height: 200px;background-color: #4d5669"&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Affix&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; Affix的参数说明Affix props 属性 说明 类型 默认值 offset-top 距离窗口顶部达到指定偏移量后触发 Number 0 offset-bottom 距离窗口底部达到指定偏移量后触发 Number - Affix events 事件名 说明 返回值 on-change 在固定状态发生改变时触发 true / false 详情 3响应式布局 xs &lt; 768px sm &gt;= 768px md &gt;= 992px lg &gt;= 1200px 12345678910111213141516&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;Row&gt; &lt;Col :xs=&quot;24&quot; :sm=&quot;4&quot;&gt; &lt;Card&gt; &lt;div style=&quot;height: 200px&quot;&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;Col :xs=&quot;24&quot; :sm=&quot;20&quot;&gt; &lt;Card&gt; &lt;div style=&quot;height: 600px&quot;&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; 同时还设置offset12345678910111213141516&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;Row&gt; &lt;Col :xs=&quot;&#123; span:24 , offset:0 &#125;&quot; :sm=&quot;&#123; span:6 , offset:1 &#125;&quot;&gt; &lt;Card&gt; &lt;div style=&quot;height: 200px&quot;&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;Col :xs=&quot;&#123; span:24 , offset:0 &#125;&quot; :sm=&quot;&#123; span:16 , offset:0 &#125;&quot;&gt; &lt;Card&gt; &lt;div style=&quot;height: 600px&quot;&gt;&lt;/div&gt; &lt;/Card&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt;&lt;/template&gt; 这里有一定的Bug,当你在小尺寸下也想有offset的时候,会在大尺寸下有偏差,所以,最好不要给小尺寸提供offsetsegmentfault讲堂讲师AresniView 实战系列教程]]></content>
      <categories>
        <category>前端</category>
        <category>UI框架</category>
        <category>iView</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>iView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iView基础02-导航、路由、鉴权篇]]></title>
    <url>%2F2019%2F02%2F24%2FiView%E5%9F%BA%E7%A1%8002-%E5%AF%BC%E8%88%AA%E3%80%81%E8%B7%AF%E7%94%B1%E3%80%81%E9%89%B4%E6%9D%83%E7%AF%87%2F</url>
    <content type="text"><![CDATA[正式进入iView的基础,在前端进行鉴权的处理很重要. 安装vue-router可以在vue-cli的ui界面添加,在添加完iview之后再添加vue-router一定要是添加插件,如果要实现vue-router插件对页面的改动,就要注意安装的顺序.其实也没什么大意义,新手可以直接体验iview+vue-router的效果编译运行项目 MenuItem跳转此处的以iview的menuItem为例子 路由规则:1234567891011121314export default new Router(&#123; routes: [ &#123; path: '/', name: 'home', component: Home &#125;, &#123; path: '/about', name: 'about', component: () =&gt; import('./views/About.vue') &#125; ]&#125;) Menu点击事件跳转 给Menu绑定事件 12345678910111213&lt;template&gt; &lt;div id="app"&gt; &lt;div id="nav"&gt; &lt;!--&lt;router-link to="/"&gt;Home&lt;/router-link&gt; |--&gt; &lt;!--&lt;router-link to="/about"&gt;About&lt;/router-link&gt;--&gt; &lt;/div&gt; &lt;Menu active-name="/" @on-select="handleSelect"&gt; &lt;MenuItem name="/"&gt;首页&lt;/MenuItem&gt; &lt;MenuItem name="about"&gt;关于我们&lt;/MenuItem&gt; &lt;/Menu&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt; 编写点击事件 123456789&lt;script&gt; export default &#123; methods: &#123; handleSelect: function (name) &#123; this.$router.push(name); &#125; &#125; &#125;&lt;/script&gt; 这样点击Menu的时候,就会触发事件,并根据MenuItem的name这个属性push到对应的路由 Menu的to属性跳转直接编写MenuItem的属性即可12345678910111213&lt;template&gt; &lt;div id="app"&gt; &lt;div id="nav"&gt; &lt;!--&lt;router-link to="/"&gt;Home&lt;/router-link&gt; |--&gt; &lt;!--&lt;router-link to="/about"&gt;About&lt;/router-link&gt;--&gt; &lt;/div&gt; &lt;Menu active-name="/"&gt; &lt;MenuItem activity name="/" to="/"&gt;首页&lt;/MenuItem&gt; &lt;MenuItem name="about" to="/about"&gt;关于我们&lt;/MenuItem&gt; &lt;/Menu&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt; 而且这样写比第一种方式要短,而且他形成的是一个a标签,这样有利于搜索引擎的收录.而第一种方式形成的是一个li标签. MenuItem新功能 MenuItem的target属性,这会使MenuItem具有a标签相应的反应,比如在新窗口打开 MenuItem的replace属性,这个属性不会向history中传递新纪录,在导航栏再好不过了. MenuItem高亮处理以上案例会有一个bug,当你在about页面刷新的时候会出现Home的高亮,所以这里要动态的设置Menu的active-name属性. 由于要使用路由来动态的定义active-name属性,而active-name决定的是MenuItem的name属性,所以这里MenuItem要指定name属性,而且active-name获取的是路由的信息,所以在name中也要和路由的路径一致(带上’/‘),而这里的跳转使用MenuItem的to属性,to属性指向的也是路由的路径. 对$route进行监听,每当$route变化的时候,为active-name进行赋值当前路由代码如下: (注意$router,$route,$router()的区别)123456789101112131415161718192021222324252627&lt;template&gt; &lt;div id="app"&gt; &lt;div id="nav"&gt; &lt;/div&gt; &lt;Menu :active-name="activeName"&gt; &lt;MenuItem replace name="/home" to="/home"&gt;首页&lt;/MenuItem&gt; &lt;MenuItem replace name="/about" to="/about"&gt;关于我们&lt;/MenuItem&gt; &lt;/Menu&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data() &#123; return&#123; 'activeName':'/home' &#125; &#125;, watch:&#123; '$route'()&#123; this.activeName = this.$route.path; console.log(this.$route); &#125; &#125; &#125;&lt;/script&gt; 即使现在已经解决了上面说的那个bug,但是页面再刷新的时候还是会先出现在home选项上面,然后再跳转到对应的路由选项上面,这样会有一定的卡顿的缺点 路由鉴权路由守卫路由的鉴权主要通过路由守卫来实现的,路由守卫就是当路由发生变化的时候,在变化之前要执行的一段代码,它的定义在main.js里面123router.beforeEach((to, form, next) =&gt; &#123; //=&gt;守卫代码&#125;) 要注意的是在路由守卫里面一定要写东西,如果不写东西那么,在访问路由的的时候也会什么都不做,在router-view的地方也不会进行渲染 路由守卫的参数 to=&gt;即将要进入的目标 form=&gt;当前离开的路由 next=&gt;是一个函数,直接执行的话就是跳到下一个路由,如果传参就是跳转到指定的路由 路由传递信息如果路由要携带一定的信息,可以在定义路由的时候在对应的路由对象里面使用meta属性定义,meta对应的是一个对象,这个对象就是路由所携带的信息,路由守卫可以使用to参数进行访问这个页面的路由信息 路由信息的定义1234567891011121314151617181920export default new Router(&#123; routes: [ &#123; path: '/admin', name: 'admin', meta:&#123; type:'admin' &#125;, component: () =&gt; import('./views/admin.vue') &#125;, &#123; path: '/login', name: 'login', meta:&#123; type:'login' &#125;, component: () =&gt; import('./views/login.vue') &#125; ]&#125;) 路由信息的获取 先在main.js里面定义路由守卫,然后在里面通过to或者form对应的路由对象下的属性获取,例子如下.to.meta.type12345678910111213router.beforeEach((to, form, next) =&gt; &#123; const type = to.meta.type; if (type ==='admin')&#123; if (window.localStorage.getItem('login'))&#123; next(); &#125; else &#123; next('/login'); &#125; &#125; else &#123; next(); &#125;&#125;) 路由鉴权实战登录页面以上面为基础,已经有了路由信息,路由守卫了,只需要添加一个登录逻辑即可 在login.vue中添加以下代码:1234567891011121314151617&lt;template&gt; &lt;div&gt; &lt;h1&gt;这是登录页面&lt;/h1&gt; &lt;Button @click="handleLogin"&gt;登录&lt;/Button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; methods:&#123; handleLogin:function () &#123; window.localStorage.setItem('login',1); this.$router.push('/admin'); &#125; &#125;&#125;&lt;/script&gt; 上面的逻辑是,当你登录的时候,往浏览器本地的Storage里存一个登录的键值对,当你访问管理页面的时候就会由路由守卫查询Storage中是否有此项键值对,如果有这个键值对就进入admin页面,如果没有,那么就进入login页面 响应式路由应用根据不同平台动态路由不同组件 获取客户端类型首先在router.js里面获取客户端代码如下:1234567const ua = window.navigator.userAgent;let isMobile = false;if (ua.indexOf('iPhone') &gt;= 0) isMobile = true;if (ua.indexOf('Android') &gt;= 0) isMobile = true;if (ua.indexOf('iPad') &gt;= 0) isMobile = true;const path = isMobile ? '/mobile':''; 以上代码就获取了客户端,并且定义了一个字符串用其保存了,如果是移动端,那么isMobile为true,则赋值给path=&gt;’/mobile’,否则赋值为空 改变path代码如下:123456789101112export default new Router(&#123; routes: [ &#123; path: '/login', name: 'login', meta:&#123; type:'login' &#125;, component: () =&gt; import('./views'+path+'/login.vue') &#125; ]&#125;) 然后只需要在对应的路径下创建移动端的vue组件,同理可以根据这个原理进行鉴权处理,不同的权限可以访问不同的组件文件 segmentfault讲堂讲师AresniView 实战系列教程]]></content>
      <categories>
        <category>前端</category>
        <category>UI框架</category>
        <category>iView</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>iView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iView基础01-配置篇]]></title>
    <url>%2F2019%2F02%2F24%2FiView%E5%9F%BA%E7%A1%8001-%E9%85%8D%E7%BD%AE%E7%AF%87%2F</url>
    <content type="text"><![CDATA[本篇主要讲的是全局的组件的大小配置配置,和全局浮动组件的transfer的配置开始本篇之前要把电脑上的node环境,Vue环境(Vue的脚手架)按照好.还要有Vue,Vue-router的基础知识. 1.使用Vue脚手架创建项目使用vue ui命令启动vue-cli的界面1vue ui 在可视化界面上面创建一个项目,包管理选择npm配置选择默认. 然后添加插件,搜索iview,添加vue-cli-plugin-iview12iviewvue-cli-plugin-iview 插件使用默认的配置 2.插件配置配置的内容 How do you want to import iView?你要怎么导入iview(按需导入/全部导入) Do you wish to overwrite iView’s Less variables?自定义主题的变量 Choose the locale you want to load多语言使用哪个语言 3.运行项目使用可视化界面的任务栏 任务-&gt;server-&gt;运行-&gt;(等待项目编译完成)启动app 4.WebStrom打开项目项目明细入口文件12345678910111213//=&gt;文件:src-&gt;main.jsimport Vue from 'vue'import App from './App.vue'import './plugins/iview.js'//=&gt; 导入iview插件相当于iview.js也是main.js的一部分,//=&gt; 这样在iview.js调用iview插件,就相当于在这里调用的Vue.config.productionTip = falsenew Vue(&#123; render: h =&gt; h(App),&#125;).$mount('#app') iview插件文件12345678//=&gt;文件:src-&gt;plugins-&gt;iview.jsimport Vue from 'vue'import iView from 'iview'//=&gt;导入iviewVue.use(iView)//=&gt;useiView之后,我们的项目就都可以使用iView的组件库了import 'iview/dist/styles/iview.css' 主页面12345678910111213141516171819202122232425262728293031323334353637//=&gt;文件:src-&gt;App.vue&lt;template&gt; &lt;div id="app"&gt; &lt;!--上面这行:在Vue中,template必须被一个div包裹起来--&gt; &lt;img src="./assets/logo.png"&gt; &lt;div&gt; &lt;p&gt; If iView is successfully added to this project, you'll see an &lt;code v-text="'&lt;Button&gt;'"&gt;&lt;/code&gt; &lt;!--Vue中写代码标签的方式--&gt; below &lt;/p&gt; &lt;Button type="primary"&gt;Button&lt;/Button&gt; &lt;!--iView插件的Button库--&gt; &lt;/div&gt; &lt;HelloWorld msg="Welcome to Your Vue.js App"/&gt; &lt;!--Vue结构的代码,这是一个自定义组件--&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import HelloWorld from './components/HelloWorld.vue'//=&gt;导入这个组件,导入了组件才能在这个页面中使用export default &#123; //=&gt;上面这个是到处一个模块,一般在这里面写Vue的JS代码,也就是Vue实例里面的内容 name: 'app', components: &#123; HelloWorld &#125;&#125;&lt;/script&gt;&lt;style&gt;/*...样式...*/&lt;/style&gt; 5.全局配置全局配置的定义详情 使用 iView 3 时，可以进行全局配置组件的一些属性。 目前只支持配置 transfer 和 size 两个属性。组件会优先使用 prop 设置的属性，如果未设置，再使用全局配置。 transfer：所有带浮层的组件，是否将浮层放置在 body 内，默认为不设置，详见各组件默认的 transfer 值。可选值为 true 或 false。 size：所有带有 size 属性的组件的尺寸，默认为不设置，详见各组件默认的 size 值。可选值为 default、small 或 large。 全局配置的使用123456//鱼非道=&gt;在main.js中使用这个插件的时候,在后面定义一下即可Vue.use(iView, &#123; transfer: true, size: 'large'&#125;); transfer属性的意义在iview的组件中有很多具有浮层的组件,以下拉按钮为例.123456789101112131415161718192021222324252627282930//=&gt;在template中写&lt;template&gt; &lt;div style="margin: 200px;width: 250px;height: 100px;overflow: hidden;position: relative"&gt; &lt;Select v-model="model1" style="width:200px"&gt; &lt;Option v-for="item in cityList" :value="item.value" :key="item.value"&gt;&#123;&#123; item.label &#125;&#125;&lt;/Option&gt; &lt;/Select&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: 'app', data() &#123; return &#123; cityList: [ &#123; value: 'New York', label: 'New York' &#125;, //..., &#123; value: 'Canberra', label: 'Canberra' &#125; ], model1: '' &#125; &#125; &#125;&lt;/script&gt; 以上代码,在下拉内容极多的时候,外层的div将会遮挡下拉的内容,所以这里的处理办法就是讲全局配置的transfer配置成true,这样,当下拉按钮下拉的时候,下拉内容将会追加在body的最后面.这样下拉的内容就不再属于外层的div,就不会再出先遮挡现象. 自定义主题配置详情 iView默认使用的是一套以蓝色为主题的配置,如果自己想要配置. 1.安装依赖因为iView使用的是less作为样式的编译,所以我们要安装less和less-loader两个依赖12npm i less@2.7.3 --save-devnpm i less-loader@4.0.6 --save-dev 2.删除原来样式在main.js文件中将下面代码注释1import 'iview/dist/styles/iview.css' 3.创建样式在src下创建custom.less文件,编写如下123456789@import '~iview/src/styles/index.less';//=&gt;这个文件是引入的iview的一些默认样式的less//=&gt;至于~这个符号,应该是less的一个语法,找对应的iview文件//=&gt;我们直接使用WebStorm的Ctrl+点击就可以找到响应文件了@primary-color: #8c0776;//=&gt;这里写自己定义的样式,因为上面引入了,//=&gt;这里再写就是将上面有的文件进行覆盖,//=&gt;所以自己要覆盖什么也要道index.less文件里面去找 4.main.js导入less在main.js中加1import '../custom.less'; 国际化配置iView 的所有组件文案默认使用的是中文，通过设置可以使用其它语言。 国际化配置是会影响页面的一些显示的,比如日历等. 一下以导入英文语言包为例 1.main.js导入语言包1import [变量] from 'iview/dist/locale/en-US' 1import locale from 'iview/dist/locale/en-US' 2.在use中引用1234Vue.use(iView,&#123; transfer:false,//=&gt;上面的全局配置 locale:locale //=&gt;后面的locale是上面定义的变量&#125;) 这样就配置好了,再引用像日历这样的插件就会有所变化 动态设置语言动态设置语言需要一个插件vue-i18n –save 1.安装插件1npm i vue-i18n --save 2.main.js导入插件1import [变量] from 'vue-i18n'; 1import VueI18n from 'vue-i18n' 3.main.js导入语言12import en from 'iview/dist/locale/en-US'import zh from 'iview/dist/locale/zh-CN' 4.main.js翻译123456789101112131415161718Vue.use(VueI18n)Vue.locale = () =&gt;&#123;&#125;const messages = &#123; en:Object.assign(&#123; message:'hello' &#125;,en), zh:Object.assign(&#123; message:'你好' &#125;,zh)&#125;const i18n = new VueI18n(&#123; locale:'zh', messages&#125;)new Vue(&#123; render: h =&gt; h(App), i18n&#125;).$mount('#app') 5.template中引用1&#123;&#123; $t(&quot;message&quot;) &#125;&#125; 这个message是main.js中的messages对象下的message,设置main.js底下的i18n对象下的locale属性的值将会对应影响页面 我也不知道这个是干什么的 iView-Loader用途:统一 iView 标签书写规范，所有标签都可以使用首字母大写的形式，包括 Vue 限制的两个标签 Switch 和 Circle。 虽然不推荐，但通过 loader 选项配置，可以开启所有标签前缀的写法了，比如 i-date-picker。 解析在iview中标签的书写是分在template/render 模式和非此模式下,在template/render 模式下,一般标签是直接大写首字母即可,两个单词的第二个单词也大写首字母.在非此模式下要使用i-小写首字母单词 但是在Vue中限制的两个标签Switch和Circle首字母大写不起作用,只有i-switch和i-circle起作用,如果想用大写起作用,就要使用iview-loader插件,官方建议这么干 注意在iview中的标签和原生HTML标签是有区别的,比如原色按钮标签是&lt;button&gt;,在iview里面是&lt;Button&gt;,假如使用CDN引用的iview那么要使用iview的按钮就必须使用&lt;i-button&gt;标签. 使用iview-loader1.iView推荐项目这关系到要自己配置环境,所以iview推荐我们直接到他的GitHub上下载他自己配置好的环境项目环境项目Git地址 2.执行命令行12345//鱼非道=&gt;在这个install里面有iview-loadernpm inpm run initnpm run dev 3.使用在这个项目下,要是想使用&lt;i-button&gt;,&lt;i-date-picker&gt;,就要去配置文件webpack.base.config.js下的module下的iview-loader的prefix:设置为true 要是想使用&lt;Button&gt;,&lt;DatePicker&gt;,&lt;Switch&gt;,&lt;Circle&gt;,就去配置文件webpack.base.config.js下的module下的iview-loader的prefix:设置为false 3.iView标签使用iview-loader后要使用的标签都在 官网上有 segmentfault讲堂讲师AresniView 实战系列教程]]></content>
      <categories>
        <category>前端</category>
        <category>UI框架</category>
        <category>iView</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>基础</tag>
        <tag>iView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础07-实战:服务器时间倒计时]]></title>
    <url>%2F2019%2F02%2F24%2FAJAX%E5%9F%BA%E7%A1%8007-%E5%AE%9E%E6%88%98-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%B6%E9%97%B4%E5%80%92%E8%AE%A1%E6%97%B6%2F</url>
    <content type="text"><![CDATA[结合之前的知识,通过访问服务器,获取服务器头部的时间属性就行计算.这里使用的Promise很简单,在Promise实例后面的then有两个参数,第一个参数是异步访问成功之后执行的函数,第二个参数是异步访问失败之后执行的函数.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;基于服务器事件的倒计时&lt;/title&gt; &lt;style&gt; .timeBox&#123; margin: 20px auto; width: 300px; height: 50px; line-height: 50px; text-align: center; border: 1px dashed lightblue; font-size: 12px; &#125; .timeBox span &#123; color: lightcoral; font-weight: bolder; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="timeBox"&gt; 距离抢购还剩 &lt;span&gt;-- : -- : --&lt;/span&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt; let _serverTime = null; let timeBox = document.querySelector('.timeBox') let timeSpan = timeBox.querySelector('span'); let autoTime = null; //获取时间 let getServerTime = function getServerTime()&#123; if (_serverTime) &#123; _serverTime = new Date(_serverTime.getTime() + 1000); return _serverTime; &#125; return new Promise(resolve =&gt; &#123; let xhr = new XMLHttpRequest(), serverTime = null; xhr.open('HEAD', 'count_down.html'); xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 2) &#123; serverTime = new Date(xhr.getResponseHeader('date')); _serverTime = serverTime; resolve(serverTime); &#125; &#125; xhr.send(null); &#125;); &#125;; //计算倒计时 let computedTime = function computedTime ()&#123; let promise = getServerTime(); promise instanceof Promise ? promise.then(f()) : f(promise); function f(serverTime) &#123; let nowTime = serverTime, tarTime = new Date('2019/02/24 20:00:00'), diffTime = tarTime - nowTime; if (diffTime &gt;= 0) &#123; let hours = Math.floor(diffTime / (1000 * 60 * 60)); diffTime = diffTime - hours * (1000 * 60 * 60); let minutes = Math.floor(diffTime / (1000 * 60)); diffTime = diffTime - minutes * (1000 * 60); let seconed = Math.floor(diffTime / 1000); hours &lt; 10 ? hours = '0' + hours : null; minutes &lt; 10 ? minutes = '0' + minutes : null; seconed &lt; 10 ? seconed = '0' + seconed : null; timeSpan.innerHTML = `$&#123;hours&#125; : $&#123;minutes&#125; : $&#123;seconed&#125;`; return; &#125; timeSpan.innerHTML = '-- : -- : --'; clearInterval(autoTime); &#125; &#125;; computedTime(); autoTime = setInterval(computedTime, 1000);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[致英子的情书2]]></title>
    <url>%2F2019%2F02%2F24%2F%E8%87%B4%E8%8B%B1%E5%AD%90%E7%9A%84%E6%83%85%E4%B9%A62%2F</url>
    <content type="text"><![CDATA[密码-回车 Incorrect Password! No content to display! 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]]></content>
      <categories>
        <category>致英子的情书</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础06-AJAX运行机制]]></title>
    <url>%2F2019%2F02%2F23%2FAJAX%E5%9F%BA%E7%A1%8006-AJAX%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[之前已经差不多把AJAX所有的基础知识都整理完了,那么现在讲一些实际操作的知识点 AJAX运行机制JS的单线程概念JS是单线程的,浏览器是多线程的.也就是说浏览器每打开一个页面都是开启了一个进程,一个进程有很多线程. 比如说浏览器加载,加载一个页面遇到一个link,就会开辟一个线程去加载link对应的CSS,但是不会等它.这个同时做多件事就是异步的概念. 但是浏览器加载样式和js是只分配一个线程的.所以说每个CSS和JS文件要执行的程序都是单线程的,而在开发最终大部分都将所有的CSS和所有的JS分别封装成单独的文件了.所有浏览器加载JS和CSS时所给的线程不会很多.执行JS和CSS也都是单线程的 但是JS本身却模拟出了相关的异步操作.比如说定时器. 事件绑定. AJAX中的异步. 回调函数 JS中有两个任务队列,一个是主任务队列,一个是等待任务队列,拿定时器来说,当JS执行到一个定时器的时候.JS会把它放到等待任务队列中等待,然后接着执行下面的代码.等等待时间完成后,JS也不会立即执行等待任务队列里的任务,因为JS是单线程的,所以它要执行完当前任务,再执行任务队列中已经等待完成的事件 JS中所有模拟异步操作都逃不开以上所说的机制,包括AJAX在内也是如此 面试例题写出下列代码的输出结果 第一题-AJAX异步123456789101112let xhr = new XMLHttpRequest();xhr.open('GET', 'https://www.baidu.com', true);//=&gt;异步xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 2) &#123; console.log(1); &#125; if (xhr.readyState === 4) &#123; console.log(2); &#125;&#125;;xhr.send();console.log(3); 输出结果 : 3 1 2 代码解析 : 第1行:创建AJAX实例 : xhr此时的AJAX状态为 : 0 第2行 : xhr.open(‘GET’, ‘/temp/list’, true);这里的true表明xhr是异步操作,所以执行模拟的异步操作后不会等待操作完成才继续走此时AJAX的状态为 : 1 第3行 :绑定事件 : 这里是模拟异步,所以接着执行下一代码监听的是AJAX状态“改变”事件：设置监听之前有一个状态，当后续的状态和设置之前的状态不相同，才会触发这个事件 第11行 :发送AJAX请求：这个执行才证明AJAX任务开始此时的AJAX状态为 : 1只有当响应头被客户端接收才能改变AJAX状态为 : 2 (AJAX状态改变,触发绑定事件,但是这里会立即执行绑定事件,因为JS是单线程,要继续往下执行,待空闲时再执行绑定事件) 第12行 :console.log(3)输出 : 3此时空闲了,执行等待任务队列里面的绑定事件绑定事件 : AJAX状态改变=&gt;2=&gt;响应头被客户端接收=&gt;console.log(1)=&gt;输出1绑定事件 : AJAX状态改变=&gt;3=&gt;响应主体内容正在返回=&gt;无事件绑定事件 : AJAX状态改变=&gt;4=&gt;响应主体内容已经被客户端接收=&gt;console.log(2)=&gt;输出2 最终结果 : 3 1 2 第二题-AJAX异步123456789101112let xhr = new XMLHttpRequest();xhr.open('GET', 'https://www.baidu.com', true);xhr.send();xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 2) &#123; console.log(1); &#125; if (xhr.readyState === 4) &#123; console.log(2); &#125;&#125;;console.log(3); 输出结果 : 3 1 2 第三题-AJAX同步12345678910111213let xhr = new XMLHttpRequest();xhr.open('GET', 'https://www.baidu.com', false);xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 2) &#123; console.log(1); &#125; if (xhr.readyState === 4) &#123; console.log(2); &#125;&#125;;xhr.send();console.log(3);//=&gt;当AJAX任务开始，由于是同步编程，主任务队列在状态没有变成4（任务结束）之前一直被这件事占用着，其它事情都做不了（当服务器把响应头返回的时候，状态为2，触发了事件readystatechange，但是由于主任务队列没有完成，被占着呢，绑定的方法也无法执行... 所有只有状态为4的时候执行一次这个方法） 输出结果 : 2 3 代码解析 : 第2行 : 这里的定义同步操作 第11行 : 任务开始(同步：只要当前AJAX请求这件事没有完成，什么都不能做)要等待响应主体完全被客户端接收才能继续执行下一行代码绑定事件 : AJAX状态改变=&gt;2=&gt;响应头被客户端接收=&gt;此时代码xhr.send();还未执行完,占用着JS线程绑定事件 : AJAX状态改变=&gt;3=&gt;响应主体内容正在返回=&gt;无事件绑定事件 : AJAX状态改变=&gt;4=&gt;响应主体内容已经被客户端接收=&gt;此时代码xhr.send();执行完成,JS线程释放=&gt;执行绑定事件console.log(2)=&gt;输出2 第12行 : 最终console.log(3)输出3 第四题-AJAX同步123456789101112let xhr = new XMLHttpRequest();xhr.open('GET', 'https://www.baidu.com', false);xhr.send();xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 2) &#123; console.log(1); &#125; if (xhr.readyState === 4) &#123; console.log(2); &#125;&#125;;console.log(3); 输出结果 : 3 代码解析 : 第3行 : 此时同步操作,xhr.send()在执行的时候AJAX状态在改变,但是此时并未绑定AJAX状态改变事件.当xhr.send()执行完成之后,AJAX状态已经是4了. 第4行 : 此时绑定AJAX状态改变事件,但是AJAX状态已经是4了,基本上不会变,所以也不会执行里面的代码块. 第12行 : 最终console.log(3)输出3 第五题-数据的绑定按照代码读懂即可123456789101112131415161718192021let queryData = function queryData() &#123; return new Promise(resolve =&gt; &#123; let xhr = new XMLHttpRequest; xhr.open('GET', `/custom/list?type=chengjiao&amp;_=$&#123;Math.random()&#125;`); xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 4 &amp;&amp; /^(2|3)\d&#123;2&#125;$/.test(xhr.status)) &#123; let data = JSON.parse(xhr.responseText); resolve(data); &#125; &#125;; xhr.send(null); &#125;);&#125;;let bindHTML = function bindHTML() &#123; let promise = queryData(); promise.then(data =&gt; &#123; //=&gt;完成数据绑定 &#125;);&#125;;bindHTML();let timer = setInterval(bindHTML, 10000); 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础05-AJAX调用及其参数]]></title>
    <url>%2F2019%2F02%2F22%2FAJAX%E5%9F%BA%E7%A1%8005-AJAX%E8%B0%83%E7%94%A8%E5%8F%8A%E5%85%B6%E5%8F%82%E6%95%B0%2F</url>
    <content type="text"><![CDATA[续上篇初识讲述了全局刷新和局部刷新,这篇这篇主要讲AJAX调用及其参数 AJAX操作4步1.创建AJAX实例let xhr = new XMLHttpRequest(); 2.打开请求xhr.open([HTTP METHOD],[URL],[ASYNC],[USER-NAME],[USER-PASS]); HTTP METHOD 请求方式 GET DELETE HEAD OPTIONS POST PUT TRACE(不常用) CONNECT(不常用) URL 向服务器端发送请求的API ASYNC 设置AJAX请求的同步异步 true:异步 false:同步 USER-NAME/USER-PASS：用户名密码，一般不用3.事件监听xhr.onreadystatechange=()=&gt;{} 4.发送AJAX请求xhr.send([请求主体内容]);12345678910111213141516171819202122232425//=&gt;1.创建AJAX实例：IE6中是不兼容的，使用的是new ActiveXObject来实现的let xhr = new XMLHttpRequest();//=&gt;2.打开请求：发送请求之前的一些配置项 //1.HTTP METHOD 请求方式 // GET/DELETE/HEAD/OPTIONS // POST/PUT // 不常用:/TRACE/CONNECT //2.URL 向服务器端发送请求的API // （Application Programming Interface）接口地址 //3.ASYNC 设置AJAX请求的同步异步， // 默认是异步（写TRUE也是异步），FALSE是同步， // 项目中都使用异步编程，防止阻塞后续代码执行 //4.USER-NAME/USER-PASS：用户名密码，一般不用xhr.open([HTTP METHOD],[URL],[ASYNC],[USER-NAME],[USER-PASS]);//=&gt;3.事件监听：一般监听的都是 READY-STATE-CHANGE 事件（AJAX状态改变事件），基于这个事件可以获取服务器返回的响应头响应主体内容xhr.onreadystatechange=()=&gt;&#123; if(xhr.readyState===4 &amp;&amp; xhr.status===200)&#123; xhr.responseText; &#125;&#125;;//=&gt;4.发送AJAX请求：从这步开始，当前AJAX任务开始，如果AJAX是同步的，后续代码不会执行，要等到AJAX状态成功后在执行，反之异步不会xhr.send([请求主体内容]); HTTP请求方式(HTTP METHOD)所有的请求都可以给服务器端传递内容，也都可以从服务器端获取内容 HTTP METHOD的值GET从服务器端获取数据(给的少拿的多),所以一般都是用url后面的参数进行给 POST向服务器端推送数据(给的多拿的少),所以POST会把给的东西打包传送(表单) DELETE删除服务器端的某些内容（一般是删除一些文件） PUT向服务器上存放一些内容（一般也是存放文件） HEAD只想获取服务器返回的响应头信息，不要响应主体中的内容 OPTIONS一般使用它向服务器发送一个探测性请求，如果服务器端返回的信息了，说明当前客户端和服务器端建立了连接，我们可以继续执行其它请求了（TRACE是干这件事的，但是axios这个AJAX类库在基于cross domain进行跨域请求的时候，就是先发送OPTIONS请求进行探测尝试，如果能连通服务器，才会继续发送其它的请求） GET和POST的区别 [传递给服务器信息的方式不一样] GET是基于URL地址“问号传参”的方式把信息传递给服务器， POST是基于“请求主体”把信息传递给服务器 12345[GET]xhr.open(&apos;GET&apos;,&apos;/temp/list?xxx=xxx&amp;xxx=xxx&apos;)[POST]xhr.send(&apos;xxx=xxx&amp;xxx=xxx&apos;) GET一般应用于拿（给服务器的会少一些），而POST给服务器的很多，如果POST是基于问号传参方式来搞会出现一些问题：URL会拼接很长，浏览器对于URL的长度有有最大限度（谷歌8KB 火狐7KB IE2KB …），超过的部分浏览器就把它截掉了 =&gt;所以GET请求可以基于URL传参，而POST都是使用请求主体传递（请求主体理论上是没有限制的，真实项目中我们会自己做大小限制，防止上传过大信息导致请求迟迟完不成） [GET不安全，POST相对安全]因为GET是基于“问号传参”把信息传递给服务器的，容易被骇客进行URL劫持，POST是基于请求主体传递的，相对来说不好被劫持；所以登录、注册等涉及安全性的交互操作，我们都应该用POST请求； [GET会产生不可控制的缓存,POST不会]不可控：不是想要就要，想不要就不要的，这是浏览器自主记忆的缓存，我们无法基于JS控制，真实项目中我们都会把这个缓存干掉GET请求产生缓存是因为：连续多次向相同的地址（并且传递的参数信息也是相同的）发送请求，浏览器会把之前获取的数据从缓存中拿到返回，导致无法获取服务器最新的数据（POST不会） 解决方案： 1xhr.open(&apos;GET&apos;,`/temp/list?lx=1000&amp;_=$&#123;Math.random()&#125;`); //=&gt;保证每次请求的地址不完全一致：在每一次请求的末尾追加一个随机数即可(使用_作为属性名就是不想和其它的属性名冲突) AJAX状态(READY-STATE)0=&gt;UNSENT刚开始创建XHR，还没有发送 1=&gt;OPENED已经执行了OPEN这个操作 2=&gt;HEADERS_RECEIVED已经发送AJAX请求（AJAX任务开始），响应头信息已经被客户端接收了（响应头中包含了：服务器的时间、返回的HTTP状态码…） 3=&gt;LOADING响应主体内容正在返回 4=&gt;DONE响应主体内容已经被客户端接收 HTTP网络状态码(STATUS)根据状态码能够清楚的反映出当前交互的结果及原因 成功2开头200 OK 成功(只能证明服务器成功返回信息了，但是信息不一定是你业务需要的) 重定向3开头301 Moved Permanently 永久转移（永久重定向）=&gt;域名更改，访问原始域名重定向到新的域名 302Move temporarily 临时转移（临时重定向 =&gt;307） =&gt;网站现在是基于HTTPS协议运作的，如果访问的是HTTP协议，会基于307重定向到HTTPS协议上 =&gt;302一般用作服务器负载均衡：当一台服务器达到最大并发数的时候，会把后续访问的用户临时转移到其它的服务器机组上处理 =&gt;偶尔真实项目中会把所有的图片放到单独的服务器上“图片处理服务器”，这样减少主服务器的压力，当用户向主服务器访问图片的时候，主服务器都把它转移到图片服务器上处理 设置缓存304 Not Modified 设置缓存=&gt;对于不经常更新的资源文件，例如：CSS/JS/HTML/IMG等，服务器会结合客户端设置304缓存，第一次加载过这些资源就缓存到客户端了，下次再获取的时候，是从缓存中获取；如果资源更新了，服务器端会通过最后修改时间来强制让客户端从服务器重新拉取；基于CTRL+F5强制刷新页面，304做的缓存就没有用了。 请求错误4开头400 Bad Request =&gt;请求参数错误(无参数) 401 Unauthorized =&gt;无权限访问 404 Not Found =&gt;找不到资源(地址不存在) 413 Request Entity Too Large =&gt;和服务器交互的内容资源超过服务器最大限制 服务器错误5开头500 Internal Server Error =&gt;未知的服务器错误 503 Service Unavailable =&gt;服务器超负荷 关于XHR的属性和方法这些东西大部分用在AJAX使用的第三步上,比如上面的例子里面调用的是Ajax的onreadystatechange属性,赋值了一个函数,从而定义了当请求状态发送改变之后所要做的事情. 属性在浏览器的console里面输入let xhr = new XMLHttpRequest();然后dir(xhr)就能看到xhr实体的一系列方法和属性 所监听的事件onabortAjax请求被强制终止了所触发的事件 onerrorAjax请求错误了所触发的事件 onloadAjax请求加载触发的事件 onloadendAjax请求加载完成触发的事件 onloadstartAjax请求开始加载触发的事件 onprogressAjax请求加载中触发的事件 onreadystatechangeAjax请求状态发送改变时触发的事件 ontimeoutAjax请求超时时触发的事件 一般属性readyState状态码 response响应主体 responseText响应主体的内容是字符串（JSON或者XML格式字符串都可以） responseType响应主体内容的类型 responseURL响应的url responseXML响应主体的内容是XML文档 statusHTTP状态码 statusText状态码的描述 timeout设置请求超时的时间 withCredentials是否允许跨域 7个方法打开xhr实体的最后一项__proto__,底下的属性凡是带有f的都是方法 xhr.abort()强制中断AJAX请求,一般在请求超时的时候调用,再调用中断事件 xhr.getAllResponseHeaders()获取所有响应头信息 xhr.getResponseHeader([key])获取KEY对应的响应头信息例如：xhr.getResponseHeader(&#39;date&#39;)就是在获取响应有中的服务器时间 xhr.open()打开URL请求 xhr.overrideMimeType()重写MIME类型,很少用 xhr.send()发送AJAX请求 xhr.setRequestHeader()设置请求头 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[致英子的情书1]]></title>
    <url>%2F2019%2F02%2F22%2F%E8%87%B4%E8%8B%B1%E5%AD%90%E7%9A%84%E6%83%85%E4%B9%A61%2F</url>
    <content type="text"><![CDATA[密码-回车 Incorrect Password! No content to display! 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]]></content>
      <categories>
        <category>致英子的情书</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础04-初识AJAX]]></title>
    <url>%2F2019%2F02%2F22%2FAJAX%E5%9F%BA%E7%A1%8004-%E5%88%9D%E8%AF%86AJAX%2F</url>
    <content type="text"><![CDATA[之前的三篇文章一直在给Ajax做着铺垫,现在真正的开始Ajax之旅 AJAX概念AJAXasync javascript and xml 异步的JS和XML 异步在AJAX中的异步不是我们理解的同步异步编程，而是泛指“局部刷新”，但是我们在以后的AJAX请求中尽可能使用异步获取数据（因为异步数据获取不会阻塞下面代码的执行） XML XML是一种文件格式（我们可以把HTML理解为XML的一种）：可扩展的标记语言，它的作用是用自己扩展的一些语义标签来存储一些数据和内容，这样存储的好处是清晰的展示出数据的结构 XML的代码如下,XML的标签都是自己扩展的,从而存储一些数据和内容,而且它的结构和JSON很像123456789101112131415161718192021&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;root&gt; &lt;student&gt; &lt;name&gt;张三&lt;/name&gt; &lt;age&gt;25&lt;/age&gt; &lt;score&gt; &lt;english&gt;98&lt;/english&gt; &lt;chinese&gt;100&lt;/chinese&gt; &lt;math&gt;100&lt;/math&gt; &lt;/score&gt; &lt;/student&gt; &lt;student&gt; &lt;name&gt;李四&lt;/name&gt; &lt;age&gt;24&lt;/age&gt; &lt;score&gt; &lt;english&gt;8&lt;/english&gt; &lt;chinese&gt;90&lt;/chinese&gt; &lt;math&gt;80&lt;/math&gt; &lt;/score&gt; &lt;/student&gt;&lt;/root&gt; JSONJSON比XML数据操作更简单.JSON的代码如下 1234567891011121314151617181920[ &#123; "name": "张三", "age": 25, "score": &#123; "english": 98, "chinese": 100, "math": 100 &#125; &#125;, &#123; "name": "李四", "age": 24, "score": &#123; "english": 9, "chinese": 90, "math": 80 &#125; &#125;] AJAX历史 很久以前，AJAX刚刚兴起的时候，客户端从服务器端获取数据，服务器为了清晰的表达数据结构，都是返回XML格式的内容，当下，我们获取的数据一般都是JSON格式的内容，JSON相对于XML来说，也能清晰表达数据结构，而且访问里面数据的时候操作起来比XML更简便（但是现在某些项目中，服务器返回给客户端的数据不单纯是数据，而是数据和需要展示的结构拼接好的结果(类似于我们自己做的字符串拼接)，换句话说，是服务器端把数据和结构拼接好返回给我们，此时返回的数据格式一般都是XML格式的字符串） 全局刷新概念 全局刷新的好处 有利于SEO优化(服务器渲染好的内容到客户端呈现,在页面源码中可以看到绑定的内容,有利于引擎的收录),但是客户端做字符串拼接,呈现出来的内容在页面源代码中式没有的,不利于SEO 只要服务器端并发(抗压能力)给力,页面加载速度会比客户端渲染更快很多大网站(例如 : 京东,淘宝)首屏内容都是基于服务器渲染的,客户端获取XML数据后直接呈现,增加页面第一次打开速度,而剩下屏中的内容都是基于AJAX获取数据,在客户端进行数据拼接渲染的 全局刷新的坏处不使用AJAX : 首先向服务器发送一个请求(通过浏览器地址栏问号传参发送给服务器),服务器获取请求后,验证是否存在,不管存不存在,都要给用户一个提示(原始展示的页面内容需要发生改动)服务器端把提示的内容重新进行连接,然后返回给客户端,客户端重新渲染最新的内容(只能页面整体刷新) 局部刷新概念 个人总结我对于这些概念并不怎么明白,但是我觉得AJAX就是一个局部的刷新. 个人猜测 :在web1.0时代客户端进行什么操作服务端是无法得知的,比如说登录,只有当submit按钮提交之后才会给服务器端提交一个带参数的url,然后服务器端进行处理之后,返回给客户端新的XML结构文档字符串,客户端再解析渲染,这样就进行了下一步了.这样说就是全局刷新了.在web2.0时代客户端在输入框进行输入的时候就开始发送http请求了(懒加载就可以实现操作完再发送).这样服务器返回一个JSON数据,因为不需要XML结构了(就好像只需要告诉客户端你的数据对不对,并不告诉你要干什么).这样客户端再基于JS和返回的结果对自己的XML进行修改.就可以得到即使的响应. 个人疑问 :为什么在web1.0时代,客户端发送的带参数的url之后,服务器端基于有参数的存在只返回对于的数据即可.为什么要全部返回XML呢.即使那个时候没有JSON,但是XML也不至于全部发送吧.那就是客户端自己的页面无法修改.那么是当时的JS技术不足吗?也不对,当时谷歌第一批实现了异步处理.说明当时的局部刷新是足以实现的 可能局部刷新和全局刷新的区别还体现在一个地方.那就是CSS样式的@import和link的区别link是执行到这的时候去调用对应的CSS,但是代码还是照样往下执行.但是@import的执行是必须等对应的CSS获取完之后才去执行下面的代码,这样的话@import就会引起页面的卡顿,而link却不会 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础03-前端性能优化]]></title>
    <url>%2F2019%2F02%2F22%2FAJAX%E5%9F%BA%E7%A1%8003-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[基于JS的知识和前面的HTTP知识,AJAX第三篇总结一些前端的性能的优化. 前端开发性能优化方案优化的大致方向 减少HTTP请求次数和请求大小 代码优化 有利于SEO 有利于扩展维护 有利于减少性能消耗 [JS代码优化的108条建议] [雅虎CSS优化的36条建议] … DNS及HTTP通信方式的优化 优化的具体方案1.闭包方案 : 在JS中尽量减少的使用 原理 : 闭包会产生不释放的栈内存 循环给元素做事件绑定的时候，尽可能的把后期需要的信息（例如索引）存储到元素的自定义属性上，而不是创建闭包存储 可以在最外层形成一个闭包，把一些后续需要的公共信息进行存储，而不是每一个方法都创建闭包(例如单例模式) 尽可能的手动释放不被占用的内存… 2.CSS和JS文件方案 : 尽量合并CSS和JS文件,把需要引入的CSS合并为一个，JS也是合并为一个 原理 : 减少HTTP请求次数，尽可能的把合并后的代码进行压缩，减小HTTP请求资源的大小 webpack这种自动化构建工具，可以帮我们实现代码的合并和压缩（工程化开发） 在移动开发(或者追求高性能的PC端开发[例如百度首页])，如果CSS或者JS不是需要很多，我们可以选择把css和js编程内嵌式（也就是代码直接写在HTML中） 3.图标和图片方案 : 尽量使用字体图标或者SVG图标，来代替传统的PNG等格式的图片 原理 : 因为字体图标等是矢量图(基于代码编写出来的)，放大不会变形，而且渲染速度快，相对比位图要小一些 4.DOM方案 : 减少对DOM的操作 原理 : 主要是减少DOM的重绘和回流(重排) 关于重排的分离读写,把设置样式全放一起,现在浏览器都有智能缓存机制.当遇到的代码是操作DOM时,浏览器会判断下一条代码是否还是操作DOM的,如果是就把这条代码和上一条代码一起放到缓存中,当遇到非操作DOM的时候,再把所有的DOM一次操作全部完成 使用文档碎片或者字符串拼接做数据绑定(DOM的动态创建) 5.循环嵌套方案 : 在JS中避免“嵌套循环”和“死循环” 原理 : “嵌套循环”会额外增加很多循环次数,一旦遇到“死循环”浏览器就卡壳了 6.懒加载方案 : 采用图片的“懒加载”（延迟加载）,(重要手段) 原理 : 为了减少页面“第一次加载”过程中HTTP的请求次数，让页面打开速度变快 步骤 : 开始加载页面的时候，所有的真实图片都不去发送HTTP请求加载，而是给一张占位的背景图，当页面加载完，并且图片在可视区域内我们再去做图片加载 7.缓存技术方案 : 利用浏览器和服务器端的缓存技术(304缓存)，把一些不经常更新的静态资源文件做缓存处理（例如：JS、CSS、静态图片等都可以做缓存） 原理 : 原理是为了减少HTTP请求大小，让获取速度更快 8.事件委托方案 : 尽可能使用事件委托(事件代理)来处理事件绑定的操作 原理 : 减少DOM的频繁操作，其中包括给每一个DOM元素做事件绑定 9.CSS表达式方案 : 尽量减少CSS表达式的使用(expression) 原理 : 项目中可能使用的CSS的表达式,CSS表达式非常不好,性能非常差12345678910#myDiv &#123; position: absolute; width: 100px; height: 100px; left: expression(document.body.offsetWidth - 110 + "px"); /*expression()就是CSS表达式*/ top: expression(document.body.offsetHeight - 110 + "px"); /*expression()就是CSS表达式*/ background: red;&#125; 10.标签选择器方案 : 尽量少用下面的这种选择器(标签选择器)123.container .link a&#123; /*代码*/&#125; 原理 : CSS选择器解析规则是从右向左解析,先找到所有的A，再筛选是在.link样式类中的，再次筛选是在.container样式类中的… 先找到的是所有的A，操作起来是消耗性能的，我们在使用CSS选择器的时候尽可能减少对标签选择器的使用 11.CSS雪碧图方案 : 把所有相对较小资源图片汇总到一张大图上，后期我们只需要把大图加载下来，用背景定位的方式展示对应的小图即可 雪碧图使用 :123456789101112131415161718192021222324.bg&#123; background:url('xxx.png');&#125;.box1&#123; background-position:xx xx;&#125;/* *一定不是 *.box1&#123; * background:url('xxx.png'); * background-position:xx xx; *&#125; *如果是这样写的话,那么雪碧图每次都会再加载一次,会比之前还慢 **/ .box2&#123; background-position:xx xx;&#125;/* * 使用的方式 * &lt;div class='bg box1'&gt;&lt;/div&gt; **/ 原理 : CSS雪碧图技术(css sprite / css 图片精灵),其实也就是减少HTTP事务的图片传输 12.COOKIE方案 : 减少对于COOKIE的使用（最主要的是减少本地COOKIE存储内容的大小） 原理 : 客户端操作COOKIE的时候，这些信息总是在客户端和服务器端传来传去 13.异步编程和延迟分批加载方案 : 页面中的数据获取采用异步编程和延迟分批加载,我们可以这样处理：需要动态绑定数据的区域先隐藏，等数据返回并且绑定完成后在让其显示 原理 : 异步获取数据 :是为了降低HTTP通道的堵塞，不会因为数据没有请求回来耽误下面信息的渲染，提高页面的打开速度 延迟分批加载 :类似于图片懒加载，是为了减少第一次页面加载时候的HTTP请求次数 14.音视频标签方案 : 只需要设置 preload=’none’ 即可 原理 : 页面中出现音视频标签，我们不让页面加载的时候就去加载这些资源（要不然页面加载速度会变慢），等待页面加载完成，音视频播放的时候我们在去加载音视频资源 15.JSON方案 : 在客户端和服务器端进行信息交互的时候，对于多项数据我们尽可能基于JSON格式来进行传送 原理 : JSON格式的数据处理方便，资源偏小(相对于XML格式的传输才会有这个优势) 16.JS封装方案 : 尽可能实现JS的封装（低耦合高内聚），减少页面中的冗余代码 原理 : 减少HTTP请求资源的大小 17.z-index方案 : CSS中设置定位后，最好使用Z-INDEX改变盒子的层级，让所有的盒子不在相同的平面上，这样后续处理的时候，性能有那么一丢丢的提高 18.AJAX的GET请求方案 : 在基于AJAX的GET请求进行数据交互的时候，根据需求可以让其产生缓存（这个缓存不是304缓存） 原理 : 这样下一次从相同地址获取的数据是上一次缓存的数据（但是很少用，项目中一般刻意清除这个缓存的时候偏多） 19.filter滤镜方案 : 尽量减少对于filter滤镜属性的使用 原理 : 这个属性消耗性能较大一些 20.CSS的@import方案 : 在CSS导入的时候尽量减少使用@import导入式. 原理 : @import是同步操作，只有把这个对应的CSS导入，才会向下加载，而link是异步操作 21.ETag方案 : 配置ETag(有点类似于304缓存) 22.JS帧动画方案 : 使用window.requestAnimationFrame（JS中的帧动画）代替传统的定时器动画 23.递归方案 : 减少递归的使用，避免死递归，避免由于递归导致的栈内存嵌套（建议使用尾递归） 24.iframe标签方案 : 避免使用iframe标签 原理 : 不仅不好管控样式，而且相当于在A页面中加载了其它页面，消耗较大 25.with语句方案 : 避免使用with语句 原理 : 非常耗性能 26.本地存储方案 : 利用H5中提供的localstorage本地存储或者是manifest离线缓存，做一些信息的本地存储 原理 : 下一次加载页面的时候直接从本地获取，减少HTTP请求次数 27.script方案 : 基于SCRIPT调取JS的时候，可已使用 defer或者async 来异步加载 28.CDNCDN的概念 : CDN其实不是前端的优化,地域式服务器发布,在热门地域附近设置服务器机组,附近得用户访问的都是离其最近得机组(提高访问速度). CDN现状 : CDN是一个重量级优化,做大公司的服务器CDN加速都是烧钱机器,几百万,几千万的成本,效果不大的几十万.如果是个人的项目一个JS文件的CDN加速,比较便宜(阿里的1年1k左右吧). 原理 : CDN不是前端的优化 CDN图解 : QQ的CDN图解 : 额外技巧1.CSS和JS的位置方案 : 把CSS放到body上面,把JS放到body下面 原理 : 让其先加载CSS,再加载JS,先加载CSS是为了保证页面渲染的过程中,元素是带着样式渲染的,而JS一般都是操作DOM元素的,需要等到元素加载完再操作 2.CSS&gt;JS&gt;插件方案 : 能用CSS搞定的绝对不用JS，能用原生JS搞定的绝对不用插件，绝对不使用FLASH（除了音视频的低版本浏览器播放） 原理 : CSS处理动画等功能的性能优于JS，而且CSS中的transform变形还开起了硬件加速 3.EVAL方案 : JS中尽量减少对EVAL的使用 原理 : 因为JS合并压缩的时候，可能出现由于符号不完善，导致的代码执行优先级错乱问题，EVAL处理起来消耗的性能也是偏大一点的 4.连接处理方案 : 使用keep-alive实现客户端和服务器端的长连接,非前端 5.设计模式方案 : 尽量使用设计模式来管理我们的代码（单例、构造、Promise、发布订阅），方便后期的升级和维护,非前端 6.gzip压缩方案 : 开启服务器端的gzip压缩,服务器端 原理 : 这个压缩可以有效减少请求资源文件的大小，其实客户端的图片等资源也是可以进行压缩的（但是对于24位的位图，压缩后可能会变模糊） 7.无效链接方案 : 页面中不要出现无效的链接 原理 : 利于SEO优化，还有其它技巧：提高关键字曝光率、img需要加alt、设置meta标签、标签语义化…]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础02-HTTP报文]]></title>
    <url>%2F2019%2F02%2F21%2FAJAX%E5%9F%BA%E7%A1%8002-HTTP%E6%8A%A5%E6%96%87%2F</url>
    <content type="text"><![CDATA[AJAX01篇讲了HTTP通信,这次解析一下HTTP通信所传输的HTTP报文 HTTP报文的组成所有的HTTP事务都可以在浏览器的控制台的Network来查看.每一次HTTP事务的HTTP报文大致都包含一下内容 起始行：请求起始行、响应起始行 首部（头）Headers：请求头、响应头、通用头 主体：请求主体、响应主体 首部(头)General 通用头12345Request URL: https://www.baidu.com/ 请求地址Request Method: GET 请求方式:GET/POST/DELETE/PUT/HEAD/OPTION...Status Code: 200 OK 响应的HTTP状态码Remote Address: 111.13.100.92:443 主机地址(服务器外网IP地址)Referrer Policy: no-referrer-when-downgrade Request Headers 请求头 [客户端设置，服务器接收]12345678910111213GET / HTTP/1.1 =&gt;起始行(描述当前请求的一些基本信息：用的是1.1版本传输协议进行内容传输的)Host: www.zhufengpeixun.cnConnection: keep-aliveCache-Control: max-age=0Upgrade-Insecure-Requests: 1User-Agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Cookie: ... =&gt;cookie信息一般都是放到头文件中实现和服务器端的数据通信的If-Modified-Since: Sun, 06 May 2018 10:02:42 GMT Response Headers 响应头 [服务器端设置，客户端获取]1234567891011HTTP/1.1 304 Not Modified =&gt;响应起始行（HTTP状态码）Date: Tue, 22 May 2018 09:18:56 GMT //=&gt;服务器响应内容时候的“服务器端时间”（客户端获取这个时间的时候已经和 //=&gt;真实的时间产生误差了，因为服务器返回内容到客户端接收到，也是需要时 //=&gt;间的），并且这个时间是格林尼治时间（比北京时间慢8小时，北京时间是 //=&gt;GMT+0800）Connection: keep-aliveETag: &quot;700a6f-17f43-56b86a77513d3&quot;Vary: Accept-Encoding,User-AgentServer: yunjiasu-nginx //=&gt;管理WEB服务的工具CF-RAY: 41ee32c192db66b8-TSN 主体Response [响应主体]123服务器返回的是啥就是啥但是只有代码有响应主体,响应主体也就是代码本身.一般资源文件是没有响应主体的 Request Payload / Form Data [请求主体]123客户端传递给服务器的内容比如说你在一个输入栏输入内容后,查看Network的Response会立即有一个请求 如何处理Bug寻找Bug的步骤了解HTTP报文以及如何查看对未来工作开发和BUG调试至关重要涉及到交互功能（前端&lt;=&gt;后台）出现问题，都按照如下方式查找问题原因 打开控制台，在NET-WORK中找到当前交互的请求地址，点击进去看详情 如果是传递给服务器的参数或者方式错误 [前端问题] 如果服务器返回的信息有错误或者和API接口文档规定的内容不一样 [后台问题] 如果返回数据是对的，但是展示有问题 [前端问题] 调试Bug的方法确定是自己前端的问题后，基于断点(或者代码中的debugger)或者控制台输出等方式，开始逐步调试即可 客户端和服务器端信息交互的方式客户端传递给服务器 问号传参 请求的URL地址末尾通过问号传参方式，把一些信息传递给服务器 /stu/info?id=12&amp;lx=man 设置请求头 客户端把需要传递给服务器的内容设置到请求头信息中（自定义请求头）,服务器可以通过接收请求头信息把内容得到 设置请求主体 xhr.send([AJAX SEND中传递的内容，就是客户端设置的请求主体内容，服务器端可以接收到这些信息的]); 服务器返回给客户端 设置响应头信息 例如把服务时间通过响应头返回给客户端，客户端通过获取响应头信息得到这个时间（响应头返回的速度是优先于响应主体的） 设置响应主体 主要的返回信息都在响应主体中 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX基础01-HTTP通信]]></title>
    <url>%2F2019%2F02%2F21%2FAJAX%E5%9F%BA%E7%A1%8001-HTTP%E9%80%9A%E4%BF%A1%2F</url>
    <content type="text"><![CDATA[前端的一大基础,今天一步一步解开它的面纱. HTTP通信浏览器接收url后的行为打开一个浏览器,在地址栏输入一个网址,按下ENTER键,到看到整个页面,中间经历了哪些事情? 其中红字为HTTP的访问过程, 我们把1-4称为HTTP的请求阶段,把5-7叫响应阶段,1个HTTP请求+1个响应叫做一个HTTP事务. 当加载资源文件标签的时候(img等标签)会再次发送HTTP请求,完成一个HTTP事务,这种事务越少越好 一个完整的URL的组成URL/URN/URI的区别URI = URL + URN URI: 统一资源标识符,是一个用于标识某一互联网资源名称的字符串。 该种标识允许用户对网络中（一般指万维网）的资源通过特定的协议进行交互操作。 URL: 统一资源定位符,最常见的形式是 URI,经常指定为非正式的网址。 URN: 统一资源名称,其目的是通过提供一种途径，用于在特定的命名空间资源的标识，以补充网址。 URL的组成https://www.baidu.com:80/index.php?tn=monline_3_dg https www.baidu.com :80 /index.php ?tn=monline_3_dg 传输协议 域名 端口号 请求的路径名称 问号传参及哈希值 传输协议 : 用来传输客户端和服务器端交互的信息的 HTTP协议 : 超文本传输协议 除了传输普通文本以外,还可以传输文本流(音乐,视频)或者进制编码等信息,是目前最常用的WEB传输协议 HTTPS协议 : 基于SSL(安全套接层) 加密的HTTP传输协议,比HTTP更加安全(涉及支付的网站一般都是基于HTTPS完成) FTP : 文件传输协议 一般用来实现资源文件在服务器上的上传和下载 域名 : 一级域名 : www.qq.com 二级域名 : sports.qq.com 三级域名 : kbs.sports.qq.com 端口号 用来区分一台服务器上不同访问的标识(基于WBE服务管理创建服务的时候可以指定),不同服务之间一般是不能使用相同的端口号的 HTTP =&gt;默认端口号80 HTTPS =&gt;默认端口号443 FTP =&gt;默认端口号21如果当前网站服务,采用的是协议对应的默认端口号管理,那么当前用户输入网址的时候可以不指定端口号,浏览器会默认把用户把默认的端口号传递给服务器 一台服务器上的端口号在:0-65535之间 WEBSTORM预览页面：WS把自己的电脑当做服务器，在服务器上创建一个服务，端口号是63342，自己电脑上的浏览器预览自己电脑上的服务，属于本机服务请求，用localhost(127.0.0.1)本地域名即可http://localhost:63342/201802LESSON/WEEK7/0522DAY1/1.html 服务器上安装一款应用都可能会作为一个服务，占用一个端口号 请求路径名称 /path /pathname 例如：/stu/index.html 一般都是请求当前服务对应的项目目录中，STU文件夹中的INDEX.HTML页面。但是也有特情况，就是当前的URL是被“伪URL重写”的，我们看到的URL请求其实不是真实的请求（例如 https://item.jd.com/4679424.html 这个URL就是被重写的，它的真实URL地址很可能是 https://item.jd.com/detail.jsp?id=4679424，其实就是跳转到详情页，通过问号传递不同的产品编号，展示不同的产品详情信息，但是.jsp这种服务器渲染的动态页面不能被搜索引擎收录，不利于页面的SEO，所以我们会把动态页面静态化，这也就用到了URL重写技术） 例如：/stu/info 这种没有任何后缀信息，一般都不是用来请求资源文件的，而是用于AJAX数据请求的接口地址（如果后缀是.json类的，也是同理），但是有一种除外 /stu/info/ 这种的很可能不是接口地址，而是没有指定请求的资源名称，服务器会请求默认的资源文件，一般都是index.html/default.html… DHTML：动态页面，泛指当前页面中的内容不是写死的而是动态绑定的，例如.jsp/.php/.aspx…这些页面中的数据都是基于AJAX或者是后台编程语言处理，由服务器端渲染，最后把渲染后的结果返回给客户端呈现的 问号传参及哈希值 ?xxx=xxx&amp;...#xxx 在HTTP事务中，问号传参是客户端把信息传递给服务器的一种方式(也有可能是跳转到某一个页面，把参数值传递给页面用来标识的) 哈希值一般都跟客户端服务器交互没啥关系，主要用于页面中的锚点定位和HASH路由切换 珠峰培训视频总结讲师周啸天珠峰培训]]></content>
      <categories>
        <category>前端</category>
        <category>异步处理</category>
        <category>AJAX</category>
      </categories>
      <tags>
        <tag>AJAX</tag>
        <tag>异步处理</tag>
        <tag>前端</tag>
        <tag>基础</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webpack学习笔记]]></title>
    <url>%2F2019%2F02%2F20%2Fwebpack%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[这篇文章基本讲了webpack的操作和原理 1.使用npm初始化项目1npm init -y 2.安装webpack12npm i webpack@3.6.0 --save-devnpm i webpack@3.6.0 -D 3.安装babel,es2015,stage-0为了让webpack识别一些语法，要安装babel，以及es2015,以及stage-0预设(去识别ES6-ES8)12npm i babel babel-core babel-loader --save-devnpm i babel-preset-es2015 babel-preset-stage-0 --save-dev babel,babel-core是babel的核心，babel-loader是用来转义的。 4.配置.babelrc文件设置.babelrc文件，这里面就是用来设置预设的1&#123;&quot;preset&quot;:[&quot;es2015&quot;,&quot;stage-0&quot;]&#125; 现在有了babel，那么就能识别一些高级的语法 5.安装CSS less依赖如果有CSS文件就要识别和转义CSS文件，所以要安装识别和转义CSS 先变成CSS，在放到style标签里面，所以要安装2个(翻译官)12npm i css-loader style-loader --svae-devnpm i less less-loader --save-dev 6.安装文件依赖引入图片就会有路径，要识别文件路径，例如导入图片1npm i file-loader url-loader --save-dev 7.安装引入组合依赖要生成一个已经引入好的HTML，还要装HTML插件(html-webpack-plugin)1npm i html-webpack-plugin --save-dev 8.安装webpack服务组装好的一个HTML文件也只能在WebStrom里面点击预览，开启浏览器，但不能看到真正线上的情况，要像生成一个地址，直接访问地址即可看到线上，就要安装webpack的一个服务的包1npm i webpack-dev-server --save-dev 9.配置package.json的脚本在初始化的文件夹下的package.json中的scripts对象中定义执行webpack的脚本 执行webpack实际上，只要安装了webpack，在node-models底下有一个bin文件，bin文件底下放了执行脚本的命令，那个命令执行的是webpack模块里面的bin，模块里面的bin执行的就是webpack的js文件 配置的文件一共有三个： .babelrc文件（第4步） webpack.config.js文件 package.json文件，主要的是里面的scripts对象，是一个json文件，要使用双引号，不可以写注释，也不能多写逗号（不然后面是空对象，会报错的） build对象，运行webpack的命令,相当于node下运行webpack.js那个文件 想让项目起服务就再加上dev，这个dev启动的就是webpack-dev-server,但是这个命令只会生成一个地址，不会自动打开浏览器，要自动打开浏览器，就要加上–open这个参数1234&quot;scripts&quot;:&#123; &quot;build&quot;:&quot;webpack&quot;, &quot;dev&quot;:&quot;webpack-dev-server --open&quot;&#125; 10.配置webpack.config.js文件12345678910111213141516171819202122let HtmlWebpackPlugin=require("html-webpack-plugin");module.exports=&#123; entry:"./src/main.js", output:&#123; filename:"build.js", path:__dirname+"/dist" &#125;, module:&#123; rules:[ &#123;test:/\.js$/,use:["babel-loader"],exclude:/node_modules/&#125;, &#123;test:/\.css$/,use:["style-loader","css-loader"]&#125;, &#123;test:/\.less$/,use:["style-loader","css-loader","less-loader"]&#125;, &#123;test:/\.(jpg|gif|png|jpeg)$/i,use:["url-loader?limit=5120"]&#125; ] &#125;, plugins:[ new HtmlWebpackPlugin(&#123; filename:"zf.html", template:"./src/index.html" &#125;) ]&#125;]]></content>
      <categories>
        <category>前端</category>
        <category>项目初始化</category>
      </categories>
      <tags>
        <tag>前端</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
</search>
